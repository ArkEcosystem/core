{"version":3,"sources":["../../node_modules/browser-pack-flat/_prelude","../core/lib/es-utils.js","../core/lib/validators.js","../core/config.js","src/config.js","../core/breadcrumb.js","../core/lib/infer-release-stage.js","../core/lib/iserror.js","../core/node_modules/iserror/index.js","../core/lib/run-before-send.js","../core/node_modules/stackframe/stackframe.js","../core/node_modules/error-stack-parser/error-stack-parser.js","../core/lib/error-stack-parser.js","../core/lib/has-stack.js","../core/node_modules/stack-generator/stack-generator.js","../core/report.js","../core/lib/js-runtime.js","../core/node_modules/@bugsnag/cuid/lib/pad.js","../core/node_modules/@bugsnag/cuid/lib/fingerprint.browser.js","../core/node_modules/@bugsnag/cuid/index.js","../core/session.js","../core/client.js","../core/lib/async-some.js","../core/node_modules/@bugsnag/safe-json-stringify/index.js","../core/lib/json-payload.js","../delivery-x-domain-request/delivery.js","../delivery-xml-http-request/delivery.js","../plugin-browser-context/context.js","../plugin-browser-device/device.js","../plugin-browser-request/request.js","../plugin-browser-session/session.js","../plugin-client-ip/client-ip.js","../plugin-console-breadcrumbs/console-breadcrumbs.js","../plugin-inline-script-content/inline-script-content.js","../plugin-interaction-breadcrumbs/interaction-breadcrumbs.js","../plugin-navigation-breadcrumbs/navigation-breadcrumbs.js","../plugin-network-breadcrumbs/network-breadcrumbs.js","../plugin-simple-throttle/throttle.js","../plugin-strip-query-string/strip-query-string.js","../plugin-window-onerror/onerror.js","../plugin-window-unhandled-rejection/unhandled-rejection.js","src/notifier.js","../../node_modules/browser-pack-flat/_postlude"],"names":["f","exports","module","define","amd","window","global","self","this","bugsnag","reduce","arr","fn","accum","val","i","len","length","_hasDontEnumBug","toString","propertyIsEnumerable","_dontEnums","_pad","n","_$esUtils_8","item","concat","x","obj","Object","prototype","call","d","Date","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","toFixed","slice","intRange","min","max","Infinity","value","parseInt","stringWithLength","__filter_5","__reduce_5","__keys_5","prop","result","hasOwnProperty","push","__isArray_5","__includes_5","_$validators_15","_$config_5","schema","apiKey","defaultValue","message","validate","appVersion","appType","autoNotify","beforeSend","endpoints","notify","sessions","autoCaptureSessions","k","opts","undefined","notifyReleaseStages","releaseStage","maxBreadcrumbs","autoBreadcrumbs","user","metaData","logger","method","filters","s","test","mergeDefaults","Error","key","errors","valid","__map_1","_$config_1","location","host","_extends","console","debug","getPrefixedConsole","consoleLog","consoleMethod","bind","__isoDate_3","_$BugsnagBreadcrumb_3","BugsnagBreadcrumb","name","type","timestamp","toJSON","_$inferReleaseStage_10","client","app","config","_$iserror_11","isError","shouldPreventSend","report","isIgnored","root","factory","_$stackframe_23","StackFrame","_isNumber","isNaN","parseFloat","isFinite","_capitalize","str","charAt","toUpperCase","substring","_getter","p","booleanProps","numericProps","stringProps","props","getArgs","args","setArgs","v","TypeError","getEvalOrigin","evalOrigin","setEvalOrigin","getFunctionName","join","getFileName","getLineNumber","getColumnNumber","Boolean","j","Number","String","_$errorStackParser_20","ErrorStackParser","FIREFOX_SAFARI_STACK_REGEXP","CHROME_IE_STACK_REGEXP","SAFARI_NATIVE_CODE_REGEXP","parse","error","stacktrace","parseOpera","stack","match","parseV8OrIE","parseFFOrSafari","extractLocation","urlLike","indexOf","parts","exec","replace","split","filter","line","map","sanitizedLine","tokens","locationParts","pop","functionName","fileName","lineNumber","columnNumber","source","functionNameRegex","matches","e","parseOpera9","parseOpera11","parseOpera10","lineRE","lines","argsRaw","functionCall","shift","_$errorStackParser_7","_$hasStack_9","err","_$stackGenerator_22","StackGenerator","backtrace","maxStackSize","curr","arguments","callee","Array","RegExp","$1","caller","__reduce_24","__filter_24","BugsnagReport","errorClass","errorMessage","handledState","originalError","defaultHandledState","__isBugsnagReport","_ignored","_handledState","breadcrumbs","context","device","stringOrFallback","groupingHash","request","severity","frame","formatStackframe","JSON","stringify","session","ignore","updateMetaData","section","_updates","updates","removeMetaData","___extends_24","property","payloadVersion","exceptions","unhandled","severityReason","file","normaliseFunctionName","code","inProject","fallback","getStacktrace","errorFramesToSkip","generatedFramesToSkip","ensureReport","reportOrError","_$BugsnagReport_24","_$pad_18","num","size","substr","env","globalCount","mimeTypesLength","navigator","mimeTypes","clientId","userAgent","_$fingerprint_17","c","blockSize","base","discreteValues","Math","pow","randomBlock","random","cuid","getTime","safeCounter","fingerprint","_$cuid_16","__isoDate_25","_$Session_25","Session","id","startedAt","_handled","_unhandled","events","handled","trackError","__map_4","__includes_4","__isArray_4","BugsnagClient","notifier","version","url","_configured","_opts","_delivery","sendSession","sendReport","_logger","info","warn","_plugins","_session","BugsnagSession","apply","setOptions","___extends_4","configure","partialSchema","conf","validity","generateConfigErrorMessage","use","plugin","configSchema","_len","_key","init","getPlugin","delivery","l","sid","sessionDelegate","_sessionDelegate","startSession","leaveBreadcrumb","crumb","cb","_this","_normaliseError","normaliseError","index","next","onError","originalSeverity","onBeforeSendErr","ret","then","setTimeout","preventSend","createAndLogUsageError","reason","msg","generateNotifyUsageMessage","LOG_USAGE_ERR_PREFIX","REPORT_USAGE_ERR_PREFIX","notifyArgs","hasNecessaryFields","actual","_$BugsnagClient_4","_$safeJsonStringify_19","data","replacer","space","filterKeys","filterPaths","prepareObjForSerialization","seen","edges","visit","path","edgesExceeded","MIN_PRESERVED_DEPTH","MAX_EDGES","MAX_DEPTH","REPLACEMENT_NODE","find","fResult","throwsMessage","er","o","eResult","aResult","isDescendent","shouldFilter","safelyGetProp","haystack","needle","paths","patterns","REPORT_FILTER_PATHS","SESSION_FILTER_PATHS","_$jsonPayload_13","payload","__isoDate_26","_$delivery_26","win","getApiUrl","req","XDomainRequest","onload","open","send","endpoint","matchPageProtocol","protocol","encodeURIComponent","_matchPageProtocol","pageProtocol","__isoDate_27","_$delivery_27","XMLHttpRequest","onreadystatechange","readyState","DONE","setRequestHeader","_$context_28","unshift","pathname","__isoDate_29","_$device_29","nav","locale","browserLanguage","systemLanguage","userLanguage","language","___extends_29","time","_$request_30","___extends_30","href","__isArray_31","__includes_31","_$session_31","sessionClient","___extends_31","_$clientIp_32","collectUserIp","___extends_32","clientIp","__map_33","__reduce_33","__filter_33","_$consoleBreadcrumbs_33","isDev","explicitlyDisabled","consoleBreadcrumbsEnabled","implicitlyDisabled","CONSOLE_LOG_METHODS","original","arg","stringified","_restore","__map_34","__reduce_34","__filter_34","_$inlineScriptContent_34","doc","document","trackInlineScripts","originalLocation","html","DOMContentLoaded","getHtml","documentElement","outerHTML","prev","_lastScript","updateLastScript","script","getCurrentScript","currentScript","scripts","getElementsByTagName","content","innerHTML","htmlLines","zeroBasedLine","start","end","addSurroundingCode","_setTimeout","__proxy","__traceOriginalScript","get","eventTargetCallbackAccessor","callbackAccessor","alsoCallOriginal","cba","__trace__","replacement","isEventHandlerObj","handleEvent","_$interactionBreadcrumbs_35","interactionBreadcrumbsEnabled","addEventListener","event","targetText","targetSelector","getNodeText","target","getNodeSelector","el","tagName","className","querySelectorAll","parentNode","childNodes","text","textContent","innerText","truncate","navigationBreadcrumbsEnabled","drop","oldURL","from","relativeLocation","to","newURL","state","getCurrentState","history","replaceState","wrapHistoryFn","pushState","_$navigationBreadcrumbs_36","getIgnoredUrls","a","createElement","search","hash","orig","title","currentPath","prevState","refresh","BREADCRUMB_TYPE","REQUEST_URL_KEY","REQUEST_METHOD_KEY","__includes_37","defaultIgnoredUrls","_$networkBreadcrumbs_37","_client","_getIgnoredUrls","_win","networkBreadcrumbsEnabled","monkeyPatchXMLHttpRequest","monkeyPatchFetch","nativeOpen","removeEventListener","handleXHRLoad","handleXHRError","status","fetch","polyfill","oldFetch","options","Promise","resolve","reject","response","handleFetchSuccess","handleFetchError","__intRange_38","_$throttle_38","maxEvents","__map_39","strip","_$stripQueryString_39","___extends_39","_strip","_$onerror_40","prevOnError","onerror","messageOrEvent","lineNo","charNo","decorateStack","detail","extraParameters","culprit","setFileName","isActualNumber","setLineNumber","setColumnNumber","errorCharacter","__reduce_41","_$unhandledRejection_41","listener","isBluebird","fixBluebirdStacktrace","serializableReason","onunhandledrejection","promise","_ref","__schema_2","___extends_2","_$notifier_2","warningMessage","Bugsnag","Client","Report","Breadcrumb"],"mappings":"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","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.bugsnag = f()}})(function(){var define,module,exports;\n","// minimal implementations of useful ES functionality\n\n// all we really need for arrays is reduce  everything else is just sugar!\n\n// Array#reduce\nconst reduce = (arr, fn, accum) => {\n  let val = accum\n  for (let i = 0, len = arr.length; i < len; i++) val = fn(val, arr[i], i, arr)\n  return val\n}\n\n// Array#filter\nconst filter = (arr, fn) =>\n  reduce(arr, (accum, item, i, arr) => !fn(item, i, arr) ? accum : accum.concat(item), [])\n\n// Array#map\nconst map = (arr, fn) =>\n  reduce(arr, (accum, item, i, arr) => accum.concat(fn(item, i, arr)), [])\n\n// Array#includes\nconst includes = (arr, x) =>\n  reduce(arr, (accum, item, i, arr) => accum === true || item === x, false)\n\nconst _hasDontEnumBug = !({ toString: null }).propertyIsEnumerable('toString')\nconst _dontEnums = [\n  'toString', 'toLocaleString', 'valueOf', 'hasOwnProperty',\n  'isPrototypeOf', 'propertyIsEnumerable', 'constructor'\n]\n\n// Object#keys\nconst keys = obj => {\n  // stripped down version of\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/Keys\n  const result = []\n  let prop\n  for (prop in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, prop)) result.push(prop)\n  }\n  if (!_hasDontEnumBug) return result\n  for (let i = 0, len = _dontEnums.length; i < len; i++) {\n    if (Object.prototype.hasOwnProperty.call(obj, _dontEnums[i])) result.push(_dontEnums[i])\n  }\n  return result\n}\n\n// Array#isArray\nconst isArray = obj => Object.prototype.toString.call(obj) === '[object Array]'\n\nconst _pad = n => n < 10 ? `0${n}` : n\n\n// Date#toISOString\nconst isoDate = () => {\n  // from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString\n  const d = new Date()\n  return d.getUTCFullYear() +\n    '-' + _pad(d.getUTCMonth() + 1) +\n    '-' + _pad(d.getUTCDate()) +\n    'T' + _pad(d.getUTCHours()) +\n    ':' + _pad(d.getUTCMinutes()) +\n    ':' + _pad(d.getUTCSeconds()) +\n    '.' + (d.getUTCMilliseconds() / 1000).toFixed(3).slice(2, 5) +\n    'Z'\n}\n\nmodule.exports = { map, reduce, filter, includes, keys, isArray, isoDate }\n","exports.intRange = (min = 1, max = Infinity) => value =>\n  typeof value === 'number' &&\n  parseInt('' + value, 10) === value &&\n  value >= min && value <= max\n\nexports.stringWithLength = value => typeof value === 'string' && !!value.length\n","const { filter, reduce, keys, isArray, includes } = require('./lib/es-utils')\nconst { intRange, stringWithLength } = require('./lib/validators')\n\nmodule.exports.schema = {\n  apiKey: {\n    defaultValue: () => null,\n    message: 'is required',\n    validate: stringWithLength\n  },\n  appVersion: {\n    defaultValue: () => null,\n    message: 'should be a string',\n    validate: value => value === null || stringWithLength(value)\n  },\n  appType: {\n    defaultValue: () => null,\n    message: 'should be a string',\n    validate: value => value === null || stringWithLength(value)\n  },\n  autoNotify: {\n    defaultValue: () => true,\n    message: 'should be true|false',\n    validate: value => value === true || value === false\n  },\n  beforeSend: {\n    defaultValue: () => [],\n    message: 'should be a function or array of functions',\n    validate: value => typeof value === 'function' || (isArray(value) && filter(value, f => typeof f === 'function').length === value.length)\n  },\n  endpoints: {\n    defaultValue: () => ({\n      notify: 'https://notify.bugsnag.com',\n      sessions: 'https://sessions.bugsnag.com'\n    }),\n    message: 'should be an object containing endpoint URLs { notify, sessions }. sessions is optional if autoCaptureSessions=false',\n    validate: (val, obj) =>\n      // first, ensure it's an object\n      (val && typeof val === 'object') &&\n      (\n        // endpoints.notify must always be set\n        stringWithLength(val.notify) &&\n        // endpoints.sessions must be set unless session tracking is explicitly off\n        (obj.autoCaptureSessions === false || stringWithLength(val.sessions))\n      ) &&\n      // ensure no keys other than notify/session are set on endpoints object\n      filter(keys(val), k => !includes([ 'notify', 'sessions' ], k)).length === 0\n  },\n  autoCaptureSessions: {\n    defaultValue: (val, opts) => opts.endpoints === undefined || (!!opts.endpoints && !!opts.endpoints.sessions),\n    message: 'should be true|false',\n    validate: val => val === true || val === false\n  },\n  notifyReleaseStages: {\n    defaultValue: () => null,\n    message: 'should be an array of strings',\n    validate: value => value === null || (isArray(value) && filter(value, f => typeof f === 'string').length === value.length)\n  },\n  releaseStage: {\n    defaultValue: () => 'production',\n    message: 'should be a string',\n    validate: value => typeof value === 'string' && value.length\n  },\n  maxBreadcrumbs: {\n    defaultValue: () => 20,\n    message: 'should be a number 40',\n    validate: value => intRange(0, 40)(value)\n  },\n  autoBreadcrumbs: {\n    defaultValue: () => true,\n    message: 'should be true|false',\n    validate: (value) => typeof value === 'boolean'\n  },\n  user: {\n    defaultValue: () => null,\n    message: '(object) user should be an object',\n    validate: (value) => typeof value === 'object'\n  },\n  metaData: {\n    defaultValue: () => null,\n    message: 'should be an object',\n    validate: (value) => typeof value === 'object'\n  },\n  logger: {\n    defaultValue: () => undefined,\n    message: 'should be null or an object with methods { debug, info, warn, error }',\n    validate: value =>\n      (!value) ||\n      (value && reduce(\n        [ 'debug', 'info', 'warn', 'error' ],\n        (accum, method) => accum && typeof value[method] === 'function',\n        true\n      ))\n  },\n  filters: {\n    defaultValue: () => [ 'password' ],\n    message: 'should be an array of strings|regexes',\n    validate: value =>\n      isArray(value) && value.length === filter(value, s =>\n        (typeof s === 'string' || (s && typeof s.test === 'function'))\n      ).length\n  }\n}\n\nmodule.exports.mergeDefaults = (opts, schema) => {\n  if (!opts || !schema) throw new Error('opts and schema objects are required')\n  return reduce(keys(schema), (accum, key) => {\n    accum[key] = opts[key] !== undefined ? opts[key] : schema[key].defaultValue(opts[key], opts)\n    return accum\n  }, {})\n}\n\nmodule.exports.validate = (opts, schema) => {\n  if (!opts || !schema) throw new Error('opts and schema objects are required')\n  const errors = reduce(keys(schema), (accum, key) => {\n    if (schema[key].validate(opts[key], opts)) return accum\n    return accum.concat({ key, message: schema[key].message, value: opts[key] })\n  }, [])\n  return { valid: !errors.length, errors }\n}\n","const { schema } = require('@bugsnag/core/config')\nconst { map } = require('@bugsnag/core/lib/es-utils')\nconst { stringWithLength } = require('@bugsnag/core/lib/validators')\n\nmodule.exports = {\n  releaseStage: {\n    defaultValue: () => {\n      if (/^localhost(:\\d+)?$/.test(window.location.host)) return 'development'\n      return 'production'\n    },\n    message: 'should be set',\n    validate: stringWithLength\n  },\n  logger: {\n    ...schema.logger,\n    defaultValue: () =>\n      // set logger based on browser capability\n      (typeof console !== 'undefined' && typeof console.debug === 'function')\n        ? getPrefixedConsole()\n        : undefined\n  }\n}\n\nconst getPrefixedConsole = () => {\n  const logger = {}\n  const consoleLog = console['log']\n  map([ 'debug', 'info', 'warn', 'error' ], (method) => {\n    const consoleMethod = console[method]\n    logger[method] = typeof consoleMethod === 'function'\n      ? consoleMethod.bind(console, '[bugsnag]')\n      : consoleLog.bind(console, '[bugsnag]')\n  })\n  return logger\n}\n","const { isoDate } = require('./lib/es-utils')\n\nclass BugsnagBreadcrumb {\n  constructor (name = '[anonymous]', metaData = {}, type = 'manual', timestamp = isoDate()) {\n    this.type = type\n    this.name = name\n    this.metaData = metaData\n    this.timestamp = timestamp\n  }\n\n  toJSON () {\n    return {\n      type: this.type,\n      name: this.name,\n      timestamp: this.timestamp,\n      metaData: this.metaData\n    }\n  }\n}\n\nmodule.exports = BugsnagBreadcrumb\n","module.exports = client =>\n  client.app && typeof client.app.releaseStage === 'string'\n    ? client.app.releaseStage\n    : client.config.releaseStage\n","module.exports = require('iserror')\n","\n/**\n * Expose `isError`.\n */\n\nmodule.exports = isError;\n\n/**\n * Test whether `value` is error object.\n *\n * @param {*} value\n * @returns {boolean}\n */\n\nfunction isError(value) {\n  switch (Object.prototype.toString.call(value)) {\n    case '[object Error]': return true;\n    case '[object Exception]': return true;\n    case '[object DOMException]': return true;\n    default: return value instanceof Error;\n  }\n}\n","module.exports = (report, onError) => (fn, cb) => {\n  if (typeof fn !== 'function') return cb(null, false)\n  try {\n    // if function appears sync\n    if (fn.length !== 2) {\n      const ret = fn(report)\n      // check if it returned a \"thenable\" (promise)\n      if (ret && typeof ret.then === 'function') {\n        return ret.then(\n          // resolve\n          val => setTimeout(() => cb(null, shouldPreventSend(report, val)), 0),\n          // reject\n          err => {\n            setTimeout(() => {\n              onError(err)\n              return cb(null, false)\n            })\n          }\n        )\n      }\n      return cb(null, shouldPreventSend(report, ret))\n    }\n    // if function is async\n    fn(report, (err, result) => {\n      if (err) {\n        onError(err)\n        return cb(null, false)\n      }\n      cb(null, shouldPreventSend(report, result))\n    })\n  } catch (e) {\n    onError(e)\n    cb(null, false)\n  }\n}\n\nconst shouldPreventSend = (report, value) => report.isIgnored() || value === false\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stackframe', [], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.StackFrame = factory();\n    }\n}(this, function() {\n    'use strict';\n    function _isNumber(n) {\n        return !isNaN(parseFloat(n)) && isFinite(n);\n    }\n\n    function _capitalize(str) {\n        return str.charAt(0).toUpperCase() + str.substring(1);\n    }\n\n    function _getter(p) {\n        return function() {\n            return this[p];\n        };\n    }\n\n    var booleanProps = ['isConstructor', 'isEval', 'isNative', 'isToplevel'];\n    var numericProps = ['columnNumber', 'lineNumber'];\n    var stringProps = ['fileName', 'functionName', 'source'];\n    var arrayProps = ['args'];\n\n    var props = booleanProps.concat(numericProps, stringProps, arrayProps);\n\n    function StackFrame(obj) {\n        if (obj instanceof Object) {\n            for (var i = 0; i < props.length; i++) {\n                if (obj.hasOwnProperty(props[i]) && obj[props[i]] !== undefined) {\n                    this['set' + _capitalize(props[i])](obj[props[i]]);\n                }\n            }\n        }\n    }\n\n    StackFrame.prototype = {\n        getArgs: function() {\n            return this.args;\n        },\n        setArgs: function(v) {\n            if (Object.prototype.toString.call(v) !== '[object Array]') {\n                throw new TypeError('Args must be an Array');\n            }\n            this.args = v;\n        },\n\n        getEvalOrigin: function() {\n            return this.evalOrigin;\n        },\n        setEvalOrigin: function(v) {\n            if (v instanceof StackFrame) {\n                this.evalOrigin = v;\n            } else if (v instanceof Object) {\n                this.evalOrigin = new StackFrame(v);\n            } else {\n                throw new TypeError('Eval Origin must be an Object or StackFrame');\n            }\n        },\n\n        toString: function() {\n            var functionName = this.getFunctionName() || '{anonymous}';\n            var args = '(' + (this.getArgs() || []).join(',') + ')';\n            var fileName = this.getFileName() ? ('@' + this.getFileName()) : '';\n            var lineNumber = _isNumber(this.getLineNumber()) ? (':' + this.getLineNumber()) : '';\n            var columnNumber = _isNumber(this.getColumnNumber()) ? (':' + this.getColumnNumber()) : '';\n            return functionName + args + fileName + lineNumber + columnNumber;\n        }\n    };\n\n    for (var i = 0; i < booleanProps.length; i++) {\n        StackFrame.prototype['get' + _capitalize(booleanProps[i])] = _getter(booleanProps[i]);\n        StackFrame.prototype['set' + _capitalize(booleanProps[i])] = (function(p) {\n            return function(v) {\n                this[p] = Boolean(v);\n            };\n        })(booleanProps[i]);\n    }\n\n    for (var j = 0; j < numericProps.length; j++) {\n        StackFrame.prototype['get' + _capitalize(numericProps[j])] = _getter(numericProps[j]);\n        StackFrame.prototype['set' + _capitalize(numericProps[j])] = (function(p) {\n            return function(v) {\n                if (!_isNumber(v)) {\n                    throw new TypeError(p + ' must be a Number');\n                }\n                this[p] = Number(v);\n            };\n        })(numericProps[j]);\n    }\n\n    for (var k = 0; k < stringProps.length; k++) {\n        StackFrame.prototype['get' + _capitalize(stringProps[k])] = _getter(stringProps[k]);\n        StackFrame.prototype['set' + _capitalize(stringProps[k])] = (function(p) {\n            return function(v) {\n                this[p] = String(v);\n            };\n        })(stringProps[k]);\n    }\n\n    return StackFrame;\n}));\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('error-stack-parser', ['stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('stackframe'));\n    } else {\n        root.ErrorStackParser = factory(root.StackFrame);\n    }\n}(this, function ErrorStackParser(StackFrame) {\n    'use strict';\n\n    var FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+\\:\\d+/;\n    var CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+\\:\\d+|\\(native\\))/m;\n    var SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code\\])?$/;\n\n    return {\n        /**\n         * Given an Error object, extract the most information from it.\n         *\n         * @param {Error} error object\n         * @return {Array} of StackFrames\n         */\n        parse: function ErrorStackParser$$parse(error) {\n            if (typeof error.stacktrace !== 'undefined' || typeof error['opera#sourceloc'] !== 'undefined') {\n                return this.parseOpera(error);\n            } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\n                return this.parseV8OrIE(error);\n            } else if (error.stack) {\n                return this.parseFFOrSafari(error);\n            } else {\n                throw new Error('Cannot parse given Error object');\n            }\n        },\n\n        // Separate line and column numbers from a string of the form: (URI:Line:Column)\n        extractLocation: function ErrorStackParser$$extractLocation(urlLike) {\n            // Fail-fast but return locations like \"(native)\"\n            if (urlLike.indexOf(':') === -1) {\n                return [urlLike];\n            }\n\n            var regExp = /(.+?)(?:\\:(\\d+))?(?:\\:(\\d+))?$/;\n            var parts = regExp.exec(urlLike.replace(/[\\(\\)]/g, ''));\n            return [parts[1], parts[2] || undefined, parts[3] || undefined];\n        },\n\n        parseV8OrIE: function ErrorStackParser$$parseV8OrIE(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(CHROME_IE_STACK_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                if (line.indexOf('(eval ') > -1) {\n                    // Throw away eval information until we implement stacktrace.js/stackframe#8\n                    line = line.replace(/eval code/g, 'eval').replace(/(\\(eval at [^\\()]*)|(\\)\\,.*$)/g, '');\n                }\n                var sanitizedLine = line.replace(/^\\s+/, '').replace(/\\(eval code/g, '(');\n\n                // capture and preseve the parenthesized location \"(/foo/my bar.js:12:87)\" in\n                // case it has spaces in it, as the string is split on \\s+ later on\n                var location = sanitizedLine.match(/ (\\((.+):(\\d+):(\\d+)\\)$)/);\n\n                // remove the parenthesized location from the line, if it was matched\n                sanitizedLine = location ? sanitizedLine.replace(location[0], '') : sanitizedLine;\n\n                var tokens = sanitizedLine.split(/\\s+/).slice(1);\n                // if a location was matched, pass it to extractLocation() otherwise pop the last token\n                var locationParts = this.extractLocation(location ? location[1] : tokens.pop());\n                var functionName = tokens.join(' ') || undefined;\n                var fileName = ['eval', '<anonymous>'].indexOf(locationParts[0]) > -1 ? undefined : locationParts[0];\n\n                return new StackFrame({\n                    functionName: functionName,\n                    fileName: fileName,\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        },\n\n        parseFFOrSafari: function ErrorStackParser$$parseFFOrSafari(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                // Throw away eval information until we implement stacktrace.js/stackframe#8\n                if (line.indexOf(' > eval') > -1) {\n                    line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval\\:\\d+\\:\\d+/g, ':$1');\n                }\n\n                if (line.indexOf('@') === -1 && line.indexOf(':') === -1) {\n                    // Safari eval frames only have function names and nothing else\n                    return new StackFrame({\n                        functionName: line\n                    });\n                } else {\n                    var functionNameRegex = /((.*\".+\"[^@]*)?[^@]*)(?:@)/;\n                    var matches = line.match(functionNameRegex);\n                    var functionName = matches && matches[1] ? matches[1] : undefined;\n                    var locationParts = this.extractLocation(line.replace(functionNameRegex, ''));\n\n                    return new StackFrame({\n                        functionName: functionName,\n                        fileName: locationParts[0],\n                        lineNumber: locationParts[1],\n                        columnNumber: locationParts[2],\n                        source: line\n                    });\n                }\n            }, this);\n        },\n\n        parseOpera: function ErrorStackParser$$parseOpera(e) {\n            if (!e.stacktrace || (e.message.indexOf('\\n') > -1 &&\n                e.message.split('\\n').length > e.stacktrace.split('\\n').length)) {\n                return this.parseOpera9(e);\n            } else if (!e.stack) {\n                return this.parseOpera10(e);\n            } else {\n                return this.parseOpera11(e);\n            }\n        },\n\n        parseOpera9: function ErrorStackParser$$parseOpera9(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n            var lines = e.message.split('\\n');\n            var result = [];\n\n            for (var i = 2, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(new StackFrame({\n                        fileName: match[2],\n                        lineNumber: match[1],\n                        source: lines[i]\n                    }));\n                }\n            }\n\n            return result;\n        },\n\n        parseOpera10: function ErrorStackParser$$parseOpera10(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n            var lines = e.stacktrace.split('\\n');\n            var result = [];\n\n            for (var i = 0, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(\n                        new StackFrame({\n                            functionName: match[3] || undefined,\n                            fileName: match[2],\n                            lineNumber: match[1],\n                            source: lines[i]\n                        })\n                    );\n                }\n            }\n\n            return result;\n        },\n\n        // Opera 10.65+ Error.stack very similar to FF/Safari\n        parseOpera11: function ErrorStackParser$$parseOpera11(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n            }, this);\n\n            return filtered.map(function(line) {\n                var tokens = line.split('@');\n                var locationParts = this.extractLocation(tokens.pop());\n                var functionCall = (tokens.shift() || '');\n                var functionName = functionCall\n                        .replace(/<anonymous function(: (\\w+))?>/, '$2')\n                        .replace(/\\([^\\)]*\\)/g, '') || undefined;\n                var argsRaw;\n                if (functionCall.match(/\\(([^\\)]*)\\)/)) {\n                    argsRaw = functionCall.replace(/^[^\\(]+\\(([^\\)]*)\\)$/, '$1');\n                }\n                var args = (argsRaw === undefined || argsRaw === '[arguments not available]') ?\n                    undefined : argsRaw.split(',');\n\n                return new StackFrame({\n                    functionName: functionName,\n                    args: args,\n                    fileName: locationParts[0],\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        }\n    };\n}));\n","module.exports = require('error-stack-parser')\n","// Given `err` which may be an error, does it have a stack property which is a string?\nmodule.exports = err =>\n  !!err &&\n  (!!err.stack || !!err.stacktrace || !!err['opera#sourceloc']) &&\n  typeof (err.stack || err.stacktrace || err['opera#sourceloc']) === 'string' &&\n  err.stack !== `${err.name}: ${err.message}`\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stack-generator', ['stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('stackframe'));\n    } else {\n        root.StackGenerator = factory(root.StackFrame);\n    }\n}(this, function(StackFrame) {\n    return {\n        backtrace: function StackGenerator$$backtrace(opts) {\n            var stack = [];\n            var maxStackSize = 10;\n\n            if (typeof opts === 'object' && typeof opts.maxStackSize === 'number') {\n                maxStackSize = opts.maxStackSize;\n            }\n\n            var curr = arguments.callee;\n            while (curr && stack.length < maxStackSize && curr['arguments']) {\n                // Allow V8 optimizations\n                var args = new Array(curr['arguments'].length);\n                for (var i = 0; i < args.length; ++i) {\n                    args[i] = curr['arguments'][i];\n                }\n                if (/function(?:\\s+([\\w$]+))+\\s*\\(/.test(curr.toString())) {\n                    stack.push(new StackFrame({functionName: RegExp.$1 || undefined, args: args}));\n                } else {\n                    stack.push(new StackFrame({args: args}));\n                }\n\n                try {\n                    curr = curr.caller;\n                } catch (e) {\n                    break;\n                }\n            }\n            return stack;\n        }\n    };\n}));\n","const ErrorStackParser = require('./lib/error-stack-parser')\nconst StackGenerator = require('stack-generator')\nconst hasStack = require('./lib/has-stack')\nconst { reduce, filter } = require('./lib/es-utils')\nconst jsRuntime = require('./lib/js-runtime')\n\nclass BugsnagReport {\n  constructor (errorClass, errorMessage, stacktrace = [], handledState = defaultHandledState(), originalError) {\n    // duck-typing ftw >_<\n    this.__isBugsnagReport = true\n\n    this._ignored = false\n\n    // private (un)handled state\n    this._handledState = handledState\n\n    // setable props\n    this.app = undefined\n    this.apiKey = undefined\n    this.breadcrumbs = []\n    this.context = undefined\n    this.device = undefined\n    this.errorClass = stringOrFallback(errorClass, '[no error class]')\n    this.errorMessage = stringOrFallback(errorMessage, '[no error message]')\n    this.groupingHash = undefined\n    this.metaData = {}\n    this.request = undefined\n    this.severity = this._handledState.severity\n    this.stacktrace = reduce(stacktrace, (accum, frame) => {\n      const f = formatStackframe(frame)\n      // don't include a stackframe if none of its properties are defined\n      try {\n        if (JSON.stringify(f) === '{}') return accum\n        return accum.concat(f)\n      } catch (e) {\n        return accum\n      }\n    }, [])\n    this.user = undefined\n    this.session = undefined\n    this.originalError = originalError\n\n    // Flags.\n    // Note these are not initialised unless they are used\n    // to save unnecessary bytes in the browser bundle\n\n    /* this.attemptImmediateDelivery, default: true */\n  }\n\n  ignore () {\n    this._ignored = true\n  }\n\n  isIgnored () {\n    return this._ignored\n  }\n\n  updateMetaData (section, ...args) {\n    if (!section) return this\n    let updates\n\n    // updateMetaData(\"section\", null) -> removes section\n    if (args[0] === null) return this.removeMetaData(section)\n\n    // updateMetaData(\"section\", \"property\", null) -> removes property from section\n    if (args[1] === null) return this.removeMetaData(section, args[0], args[1])\n\n    // normalise the two supported input types into object form\n    if (typeof args[0] === 'object') updates = args[0]\n    if (typeof args[0] === 'string') updates = { [args[0]]: args[1] }\n\n    // exit if we don't have an updates object at this point\n    if (!updates) return this\n\n    // ensure a section with this name exists\n    if (!this.metaData[section]) this.metaData[section] = {}\n\n    // merge the updates with the existing section\n    this.metaData[section] = { ...this.metaData[section], ...updates }\n\n    return this\n  }\n\n  removeMetaData (section, property) {\n    if (typeof section !== 'string') return this\n\n    // remove an entire section\n    if (!property) {\n      delete this.metaData[section]\n      return this\n    }\n\n    // remove a single property from a section\n    if (this.metaData[section]) {\n      delete this.metaData[section][property]\n      return this\n    }\n\n    return this\n  }\n\n  toJSON () {\n    return {\n      payloadVersion: '4',\n      exceptions: [\n        {\n          errorClass: this.errorClass,\n          message: this.errorMessage,\n          stacktrace: this.stacktrace,\n          type: jsRuntime\n        }\n      ],\n      severity: this.severity,\n      unhandled: this._handledState.unhandled,\n      severityReason: this._handledState.severityReason,\n      app: this.app,\n      device: this.device,\n      breadcrumbs: this.breadcrumbs,\n      context: this.context,\n      user: this.user,\n      metaData: this.metaData,\n      groupingHash: this.groupingHash,\n      request: this.request,\n      session: this.session\n    }\n  }\n}\n\n// takes a stacktrace.js style stackframe (https://github.com/stacktracejs/stackframe)\n// and returns a Bugsnag compatible stackframe (https://docs.bugsnag.com/api/error-reporting/#json-payload)\nconst formatStackframe = frame => {\n  const f = {\n    file: frame.fileName,\n    method: normaliseFunctionName(frame.functionName),\n    lineNumber: frame.lineNumber,\n    columnNumber: frame.columnNumber,\n    code: undefined,\n    inProject: undefined\n  }\n  // Some instances result in no file:\n  // - calling notify() from chrome's terminal results in no file/method.\n  // - non-error exception thrown from global code in FF\n  // This adds one.\n  if (f.lineNumber > -1 && !f.file && !f.method) {\n    f.file = 'global code'\n  }\n  return f\n}\n\nconst normaliseFunctionName = name => /^global code$/i.test(name) ? 'global code' : name\n\nconst defaultHandledState = () => ({\n  unhandled: false,\n  severity: 'warning',\n  severityReason: { type: 'handledException' }\n})\n\nconst stringOrFallback = (str, fallback) => typeof str === 'string' && str ? str : fallback\n\n// Helpers\n\nBugsnagReport.getStacktrace = function (error, errorFramesToSkip = 0, generatedFramesToSkip = 0) {\n  if (hasStack(error)) return ErrorStackParser.parse(error).slice(errorFramesToSkip)\n  // in IE11 a new Error() doesn't have a stacktrace until you throw it, so try that here\n  try {\n    throw error\n  } catch (e) {\n    if (hasStack(e)) return ErrorStackParser.parse(error).slice(1 + generatedFramesToSkip)\n    // error wasn't provided or didn't have a stacktrace so try to walk the callstack\n    try {\n      return filter(StackGenerator.backtrace(), frame =>\n        (frame.functionName || '').indexOf('StackGenerator$$') === -1\n      ).slice(1 + generatedFramesToSkip)\n    } catch (e) {\n      return []\n    }\n  }\n}\n\nBugsnagReport.ensureReport = function (reportOrError, errorFramesToSkip = 0, generatedFramesToSkip = 0) {\n  // notify() can be called with a Report object. In this case no action is required\n  if (reportOrError.__isBugsnagReport) return reportOrError\n  try {\n    const stacktrace = BugsnagReport.getStacktrace(reportOrError, errorFramesToSkip, 1 + generatedFramesToSkip)\n    return new BugsnagReport(reportOrError.name, reportOrError.message, stacktrace, undefined, reportOrError)\n  } catch (e) {\n    return new BugsnagReport(reportOrError.name, reportOrError.message, [], undefined, reportOrError)\n  }\n}\n\nmodule.exports = BugsnagReport\n","module.exports = process.env.IS_BROWSER\n  ? 'browserjs'\n  : ((typeof navigator !== 'undefined' && navigator.product === 'ReactNative')\n    ? (typeof Expo !== 'undefined' ? 'expojs' : 'reactnativejs')\n    : 'nodejs')\n","module.exports = function pad (num, size) {\n  var s = '000000000' + num;\n  return s.substr(s.length - size);\n};\n","var pad = require('./pad.js');\n\nvar env = typeof window === 'object' ? window : self;\nvar globalCount = 0;\nfor (var prop in env) {\n  if (Object.hasOwnProperty.call(env, prop)) globalCount++;\n}\nvar mimeTypesLength = navigator.mimeTypes ? navigator.mimeTypes.length : 0;\nvar clientId = pad((mimeTypesLength +\n  navigator.userAgent.length).toString(36) +\n  globalCount.toString(36), 4);\n\nmodule.exports = function fingerprint () {\n  return clientId;\n};\n","/**\n * cuid.js\n * Collision-resistant UID generator for browsers and node.\n * Sequential for fast db lookups and recency sorting.\n * Safe for element IDs and server-side lookups.\n *\n * Extracted from CLCTR\n *\n * Copyright (c) Eric Elliott 2012\n * MIT License\n */\n\nvar fingerprint = require('./lib/fingerprint.js');\nvar pad = require('./lib/pad.js');\n\nvar c = 0,\n  blockSize = 4,\n  base = 36,\n  discreteValues = Math.pow(base, blockSize);\n\nfunction randomBlock () {\n  return pad((Math.random() *\n    discreteValues << 0)\n    .toString(base), blockSize);\n}\n\nfunction safeCounter () {\n  c = c < discreteValues ? c : 0;\n  c++; // this is not subliminal\n  return c - 1;\n}\n\nfunction cuid () {\n  // Starting with a lowercase letter makes\n  // it HTML element ID friendly.\n  var letter = 'c', // hard-coded allows for sequential access\n\n    // timestamp\n    // warning: this exposes the exact date and time\n    // that the uid was created.\n    timestamp = (new Date().getTime()).toString(base),\n\n    // Prevent same-machine collisions.\n    counter = pad(safeCounter().toString(base), blockSize),\n\n    // A few chars to generate distinct ids for different\n    // clients (so different computers are far less\n    // likely to generate the same id)\n    print = fingerprint(),\n\n    // Grab some more chars from Math.random()\n    random = randomBlock() + randomBlock();\n\n  return letter + timestamp + counter + print + random;\n}\n\ncuid.fingerprint = fingerprint;\n\nmodule.exports = cuid;\n","const { isoDate } = require('./lib/es-utils')\nconst cuid = require('@bugsnag/cuid')\n\nclass Session {\n  constructor () {\n    this.id = cuid()\n    this.startedAt = isoDate()\n    this._handled = 0\n    this._unhandled = 0\n  }\n  toJSON () {\n    return {\n      id: this.id,\n      startedAt: this.startedAt,\n      events: { handled: this._handled, unhandled: this._unhandled }\n    }\n  }\n  trackError (report) {\n    this[report._handledState.unhandled ? '_unhandled' : '_handled'] += 1\n  }\n}\n\nmodule.exports = Session\n","const config = require('./config')\nconst BugsnagReport = require('./report')\nconst BugsnagBreadcrumb = require('./breadcrumb')\nconst BugsnagSession = require('./session')\nconst { map, includes, isArray } = require('./lib/es-utils')\nconst inferReleaseStage = require('./lib/infer-release-stage')\nconst isError = require('./lib/iserror')\nconst some = require('./lib/async-some')\nconst runBeforeSend = require('./lib/run-before-send')\n\nconst LOG_USAGE_ERR_PREFIX = `Usage error.`\nconst REPORT_USAGE_ERR_PREFIX = `Bugsnag usage error.`\n\nclass BugsnagClient {\n  constructor (notifier) {\n    if (!notifier || !notifier.name || !notifier.version || !notifier.url) {\n      throw new Error('`notifier` argument is required')\n    }\n\n    // notifier id\n    this.notifier = notifier\n\n    // configure() should be called before notify()\n    this._configured = false\n\n    // intialise opts and config\n    this._opts = {}\n    this.config = {}\n\n    // // i/o\n    this._delivery = { sendSession: () => {}, sendReport: () => {} }\n    this._logger = { debug: () => {}, info: () => {}, warn: () => {}, error: () => {} }\n\n    // plugins\n    this._plugins = {}\n\n    this._session = null\n\n    this.breadcrumbs = []\n\n    // setable props\n    this.app = {}\n    this.context = undefined\n    this.device = undefined\n    this.metaData = undefined\n    this.request = undefined\n    this.user = {}\n\n    // expose internal constructors\n    this.BugsnagClient = BugsnagClient\n    this.BugsnagReport = BugsnagReport\n    this.BugsnagBreadcrumb = BugsnagBreadcrumb\n    this.BugsnagSession = BugsnagSession\n\n    var self = this\n    var notify = this.notify\n    this.notify = function () {\n      return notify.apply(self, arguments)\n    }\n  }\n\n  setOptions (opts) {\n    this._opts = { ...this._opts, ...opts }\n  }\n\n  configure (partialSchema = config.schema) {\n    const conf = config.mergeDefaults(this._opts, partialSchema)\n    const validity = config.validate(conf, partialSchema)\n\n    if (!validity.valid === true) throw new Error(generateConfigErrorMessage(validity.errors))\n\n    // update and elevate some special options if they were passed in at this point\n    if (typeof conf.beforeSend === 'function') conf.beforeSend = [ conf.beforeSend ]\n    if (conf.appVersion) this.app.version = conf.appVersion\n    if (conf.appType) this.app.type = conf.appType\n    if (conf.metaData) this.metaData = conf.metaData\n    if (conf.user) this.user = conf.user\n    if (conf.logger) this.logger(conf.logger)\n\n    // merge with existing config\n    this.config = { ...this.config, ...conf }\n\n    this._configured = true\n\n    return this\n  }\n\n  use (plugin, ...args) {\n    if (!this._configured) throw new Error('client not configured')\n    if (plugin.configSchema) this.configure(plugin.configSchema)\n    const result = plugin.init(this, ...args)\n    // JS objects are not the safest way to store arbitrarily keyed values,\n    // so bookend the key with some characters that prevent tampering with\n    // stuff like __proto__ etc. (only store the result if the plugin had a\n    // name)\n    if (plugin.name) this._plugins[`~${plugin.name}~`] = result\n    return this\n  }\n\n  getPlugin (name) {\n    return this._plugins[`~${name}~`]\n  }\n\n  delivery (d) {\n    this._delivery = d(this)\n    return this\n  }\n\n  logger (l, sid) {\n    this._logger = l\n    return this\n  }\n\n  sessionDelegate (s) {\n    this._sessionDelegate = s\n    return this\n  }\n\n  startSession () {\n    if (!this._sessionDelegate) {\n      this._logger.warn('No session implementation is installed')\n      return this\n    }\n    return this._sessionDelegate.startSession(this)\n  }\n\n  leaveBreadcrumb (name, metaData, type, timestamp) {\n    if (!this._configured) throw new Error('client not configured')\n\n    // coerce bad values so that the defaults get set\n    name = name || undefined\n    type = typeof type === 'string' ? type : undefined\n    timestamp = typeof timestamp === 'string' ? timestamp : undefined\n    metaData = typeof metaData === 'object' && metaData !== null ? metaData : undefined\n\n    // if no name and no metaData, usefulness of this crumb is questionable at best so discard\n    if (typeof name !== 'string' && !metaData) return\n\n    const crumb = new BugsnagBreadcrumb(name, metaData, type, timestamp)\n\n    // push the valid crumb onto the queue and maintain the length\n    this.breadcrumbs.push(crumb)\n    if (this.breadcrumbs.length > this.config.maxBreadcrumbs) {\n      this.breadcrumbs = this.breadcrumbs.slice(this.breadcrumbs.length - this.config.maxBreadcrumbs)\n    }\n\n    return this\n  }\n\n  notify (error, opts = {}, cb = () => {}) {\n    if (!this._configured) throw new Error('client not configured')\n\n    // releaseStage can be set via config.releaseStage or client.app.releaseStage\n    const releaseStage = inferReleaseStage(this)\n\n    // ensure we have an error (or a reasonable object representation of an error)\n    let { err, errorFramesToSkip, _opts } = normaliseError(error, opts, this._logger)\n    if (_opts) opts = _opts\n\n    // ensure opts is an object\n    if (typeof opts !== 'object' || opts === null) opts = {}\n\n    // create a report from the error, if it isn't one already\n    const report = BugsnagReport.ensureReport(err, errorFramesToSkip, 2)\n\n    report.app = { ...{ releaseStage }, ...report.app, ...this.app }\n    report.context = report.context || opts.context || this.context || undefined\n    report.device = { ...report.device, ...this.device, ...opts.device }\n    report.request = { ...report.request, ...this.request, ...opts.request }\n    report.user = { ...report.user, ...this.user, ...opts.user }\n    report.metaData = { ...report.metaData, ...this.metaData, ...opts.metaData }\n    report.breadcrumbs = this.breadcrumbs.slice(0)\n\n    if (this._session) {\n      this._session.trackError(report)\n      report.session = this._session\n    }\n\n    // set severity if supplied\n    if (opts.severity !== undefined) {\n      report.severity = opts.severity\n      report._handledState.severityReason = { type: 'userSpecifiedSeverity' }\n    }\n\n    // exit early if the reports should not be sent on the current releaseStage\n    if (isArray(this.config.notifyReleaseStages) && !includes(this.config.notifyReleaseStages, releaseStage)) {\n      this._logger.warn(`Report not sent due to releaseStage/notifyReleaseStages configuration`)\n      return cb(null, report)\n    }\n\n    const originalSeverity = report.severity\n\n    const beforeSend = [].concat(opts.beforeSend).concat(this.config.beforeSend)\n    const onBeforeSendErr = err => {\n      this._logger.error(`Error occurred in beforeSend callback, continuing anyway`)\n      this._logger.error(err)\n    }\n\n    some(beforeSend, runBeforeSend(report, onBeforeSendErr), (err, preventSend) => {\n      if (err) onBeforeSendErr(err)\n\n      if (preventSend) {\n        this._logger.debug(`Report not sent due to beforeSend callback`)\n        return cb(null, report)\n      }\n\n      // only leave a crumb for the error if actually got sent\n      if (this.config.autoBreadcrumbs) {\n        this.leaveBreadcrumb(report.errorClass, {\n          errorClass: report.errorClass,\n          errorMessage: report.errorMessage,\n          severity: report.severity\n        }, 'error')\n      }\n\n      if (originalSeverity !== report.severity) {\n        report._handledState.severityReason = { type: 'userCallbackSetSeverity' }\n      }\n\n      this._delivery.sendReport({\n        apiKey: report.apiKey || this.config.apiKey,\n        notifier: this.notifier,\n        events: [ report ]\n      }, (err) => cb(err, report))\n    })\n  }\n}\n\nconst normaliseError = (error, opts, logger) => {\n  const synthesizedErrorFramesToSkip = 3\n\n  const createAndLogUsageError = reason => {\n    const msg = generateNotifyUsageMessage(reason)\n    logger.warn(`${LOG_USAGE_ERR_PREFIX} ${msg}`)\n    return new Error(`${REPORT_USAGE_ERR_PREFIX} ${msg}`)\n  }\n\n  let err\n  let errorFramesToSkip = 0\n  let _opts\n  switch (typeof error) {\n    case 'string':\n      if (typeof opts === 'string') {\n        // v3 used to have a notify('ErrorName', 'Error message') interface\n        // report usage/deprecation errors if this function is called like that\n        err = createAndLogUsageError('string/string')\n        _opts = { metaData: { notifier: { notifyArgs: [ error, opts ] } } }\n      } else {\n        err = new Error(String(error))\n        errorFramesToSkip = synthesizedErrorFramesToSkip\n      }\n      break\n    case 'number':\n    case 'boolean':\n      err = new Error(String(error))\n      break\n    case 'function':\n      err = createAndLogUsageError('function')\n      break\n    case 'object':\n      if (error !== null && (isError(error) || error.__isBugsnagReport)) {\n        err = error\n      } else if (error !== null && hasNecessaryFields(error)) {\n        err = new Error(error.message || error.errorMessage)\n        err.name = error.name || error.errorClass\n        errorFramesToSkip = synthesizedErrorFramesToSkip\n      } else {\n        err = createAndLogUsageError(error === null ? 'null' : 'unsupported object')\n      }\n      break\n    default:\n      err = createAndLogUsageError('nothing')\n  }\n  return { err, errorFramesToSkip, _opts }\n}\n\nconst hasNecessaryFields = error =>\n  (typeof error.name === 'string' || typeof error.errorClass === 'string') &&\n  (typeof error.message === 'string' || typeof error.errorMessage === 'string')\n\nconst generateConfigErrorMessage = errors =>\n  `Bugsnag configuration error\\n${map(errors, (err) => `\"${err.key}\" ${err.message} \\n    got ${stringify(err.value)}`).join('\\n\\n')}`\n\nconst generateNotifyUsageMessage = actual =>\n  `notify() expected error/opts parameters, got ${actual}`\n\nconst stringify = val => typeof val === 'object' ? JSON.stringify(val) : String(val)\n\nmodule.exports = BugsnagClient\n","// This is a heavily modified/simplified version of\n//   https://github.com/othiym23/async-some\n//\n// We can't use that because:\n//   a) it inflates the bundle size to over 10kB\n//   b) it depends on a module that uses Object.keys()\n//      (which we can't use due to ie8 support)\n\n// run the asynchronous test function (fn) over each item in the array (arr)\n// in series until:\n//   - fn(item, cb) => calls cb(null, true)\n//   - or the end of the array is reached\n// the callback (cb) will be passed true if any of the items resulted in a true\n// callback, otherwise false\nmodule.exports = (arr, fn, cb) => {\n  const length = arr.length\n  let index = 0\n\n  const next = () => {\n    if (index >= length) return cb(null, false)\n    fn(arr[index], (err, result) => {\n      if (err) return cb(err, false)\n      if (result === true) return cb(null, true)\n      index++\n      next()\n    })\n  }\n\n  next()\n}\n","module.exports = function (data, replacer, space, opts) {\n  var filterKeys = opts && opts.filterKeys ? opts.filterKeys : []\n  var filterPaths = opts && opts.filterPaths ? opts.filterPaths : []\n  return JSON.stringify(\n    prepareObjForSerialization(data, filterKeys, filterPaths),\n    replacer,\n    space\n  )\n}\n\nvar MAX_DEPTH = 20\nvar MAX_EDGES = 25000\nvar MIN_PRESERVED_DEPTH = 8\n\nvar REPLACEMENT_NODE = '...'\n\nfunction isError (o) {\n  return o instanceof Error ||\n    /^\\[object (Error|(Dom)?Exception)\\]$/.test(Object.prototype.toString.call(o))\n}\n\nfunction throwsMessage (err) {\n  return '[Throws: ' + (err ? err.message : '?') + ']'\n}\n\nfunction find (haystack, needle) {\n  for (var i = 0, len = haystack.length; i < len; i++) {\n    if (haystack[i] === needle) return true\n  }\n  return false\n}\n\n// returns true if the string `path` starts with any of the provided `paths`\nfunction isDescendent (paths, path) {\n  for (var i = 0, len = paths.length; i < len; i++) {\n    if (path.indexOf(paths[i]) === 0) return true\n  }\n  return false\n}\n\nfunction shouldFilter (patterns, key) {\n  for (var i = 0, len = patterns.length; i < len; i++) {\n    if (typeof patterns[i] === 'string' && patterns[i] === key) return true\n    if (patterns[i] && typeof patterns[i].test === 'function' && patterns[i].test(key)) return true\n  }\n  return false\n}\n\nfunction isArray (obj) {\n  return Object.prototype.toString.call(obj) === '[object Array]'\n}\n\nfunction safelyGetProp (obj, prop) {\n  try {\n    return obj[prop]\n  } catch (err) {\n    return throwsMessage(err)\n  }\n}\n\nfunction prepareObjForSerialization (obj, filterKeys, filterPaths) {\n  var seen = [] // store references to objects we have seen before\n  var edges = 0\n\n  function visit (obj, path) {\n    function edgesExceeded () {\n      return path.length > MIN_PRESERVED_DEPTH && edges > MAX_EDGES\n    }\n\n    edges++\n\n    if (path.length > MAX_DEPTH) return REPLACEMENT_NODE\n    if (edgesExceeded()) return REPLACEMENT_NODE\n    if (obj === null || typeof obj !== 'object') return obj\n    if (find(seen, obj)) return '[Circular]'\n\n    seen.push(obj)\n\n    if (typeof obj.toJSON === 'function') {\n      try {\n        // we're not going to count this as an edge because it\n        // replaces the value of the currently visited object\n        edges--\n        var fResult = visit(obj.toJSON(), path)\n        seen.pop()\n        return fResult\n      } catch (err) {\n        return throwsMessage(err)\n      }\n    }\n\n    var er = isError(obj)\n    if (er) {\n      edges--\n      var eResult = visit({ name: obj.name, message: obj.message }, path)\n      seen.pop()\n      return eResult\n    }\n\n    if (isArray(obj)) {\n      var aResult = []\n      for (var i = 0, len = obj.length; i < len; i++) {\n        if (edgesExceeded()) {\n          aResult.push(REPLACEMENT_NODE)\n          break\n        }\n        aResult.push(visit(obj[i], path.concat('[]')))\n      }\n      seen.pop()\n      return aResult\n    }\n\n    var result = {}\n    try {\n      for (var prop in obj) {\n        if (!Object.prototype.hasOwnProperty.call(obj, prop)) continue\n        if (isDescendent(filterPaths, path.join('.')) && shouldFilter(filterKeys, prop)) {\n          result[prop] = '[Filtered]'\n          continue\n        }\n        if (edgesExceeded()) {\n          result[prop] = REPLACEMENT_NODE\n          break\n        }\n        result[prop] = visit(safelyGetProp(obj, prop), path.concat(prop))\n      }\n    } catch (e) {}\n    seen.pop()\n    return result\n  }\n\n  return visit(obj, [])\n}\n","const jsonStringify = require('@bugsnag/safe-json-stringify')\nconst REPORT_FILTER_PATHS = [\n  'events.[].app',\n  'events.[].metaData',\n  'events.[].user',\n  'events.[].breadcrumbs',\n  'events.[].request',\n  'events.[].device'\n]\nconst SESSION_FILTER_PATHS = [\n  'device',\n  'app',\n  'user'\n]\n\nmodule.exports.report = (report, filterKeys) => {\n  let payload = jsonStringify(report, null, null, { filterPaths: REPORT_FILTER_PATHS, filterKeys })\n  if (payload.length > 10e5) {\n    delete report.events[0].metaData\n    report.events[0].metaData = {\n      notifier:\n`WARNING!\nSerialized payload was ${payload.length / 10e5}MB (limit = 1MB)\nmetaData was removed`\n    }\n    payload = jsonStringify(report, null, null, { filterPaths: REPORT_FILTER_PATHS, filterKeys })\n    if (payload.length > 10e5) throw new Error('payload exceeded 1MB limit')\n  }\n  return payload\n}\n\nmodule.exports.session = (report, filterKeys) => {\n  const payload = jsonStringify(report, null, null, { filterPaths: SESSION_FILTER_PATHS, filterKeys })\n  if (payload.length > 10e5) throw new Error('payload exceeded 1MB limit')\n  return payload\n}\n","const payload = require('@bugsnag/core/lib/json-payload')\nconst { isoDate } = require('@bugsnag/core/lib/es-utils')\n\nmodule.exports = (client, win = window) => ({\n  sendReport: (report, cb = () => {}) => {\n    const url = getApiUrl(client.config, 'notify', '4', win)\n    const req = new win.XDomainRequest()\n    req.onload = function () {\n      cb(null)\n    }\n    req.open('POST', url)\n    setTimeout(() => {\n      try {\n        req.send(payload.report(report, client.config.filters))\n      } catch (e) {\n        client._logger.error(e)\n        cb(e)\n      }\n    }, 0)\n  },\n  sendSession: (session, cb = () => {}) => {\n    const url = getApiUrl(client.config, 'sessions', '1', win)\n    const req = new win.XDomainRequest()\n    req.onload = function () {\n      cb(null)\n    }\n    req.open('POST', url)\n    setTimeout(() => {\n      try {\n        req.send(payload.session(session, client.config.filters))\n      } catch (e) {\n        this._logger.error(e)\n        cb(e)\n      }\n    }, 0)\n  }\n})\n\nconst getApiUrl = (config, endpoint, version, win) =>\n  `${matchPageProtocol(config.endpoints[endpoint], win.location.protocol)}?apiKey=${encodeURIComponent(config.apiKey)}&payloadVersion=${version}&sentAt=${encodeURIComponent(isoDate())}`\n\nconst matchPageProtocol = module.exports._matchPageProtocol = (endpoint, pageProtocol) =>\n  pageProtocol === 'http:'\n    ? endpoint.replace(/^https:/, 'http:')\n    : endpoint\n","const payload = require('@bugsnag/core/lib/json-payload')\nconst { isoDate } = require('@bugsnag/core/lib/es-utils')\n\nmodule.exports = (client, win = window) => ({\n  sendReport: (report, cb = () => {}) => {\n    try {\n      const url = client.config.endpoints.notify\n      const req = new win.XMLHttpRequest()\n      req.onreadystatechange = function () {\n        if (req.readyState === win.XMLHttpRequest.DONE) cb(null)\n      }\n      req.open('POST', url)\n      req.setRequestHeader('Content-Type', 'application/json')\n      req.setRequestHeader('Bugsnag-Api-Key', report.apiKey || client.config.apiKey)\n      req.setRequestHeader('Bugsnag-Payload-Version', '4')\n      req.setRequestHeader('Bugsnag-Sent-At', isoDate())\n      req.send(payload.report(report, client.config.filters))\n    } catch (e) {\n      client._logger.error(e)\n    }\n  },\n  sendSession: (session, cb = () => {}) => {\n    try {\n      const url = client.config.endpoints.sessions\n      const req = new win.XMLHttpRequest()\n      req.onreadystatechange = function () {\n        if (req.readyState === win.XMLHttpRequest.DONE) cb(null)\n      }\n      req.open('POST', url)\n      req.setRequestHeader('Content-Type', 'application/json')\n      req.setRequestHeader('Bugsnag-Api-Key', client.config.apiKey)\n      req.setRequestHeader('Bugsnag-Payload-Version', '1')\n      req.setRequestHeader('Bugsnag-Sent-At', isoDate())\n      req.send(payload.session(session, client.config.filters))\n    } catch (e) {\n      client._logger.error(e)\n    }\n  }\n})\n","/*\n * Sets the default context to be the current URL\n */\nmodule.exports = {\n  init: (client, win = window) => {\n    client.config.beforeSend.unshift(report => {\n      if (report.context) return\n      report.context = win.location.pathname\n    })\n  }\n}\n","const { isoDate } = require('@bugsnag/core/lib/es-utils')\n\n/*\n * Automatically detects browser device details\n */\nmodule.exports = {\n  init: (client, nav = navigator) => {\n    const device = {\n      locale: nav.browserLanguage || nav.systemLanguage || nav.userLanguage || nav.language,\n      userAgent: nav.userAgent\n    }\n\n    // merge with anything already set on the client\n    client.device = { ...device, ...client.device }\n\n    // add time just as the report is sent\n    client.config.beforeSend.unshift((report) => {\n      report.device = { ...report.device, time: isoDate() }\n    })\n  }\n}\n","/*\n * Sets the report request: { url } to be the current href\n */\nmodule.exports = {\n  init: (client, win = window) => {\n    client.config.beforeSend.unshift(report => {\n      if (report.request && report.request.url) return\n      report.request = { ...report.request, url: win.location.href }\n    })\n  }\n}\n","const { isArray, includes } = require('@bugsnag/core/lib/es-utils')\nconst inferReleaseStage = require('@bugsnag/core/lib/infer-release-stage')\n\nmodule.exports = {\n  init: client => client.sessionDelegate(sessionDelegate)\n}\n\nconst sessionDelegate = {\n  startSession: client => {\n    const sessionClient = client\n    sessionClient._session = new client.BugsnagSession()\n\n    const releaseStage = inferReleaseStage(sessionClient)\n\n    // exit early if the reports should not be sent on the current releaseStage\n    if (isArray(sessionClient.config.notifyReleaseStages) && !includes(sessionClient.config.notifyReleaseStages, releaseStage)) {\n      sessionClient._logger.warn(`Session not sent due to releaseStage/notifyReleaseStages configuration`)\n      return sessionClient\n    }\n\n    if (!sessionClient.config.endpoints.sessions) {\n      sessionClient._logger.warn(`Session not sent due to missing endpoints.sessions configuration`)\n      return sessionClient\n    }\n\n    sessionClient._delivery.sendSession({\n      notifier: sessionClient.notifier,\n      device: sessionClient.device,\n      app: { ...{ releaseStage }, ...sessionClient.app },\n      sessions: [\n        {\n          id: sessionClient._session.id,\n          startedAt: sessionClient._session.startedAt,\n          user: sessionClient.user\n        }\n      ]\n    })\n\n    return sessionClient\n  }\n}\n","/*\n * Prevent collection of user IPs\n */\nmodule.exports = {\n  init: (client) => {\n    if (client.config.collectUserIp) return\n\n    client.config.beforeSend.push(report => {\n      // If user.id is explicitly undefined, it will be missing from the payload. It needs\n      // removing so that the following line replaces it\n      if (report.user && typeof report.user.id === 'undefined') delete report.user.id\n      report.user = { id: '[NOT COLLECTED]', ...report.user }\n      report.request = { clientIp: '[NOT COLLECTED]', ...report.request }\n    })\n  },\n  configSchema: {\n    collectUserIp: {\n      defaultValue: () => true,\n      message: 'should be true|false',\n      validate: value => value === true || value === false\n    }\n  }\n}\n","const { map, reduce, filter } = require('@bugsnag/core/lib/es-utils')\n\n/*\n * Leaves breadcrumbs when console log methods are called\n */\nexports.init = (client) => {\n  const isDev = /^dev(elopment)?$/.test(client.config.releaseStage)\n\n  const explicitlyDisabled = client.config.consoleBreadcrumbsEnabled === false\n  const implicitlyDisabled = (client.config.autoBreadcrumbs === false || isDev) && client.config.consoleBreadcrumbsEnabled !== true\n  if (explicitlyDisabled || implicitlyDisabled) return\n\n  map(CONSOLE_LOG_METHODS, method => {\n    const original = console[method]\n    console[method] = (...args) => {\n      client.leaveBreadcrumb('Console output', reduce(args, (accum, arg, i) => {\n        // do the best/simplest stringification of each argument\n        let stringified = '[Unknown value]'\n        // this may fail if the input is:\n        // - an object whose [[Prototype]] is null (no toString)\n        // - an object with a broken toString or @@toPrimitive implementation\n        try { stringified = String(arg) } catch (e) {}\n        // if it stringifies to [object Object] attempt to JSON stringify\n        if (stringified === '[object Object]') {\n          // catch stringify errors and fallback to [object Object]\n          try { stringified = JSON.stringify(arg) } catch (e) {}\n        }\n        accum[`[${i}]`] = stringified\n        return accum\n      }, {\n        severity: method.indexOf('group') === 0 ? 'log' : method\n      }), 'log')\n      original.apply(console, args)\n    }\n    console[method]._restore = () => { console[method] = original }\n  })\n}\n\nexports.configSchema = {\n  consoleBreadcrumbsEnabled: {\n    defaultValue: () => undefined,\n    validate: (value) => value === true || value === false || value === undefined,\n    message: 'should be true|false'\n  }\n}\n\nif (process.env.NODE_ENV !== 'production') {\n  exports.destroy = () => CONSOLE_LOG_METHODS.forEach(method => {\n    if (typeof console[method]._restore === 'function') console[method]._restore()\n  })\n}\n\nconst CONSOLE_LOG_METHODS = filter([ 'log', 'debug', 'info', 'warn', 'error' ], method =>\n  typeof console !== 'undefined' && typeof console[method] === 'function'\n)\n","const { map, reduce, filter } = require('@bugsnag/core/lib/es-utils')\nconst MAX_LINE_LENGTH = 200\nconst MAX_SCRIPT_LENGTH = 500000\n\nmodule.exports = {\n  init: (client, doc = document, win = window) => {\n    if (!client.config.trackInlineScripts) return\n\n    const originalLocation = win.location.href\n    let html = ''\n    let DOMContentLoaded = false\n    const getHtml = () => doc.documentElement.outerHTML\n\n    // get whatever HTML exists at this point in time\n    html = getHtml()\n    const prev = doc.onreadystatechange\n    // then update it when the DOM content has loaded\n    doc.onreadystatechange = function () {\n      // IE8 compatible alternative to document#DOMContentLoaded\n      if (doc.readyState === 'interactive') {\n        html = getHtml()\n        DOMContentLoaded = true\n      }\n      try { prev.apply(this, arguments) } catch (e) {}\n    }\n\n    var _lastScript = null\n    const updateLastScript = script => {\n      _lastScript = script\n    }\n\n    const getCurrentScript = () => {\n      var script = doc.currentScript || _lastScript\n      if (!script && !DOMContentLoaded) {\n        var scripts = doc.scripts || doc.getElementsByTagName('script')\n        script = scripts[scripts.length - 1]\n      }\n      return script\n    }\n\n    const addSurroundingCode = lineNumber => {\n      // get whatever html has rendered at this point\n      if (!DOMContentLoaded || !html) html = getHtml()\n      // simulate the raw html\n      const htmlLines = [ '<!-- DOC START -->' ].concat(html.split('\\n'))\n      const zeroBasedLine = lineNumber - 1\n      const start = Math.max(zeroBasedLine - 3, 0)\n      const end = Math.min(zeroBasedLine + 3, htmlLines.length)\n      return reduce(htmlLines.slice(start, end), (accum, line, i) => {\n        accum[start + 1 + i] = line.length <= MAX_LINE_LENGTH ? line : line.substr(0, MAX_LINE_LENGTH)\n        return accum\n      }, {})\n    }\n\n    client.config.beforeSend.unshift(report => {\n      // remove any of our own frames that may be part the stack this\n      // happens before the inline script check as it happens for all errors\n      report.stacktrace = filter(report.stacktrace, f => !(/__trace__$/.test(f.method)))\n\n      const frame = report.stacktrace[0]\n\n      // if frame.file exists and is not the original location of the page, this can't be an inline script\n      if (frame && frame.file && frame.file.replace(/#.*$/, '') !== originalLocation.replace(/#.*$/, '')) return\n\n      // grab the last script known to have run\n      const currentScript = getCurrentScript()\n      if (currentScript) {\n        const content = currentScript.innerHTML\n        report.updateMetaData(\n          'script',\n          'content',\n          content.length <= MAX_SCRIPT_LENGTH ? content : content.substr(0, MAX_SCRIPT_LENGTH)\n        )\n      }\n\n      // only attempt to grab some surrounding code if we have a line number\n      if (!frame || !frame.lineNumber) return\n      frame.code = addSurroundingCode(frame.lineNumber)\n    })\n\n    // Proxy all the timer functions whose callback is their 0th argument.\n    // Keep a reference to the original setTimeout because we need it later\n    const [ _setTimeout ] = map([\n      'setTimeout',\n      'setInterval',\n      'setImmediate',\n      'requestAnimationFrame'\n    ], fn =>\n      __proxy(win, fn, original =>\n        __traceOriginalScript(original, args => ({\n          get: () => args[0],\n          replace: fn => { args[0] = fn }\n        }))\n      )\n    )\n\n    // Proxy all the host objects whose prototypes have an addEventListener function\n    map([\n      'EventTarget', 'Window', 'Node', 'ApplicationCache', 'AudioTrackList', 'ChannelMergerNode',\n      'CryptoOperation', 'EventSource', 'FileReader', 'HTMLUnknownElement', 'IDBDatabase',\n      'IDBRequest', 'IDBTransaction', 'KeyOperation', 'MediaController', 'MessagePort', 'ModalWindow',\n      'Notification', 'SVGElementInstance', 'Screen', 'TextTrack', 'TextTrackCue', 'TextTrackList',\n      'WebSocket', 'WebSocketWorker', 'Worker', 'XMLHttpRequest', 'XMLHttpRequestEventTarget', 'XMLHttpRequestUpload'\n    ], o => {\n      if (!win[o] || !win[o].prototype || !win[o].prototype.hasOwnProperty || !win[o].prototype.hasOwnProperty('addEventListener')) return\n      __proxy(win[o].prototype, 'addEventListener', original =>\n        __traceOriginalScript(original, eventTargetCallbackAccessor)\n      )\n      __proxy(win[o].prototype, 'removeEventListener', original =>\n        __traceOriginalScript(original, eventTargetCallbackAccessor, true)\n      )\n    })\n\n    function __traceOriginalScript (fn, callbackAccessor, alsoCallOriginal = false) {\n      return function () {\n        // this is required for removeEventListener to remove anything added with\n        // addEventListener before the functions started being wrapped by Bugsnag\n        const args = Array.prototype.slice.call(arguments)\n        try {\n          const cba = callbackAccessor(args)\n          const cb = cba.get()\n          if (alsoCallOriginal) fn.apply(this, args)\n          if (typeof cb !== 'function') return fn.apply(this, args)\n          if (cb.__trace__) {\n            cba.replace(cb.__trace__)\n          } else {\n            var script = getCurrentScript()\n            // this function mustn't be annonymous due to a bug in the stack\n            // generation logic, meaning it gets tripped up\n            // see: https://github.com/stacktracejs/stack-generator/issues/6\n            cb.__trace__ = function __trace__ () {\n              // set the script that called this function\n              updateLastScript(script)\n              // immediately unset the currentScript synchronously below, however\n              // if this cb throws an error the line after will not get run so schedule\n              // an almost-immediate aysnc update too\n              _setTimeout(function () { updateLastScript(null) }, 0)\n              const ret = cb.apply(this, arguments)\n              updateLastScript(null)\n              return ret\n            }\n            cb.__trace__.__trace__ = cb.__trace__\n            cba.replace(cb.__trace__)\n          }\n        } catch (e) {\n          // swallow these errors on Selenium:\n          // Permission denied to access property '__trace__'\n          // WebDriverException: Message: Permission denied to access property \"handleEvent\"\n        }\n        // IE8 doesn't let you call .apply() on setTimeout/setInterval\n        if (fn.apply) return fn.apply(this, args)\n        switch (args.length) {\n          case 1: return fn(args[0])\n          case 2: return fn(args[0], args[1])\n          default: return fn()\n        }\n      }\n    }\n  },\n  configSchema: {\n    trackInlineScripts: {\n      validate: value => value === true || value === false,\n      defaultValue: () => true,\n      message: 'should be true|false'\n    }\n  }\n}\n\nfunction __proxy (host, name, replacer) {\n  var original = host[name]\n  if (!original) return original\n  var replacement = replacer(original)\n  host[name] = replacement\n  return original\n}\n\nfunction eventTargetCallbackAccessor (args) {\n  var isEventHandlerObj = !!args[1] && typeof args[1].handleEvent === 'function'\n  return {\n    get: function () {\n      return isEventHandlerObj ? args[1].handleEvent : args[1]\n    },\n    replace: function (fn) {\n      if (isEventHandlerObj) {\n        args[1].handleEvent = fn\n      } else {\n        args[1] = fn\n      }\n    }\n  }\n}\n","/*\n * Leaves breadcrumbs when the user interacts with the DOM\n */\nmodule.exports = {\n  init: (client, win = window) => {\n    if (!('addEventListener' in win)) return\n\n    const explicitlyDisabled = client.config.interactionBreadcrumbsEnabled === false\n    const implicitlyDisabled = client.config.autoBreadcrumbs === false && client.config.interactionBreadcrumbsEnabled !== true\n    if (explicitlyDisabled || implicitlyDisabled) return\n\n    win.addEventListener('click', (event) => {\n      let targetText, targetSelector\n      try {\n        targetText = getNodeText(event.target)\n        targetSelector = getNodeSelector(event.target, win)\n      } catch (e) {\n        targetText = '[hidden]'\n        targetSelector = '[hidden]'\n        client._logger.error('Cross domain error when tracking click event. See docs: https://tinyurl.com/yy3rn63z')\n      }\n      client.leaveBreadcrumb('UI click', { targetText, targetSelector }, 'user')\n    }, true)\n  },\n  configSchema: {\n    interactionBreadcrumbsEnabled: {\n      defaultValue: () => undefined,\n      validate: (value) => value === true || value === false || value === undefined,\n      message: 'should be true|false'\n    }\n  }\n}\n\n// extract text content from a element\nconst getNodeText = el => {\n  let text = el.textContent || el.innerText || ''\n  if (!text && (el.type === 'submit' || el.type === 'button')) text = el.value\n  text = text.replace(/^\\s+|\\s+$/g, '') // trim whitespace\n  return truncate(text, 140)\n}\n\n// Create a label from tagname, id and css class of the element\nfunction getNodeSelector (el, win) {\n  const parts = [ el.tagName ]\n  if (el.id) parts.push('#' + el.id)\n  if (el.className && el.className.length) parts.push(`.${el.className.split(' ').join('.')}`)\n  // Can't get much more advanced with the current browser\n  if (!win.document.querySelectorAll || !Array.prototype.indexOf) return parts.join('')\n  try {\n    if (win.document.querySelectorAll(parts.join('')).length === 1) return parts.join('')\n  } catch (e) {\n    // Sometimes the query selector can be invalid just return it as-is\n    return parts.join('')\n  }\n  // try to get a more specific selector if this one matches more than one element\n  if (el.parentNode.childNodes.length > 1) {\n    const index = Array.prototype.indexOf.call(el.parentNode.childNodes, el) + 1\n    parts.push(`:nth-child(${index})`)\n  }\n  if (win.document.querySelectorAll(parts.join('')).length === 1) return parts.join('')\n  // try prepending the parent node selector\n  if (el.parentNode) return `${getNodeSelector(el.parentNode, win)} > ${parts.join('')}`\n  return parts.join('')\n}\n\nfunction truncate (value, length) {\n  const ommision = '(...)'\n  if (value && value.length <= length) return value\n  return value.slice(0, length - ommision.length) + ommision\n}\n","/*\n * Leaves breadcrumbs when navigation methods are called or events are emitted\n */\nexports.init = (client, win = window) => {\n  if (!('addEventListener' in win)) return\n\n  const explicitlyDisabled = client.config.navigationBreadcrumbsEnabled === false\n  const implicitlyDisabled = client.config.autoBreadcrumbs === false && client.config.navigationBreadcrumbsEnabled !== true\n  if (explicitlyDisabled || implicitlyDisabled) return\n\n  // returns a function that will drop a breadcrumb with a given name\n  const drop = name => () => client.leaveBreadcrumb(name, {}, 'navigation')\n\n  // simple drops  just names, no meta\n  win.addEventListener('pagehide', drop('Page hidden'), true)\n  win.addEventListener('pageshow', drop('Page shown'), true)\n  win.addEventListener('load', drop('Page loaded'), true)\n  win.document.addEventListener('DOMContentLoaded', drop('DOMContentLoaded'), true)\n  // some browsers like to emit popstate when the page loads, so only add the popstate listener after that\n  win.addEventListener('load', () => win.addEventListener('popstate', drop('Navigated back'), true))\n\n  // hashchange has some metaData that we care about\n  win.addEventListener('hashchange', event => {\n    const metaData = event.oldURL\n      ? { from: relativeLocation(event.oldURL, win), to: relativeLocation(event.newURL, win), state: getCurrentState(win) }\n      : { to: relativeLocation(win.location.href, win) }\n    client.leaveBreadcrumb('Hash changed', metaData, 'navigation')\n  }, true)\n\n  // the only way to know about replaceState/pushState is to wrap them >_<\n\n  if (win.history.replaceState) wrapHistoryFn(client, win.history, 'replaceState', win)\n  if (win.history.pushState) wrapHistoryFn(client, win.history, 'pushState', win)\n\n  client.leaveBreadcrumb('Bugsnag loaded', {}, 'navigation')\n}\n\nexports.configSchema = {\n  navigationBreadcrumbsEnabled: {\n    defaultValue: () => undefined,\n    validate: (value) => value === true || value === false || value === undefined,\n    message: 'should be true|false'\n  }\n}\n\nif (process.env.NODE_ENV !== 'production') {\n  exports.destroy = (win = window) => {\n    win.history.replaceState._restore()\n    win.history.pushState._restore()\n  }\n}\n\n// takes a full url like http://foo.com:1234/pages/01.html?yes=no#section-2 and returns\n// just the path and hash parts, e.g. /pages/01.html?yes=no#section-2\nconst relativeLocation = (url, win) => {\n  const a = win.document.createElement('A')\n  a.href = url\n  return `${a.pathname}${a.search}${a.hash}`\n}\n\nconst stateChangeToMetaData = (win, state, title, url) => {\n  const currentPath = relativeLocation(win.location.href, win)\n  return { title, state, prevState: getCurrentState(win), to: url || currentPath, from: currentPath }\n}\n\nconst wrapHistoryFn = (client, target, fn, win) => {\n  const orig = target[fn]\n  target[fn] = (state, title, url) => {\n    client.leaveBreadcrumb(`History ${fn}`, stateChangeToMetaData(win, state, title, url), 'navigation')\n    // if throttle plugin is in use, refresh the event sent count\n    if (typeof client.refresh === 'function') client.refresh()\n    // if the client is operating in auto session-mode, a new route should trigger a new session\n    if (client.config.autoCaptureSessions) client.startSession()\n    // Internet Explorer will convert `undefined` to a string when passed, causing an unintended redirect\n    // to '/undefined'. therefore we only pass the url if it's not undefined.\n    orig.apply(target, [ state, title ].concat(url !== undefined ? url : []))\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    target[fn]._restore = () => { target[fn] = orig }\n  }\n}\n\nconst getCurrentState = (win) => {\n  try {\n    return win.history.state\n  } catch (e) {}\n}\n","const BREADCRUMB_TYPE = 'request'\n\n// keys to safely store metadata on the request object\nconst REQUEST_SETUP_KEY = 'BS~~S'\nconst REQUEST_URL_KEY = 'BS~~U'\nconst REQUEST_METHOD_KEY = 'BS~~M'\n\nconst { includes } = require('@bugsnag/core/lib/es-utils')\n\nlet restoreFunctions = []\nlet client\nlet win\nlet getIgnoredUrls\n\nconst defaultIgnoredUrls = () => [\n  client.config.endpoints.notify,\n  client.config.endpoints.sessions\n]\n\n/*\n * Leaves breadcrumbs when network requests occur\n */\nexports.name = 'networkBreadcrumbs'\nexports.init = (_client, _getIgnoredUrls = defaultIgnoredUrls, _win = window) => {\n  const explicitlyDisabled = _client.config.networkBreadcrumbsEnabled === false\n  const implicitlyDisabled = _client.config.autoBreadcrumbs === false && _client.config.networkBreadcrumbsEnabled !== true\n  if (explicitlyDisabled || implicitlyDisabled) return\n\n  client = _client\n  win = _win\n  getIgnoredUrls = _getIgnoredUrls\n  monkeyPatchXMLHttpRequest()\n  monkeyPatchFetch()\n}\n\nexports.configSchema = {\n  networkBreadcrumbsEnabled: {\n    defaultValue: () => undefined,\n    validate: (value) => value === true || value === false || value === undefined,\n    message: 'should be true|false'\n  }\n}\n\nif (process.env.NODE_ENV !== 'production') {\n  exports.destroy = () => {\n    restoreFunctions.forEach(fn => fn())\n    restoreFunctions = []\n  }\n}\n\n// XMLHttpRequest monkey patch\nconst monkeyPatchXMLHttpRequest = () => {\n  if (!('addEventListener' in win.XMLHttpRequest.prototype)) return\n  const nativeOpen = win.XMLHttpRequest.prototype.open\n\n  // override native open()\n  win.XMLHttpRequest.prototype.open = function open (method, url) {\n    // store url and HTTP method for later\n    this[REQUEST_URL_KEY] = url\n    this[REQUEST_METHOD_KEY] = method\n\n    // if we have already setup listeners, it means open() was called twice, we need to remove\n    // the listeners and recreate them\n    if (this[REQUEST_SETUP_KEY]) {\n      this.removeEventListener('load', handleXHRLoad)\n      this.removeEventListener('error', handleXHRError)\n    }\n\n    // attach load event listener\n    this.addEventListener('load', handleXHRLoad)\n    // attach error event listener\n    this.addEventListener('error', handleXHRError)\n\n    this[REQUEST_SETUP_KEY] = true\n\n    nativeOpen.apply(this, arguments)\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    restoreFunctions.push(() => {\n      win.XMLHttpRequest.prototype.open = nativeOpen\n    })\n  }\n}\n\nfunction handleXHRLoad () {\n  if (includes(getIgnoredUrls(), this[REQUEST_URL_KEY])) {\n    // don't leave a network breadcrumb from bugsnag notify calls\n    return\n  }\n  const metaData = {\n    status: this.status,\n    request: `${this[REQUEST_METHOD_KEY]} ${this[REQUEST_URL_KEY]}`\n  }\n  if (this.status >= 400) {\n    // contacted server but got an error response\n    client.leaveBreadcrumb('XMLHttpRequest failed', metaData, BREADCRUMB_TYPE)\n  } else {\n    client.leaveBreadcrumb('XMLHttpRequest succeeded', metaData, BREADCRUMB_TYPE)\n  }\n}\n\nfunction handleXHRError () {\n  if (includes(getIgnoredUrls, this[REQUEST_URL_KEY])) {\n    // don't leave a network breadcrumb from bugsnag notify calls\n    return\n  }\n  // failed to contact server\n  client.leaveBreadcrumb('XMLHttpRequest error', {\n    request: `${this[REQUEST_METHOD_KEY]} ${this[REQUEST_URL_KEY]}`\n  }, BREADCRUMB_TYPE)\n}\n\n// window.fetch monkey patch\nconst monkeyPatchFetch = () => {\n  // only patch it if it exists and if it is not a polyfill (patching a polyfilled\n  // fetch() results in duplicate breadcrumbs for the same request because the\n  // implementation uses XMLHttpRequest which is also patched)\n  if (!('fetch' in win) || win.fetch.polyfill) return\n\n  const oldFetch = win.fetch\n  win.fetch = function fetch (...args) {\n    let [url, options] = args\n    let method = 'GET'\n    if (options && options.method) {\n      method = options.method\n    }\n    return new Promise((resolve, reject) => {\n      // pass through to native fetch\n      oldFetch(...args)\n        .then(response => {\n          handleFetchSuccess(response, method, url)\n          resolve(response)\n        })\n        .catch(error => {\n          handleFetchError(method, url)\n          reject(error)\n        })\n    })\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    restoreFunctions.push(() => {\n      win.fetch = oldFetch\n    })\n  }\n}\n\nconst handleFetchSuccess = (response, method, url) => {\n  const metaData = {\n    status: response.status,\n    request: `${method} ${url}`\n  }\n  if (response.status >= 400) {\n    // when the request comes back with a 4xx or 5xx status it does not reject the fetch promise,\n    client.leaveBreadcrumb('fetch() failed', metaData, BREADCRUMB_TYPE)\n  } else {\n    client.leaveBreadcrumb('fetch() succeeded', metaData, BREADCRUMB_TYPE)\n  }\n}\n\nconst handleFetchError = (method, url) => {\n  client.leaveBreadcrumb('fetch() error', { request: `${method} ${url}` }, BREADCRUMB_TYPE)\n}\n","const { intRange } = require('@bugsnag/core/lib/validators')\n\n/*\n * Throttles and dedupes error reports\n */\n\nmodule.exports = {\n  init: (client) => {\n    // track sent events for each init of the plugin\n    let n = 0\n\n    // add beforeSend hook\n    client.config.beforeSend.push((report) => {\n      // have max events been sent already?\n      if (n >= client.config.maxEvents) return report.ignore()\n      n++\n    })\n\n    client.refresh = () => { n = 0 }\n  },\n  configSchema: {\n    maxEvents: {\n      defaultValue: () => 10,\n      message: 'should be a positive integer 100',\n      validate: val => intRange(1, 100)(val)\n    }\n  }\n}\n","/*\n * Remove query strings (and fragments) from stacktraces\n */\nconst { map } = require('@bugsnag/core/lib/es-utils')\n\nmodule.exports = {\n  init: (client) => {\n    client.config.beforeSend.push(report => {\n      report.stacktrace = map(report.stacktrace, frame => ({ ...frame, file: strip(frame.file) }))\n    })\n  }\n}\n\nconst strip = module.exports._strip = str =>\n  typeof str === 'string'\n    ? str.replace(/\\?.*$/, '').replace(/#.*$/, '')\n    : str\n","/*\n * Automatically notifies Bugsnag when window.onerror is called\n */\n\nmodule.exports = {\n  init: (client, win = window) => {\n    function onerror (messageOrEvent, url, lineNo, charNo, error) {\n      // Ignore errors with no info due to CORS settings\n      if (lineNo === 0 && /Script error\\.?/.test(messageOrEvent)) {\n        client._logger.warn('Ignoring cross-domain or eval script error. See docs: https://tinyurl.com/yy3rn63z')\n      } else {\n        // any error sent to window.onerror is unhandled and has severity=error\n        const handledState = { severity: 'error', unhandled: true, severityReason: { type: 'unhandledException' } }\n\n        let report\n\n        // window.onerror can be called in a number of ways. This big if-else is how we\n        // figure out which arguments were supplied, and what kind of values it received.\n\n        if (error) {\n          // if the last parameter (error) was supplied, this is a modern browser's\n          // way of saying \"this value was thrown and not caught\"\n\n          if (error.name && error.message) {\n            // if it looks like an error, construct a report object using its stack\n            report = new client.BugsnagReport(\n              error.name,\n              error.message,\n              decorateStack(client.BugsnagReport.getStacktrace(error), url, lineNo, charNo),\n              handledState,\n              error\n            )\n          } else {\n            // otherwise, for non error values that were thrown, stringify it for\n            // use as the error message and get/generate a stacktrace\n            report = new client.BugsnagReport(\n              'window.onerror',\n              String(error),\n              decorateStack(client.BugsnagReport.getStacktrace(error, 1), url, lineNo, charNo),\n              handledState,\n              error\n            )\n            // include the raw input as metadata\n            report.updateMetaData('window onerror', { error })\n          }\n        } else if (\n          // This complex case detects \"error\" events that are typically synthesised\n          // by jquery's trigger method (although can be created in other ways). In\n          // order to detect this:\n          // - the first argument (message) must exist and be an object (most likely it's a jQuery event)\n          // - the second argument (url) must either not exist or be something other than a string (if it\n          //    exists and is not a string, it'll be the extraParameters argument from jQuery's trigger()\n          //    function)\n          // - the third, fourth and fifth arguments must not exist (lineNo, charNo and error)\n          (typeof messageOrEvent === 'object' && messageOrEvent !== null) &&\n          (!url || typeof url !== 'string') &&\n          !lineNo && !charNo && !error\n        ) {\n          // The jQuery event may have a \"type\" property, if so use it as part of the error message\n          const name = messageOrEvent.type ? `Event: ${messageOrEvent.type}` : 'window.onerror'\n          // attempt to find a message from one of the conventional properties, but\n          // default to empty string (the report will fill it with a placeholder)\n          const message = messageOrEvent.message || messageOrEvent.detail || ''\n          report = new client.BugsnagReport(\n            name,\n            message,\n            client.BugsnagReport.getStacktrace(new Error(), 1).slice(1),\n            handledState,\n            messageOrEvent\n          )\n          // include the raw input as metadata  it might contain more info than we extracted\n          report.updateMetaData('window onerror', { event: messageOrEvent, extraParameters: url })\n        } else {\n          // Lastly, if there was no \"error\" parameter this event was probably from an old\n          // browser that doesn't support that. Instead we need to generate a stacktrace.\n          report = new client.BugsnagReport(\n            'window.onerror',\n            String(messageOrEvent),\n            decorateStack(client.BugsnagReport.getStacktrace(error, 1), url, lineNo, charNo),\n            handledState,\n            messageOrEvent\n          )\n          // include the raw input as metadata  it might contain more info than we extracted\n          report.updateMetaData('window onerror', { event: messageOrEvent })\n        }\n\n        client.notify(report)\n      }\n\n      if (typeof prevOnError === 'function') prevOnError.apply(this, arguments)\n    }\n\n    const prevOnError = win.onerror\n    win.onerror = onerror\n  }\n}\n\n// Sometimes the stacktrace has less information than was passed to window.onerror.\n// This function will augment the first stackframe with any useful info that was\n// received as arguments to the onerror callback.\nconst decorateStack = (stack, url, lineNo, charNo) => {\n  const culprit = stack[0]\n  if (!culprit) return stack\n  if (!culprit.fileName && typeof url === 'string') culprit.setFileName(url)\n  if (!culprit.lineNumber && isActualNumber(lineNo)) culprit.setLineNumber(lineNo)\n  if (!culprit.columnNumber) {\n    if (isActualNumber(charNo)) {\n      culprit.setColumnNumber(charNo)\n    } else if (window.event && isActualNumber(window.event.errorCharacter)) {\n      culprit.setColumnNumber(window.event.errorCharacter)\n    }\n  }\n  return stack\n}\n\nconst isActualNumber = (n) => typeof n === 'number' && String.call(n) !== 'NaN'\n","const hasStack = require('@bugsnag/core/lib/has-stack')\nconst { reduce } = require('@bugsnag/core/lib/es-utils')\nconst ErrorStackParser = require('@bugsnag/core/lib/error-stack-parser')\nconst isError = require('@bugsnag/core/lib/iserror')\n\n/*\n * Automatically notifies Bugsnag when window.onunhandledrejection is called\n */\nlet _listener\nexports.init = (client, win = window) => {\n  const listener = event => {\n    let error = event.reason\n    let isBluebird = false\n\n    // accessing properties on event.detail can throw errors (see #394)\n    try {\n      if (event.detail && event.detail.reason) {\n        error = event.detail.reason\n        isBluebird = true\n      }\n    } catch (e) {}\n\n    const handledState = {\n      severity: 'error',\n      unhandled: true,\n      severityReason: { type: 'unhandledPromiseRejection' }\n    }\n\n    let report\n    if (error && hasStack(error)) {\n      // if it quacks like an Error\n      report = new client.BugsnagReport(error.name, error.message, ErrorStackParser.parse(error), handledState, error)\n      if (isBluebird) {\n        report.stacktrace = reduce(report.stacktrace, fixBluebirdStacktrace(error), [])\n      }\n    } else {\n      // if it doesn't\n      const msg = 'Rejection reason was not an Error. See \"Promise\" tab for more detail.'\n      report = new client.BugsnagReport(\n        error && error.name ? error.name : 'UnhandledRejection',\n        error && error.message ? error.message : msg,\n        [],\n        handledState,\n        error\n      )\n      // stuff the rejection reason into metaData, it could be useful\n      report.updateMetaData('promise', 'rejection reason', serializableReason(error))\n    }\n\n    client.notify(report)\n  }\n  if ('addEventListener' in win) {\n    win.addEventListener('unhandledrejection', listener)\n  } else {\n    win.onunhandledrejection = (reason, promise) => {\n      listener({ detail: { reason, promise } })\n    }\n  }\n  _listener = listener\n}\n\nif (process.env.NODE_ENV !== 'production') {\n  exports.destroy = (win = window) => {\n    if (_listener) {\n      if ('addEventListener' in win) {\n        win.removeEventListener('unhandledrejection', _listener)\n      } else {\n        win.onunhandledrejection = null\n      }\n    }\n    _listener = null\n  }\n}\n\nconst serializableReason = (err) => {\n  if (err === null || err === undefined) {\n    return 'undefined (or null)'\n  } else if (isError(err)) {\n    return {\n      [Object.prototype.toString.call(err)]: {\n        name: err.name,\n        message: err.message,\n        code: err.code,\n        stack: err.stack\n      }\n    }\n  } else {\n    return err\n  }\n}\n\n// The stack parser on bluebird stacks in FF get a suprious first frame:\n//\n// Error: derp\n//   b@http://localhost:5000/bluebird.html:22:24\n//   a@http://localhost:5000/bluebird.html:18:9\n//   @http://localhost:5000/bluebird.html:14:9\n//\n// results in\n//   []\n//     0: Object { file: \"Error: derp\", method: undefined, lineNumber: undefined,  }\n//     1: Object { file: \"http://localhost:5000/bluebird.html\", method: \"b\", lineNumber: 22,  }\n//     2: Object { file: \"http://localhost:5000/bluebird.html\", method: \"a\", lineNumber: 18,  }\n//     3: Object { file: \"http://localhost:5000/bluebird.html\", lineNumber: 14, columnNumber: 9,  }\n//\n// so the following reduce/accumulator function removes such frames\n//\n// Bluebird pads method names with spaces so trim that too\n// https://github.com/petkaantonov/bluebird/blob/b7f21399816d02f979fe434585334ce901dcaf44/src/debuggability.js#L568-L571\nconst fixBluebirdStacktrace = (error) => (accum, frame) => {\n  if (frame.file === error.toString()) return accum\n  if (frame.method) {\n    frame.method = frame.method.replace(/^\\s+/, '')\n  }\n  return accum.concat(frame)\n}\n","const name = 'Bugsnag JavaScript'\nconst version = '6.4.2'\nconst url = 'https://github.com/bugsnag/bugsnag-js'\n\nconst Client = require('@bugsnag/core/client')\nconst Report = require('@bugsnag/core/report')\nconst Session = require('@bugsnag/core/session')\nconst Breadcrumb = require('@bugsnag/core/breadcrumb')\n\n// extend the base config schema with some browser-specific options\nconst schema = { ...require('@bugsnag/core/config').schema, ...require('./config') }\n\nconst pluginWindowOnerror = require('@bugsnag/plugin-window-onerror')\nconst pluginUnhandledRejection = require('@bugsnag/plugin-window-unhandled-rejection')\nconst pluginDevice = require('@bugsnag/plugin-browser-device')\nconst pluginContext = require('@bugsnag/plugin-browser-context')\nconst pluginRequest = require('@bugsnag/plugin-browser-request')\nconst pluginThrottle = require('@bugsnag/plugin-simple-throttle')\nconst pluginConsoleBreadcrumbs = require('@bugsnag/plugin-console-breadcrumbs')\nconst pluginNetworkBreadcrumbs = require('@bugsnag/plugin-network-breadcrumbs')\nconst pluginNavigationBreadcrumbs = require('@bugsnag/plugin-navigation-breadcrumbs')\nconst pluginInteractionBreadcrumbs = require('@bugsnag/plugin-interaction-breadcrumbs')\nconst pluginInlineScriptContent = require('@bugsnag/plugin-inline-script-content')\nconst pluginSession = require('@bugsnag/plugin-browser-session')\nconst pluginIp = require('@bugsnag/plugin-client-ip')\nconst pluginStripQueryString = require('@bugsnag/plugin-strip-query-string')\n\n// delivery mechanisms\nconst dXDomainRequest = require('@bugsnag/delivery-x-domain-request')\nconst dXMLHttpRequest = require('@bugsnag/delivery-xml-http-request')\n\nmodule.exports = (opts) => {\n  // handle very simple use case where user supplies just the api key as a string\n  if (typeof opts === 'string') opts = { apiKey: opts }\n\n  // support renamed/deprecated options\n\n  let warningMessage = ''\n\n  if (opts.endpoints && opts.endpoints.notify && !opts.endpoints.sessions) {\n    warningMessage += 'notify endpoint is set but sessions endpoint is not. No sessions will be sent.'\n  }\n\n  const bugsnag = new Client({ name, version, url })\n\n  bugsnag.setOptions(opts)\n\n  // set delivery based on browser capability (IE 8+9 have an XDomainRequest object)\n  bugsnag.delivery(window.XDomainRequest ? dXDomainRequest : dXMLHttpRequest)\n\n  // configure with user supplied options\n  // errors can be thrown here that prevent the lib from being in a useable state\n  bugsnag.configure(schema)\n\n  if (warningMessage) bugsnag._logger.warn(warningMessage)\n\n  // always-on browser-specific plugins\n  bugsnag.use(pluginDevice)\n  bugsnag.use(pluginContext)\n  bugsnag.use(pluginRequest)\n  bugsnag.use(pluginThrottle)\n  bugsnag.use(pluginSession)\n  bugsnag.use(pluginIp)\n  bugsnag.use(pluginStripQueryString)\n\n  // optional browser-specific plugins\n\n  if (bugsnag.config.autoNotify !== false) {\n    bugsnag.use(pluginWindowOnerror)\n    bugsnag.use(pluginUnhandledRejection)\n  }\n\n  bugsnag.use(pluginNavigationBreadcrumbs)\n  bugsnag.use(pluginInteractionBreadcrumbs)\n  bugsnag.use(pluginNetworkBreadcrumbs)\n  bugsnag.use(pluginConsoleBreadcrumbs)\n\n  // this one added last to avoid wrapping functionality before bugsnag uses it\n  bugsnag.use(pluginInlineScriptContent)\n\n  bugsnag._logger.debug(`Loaded!`)\n\n  return bugsnag.config.autoCaptureSessions\n    ? bugsnag.startSession()\n    : bugsnag\n}\n\n// Angular's DI system needs this interface to match what is exposed\n// in the type definition file (types/bugsnag.d.ts)\nmodule.exports.Bugsnag = {\n  Client,\n  Report,\n  Session,\n  Breadcrumb\n}\n\n// Export a \"default\" property for compatibility with ESM imports\nmodule.exports['default'] = module.exports\n","\nreturn _$notifier_2;\n\n});\n"]}