"use strict";require("core-js/modules/es.promise");Object.defineProperty(exports,"__esModule",{value:true});exports.getEvent=void 0;var _utils=require("../utils.js");


const getEvent=async function({
name,
promise,
value,
nextRejected,
nextValue})
{
const{rejected,value:valueA}=await parsePromise({
name,
promise,
value});


const event={rejected,value:valueA,nextRejected,nextValue};

const eventA=(0,_utils.pickBy)(event,eventVal=>eventVal!==undefined);
return eventA;
};exports.getEvent=getEvent;


const parsePromise=async function({name,promise,value}){
if(NO_PROMISE_EVENTS.includes(name)){
return{value};
}

const{rejected,value:valueA}=await getPromiseValue({promise});


if(name==="rejectionHandled"){
return{value:valueA};
}

return{rejected,value:valueA};
};






const NO_PROMISE_EVENTS=["uncaughtException","warning","unhandledRejection"];


const getPromiseValue=async function({promise}){
try{
return{rejected:false,value:await promise};
}catch(error){
return{rejected:true,value:error};
}
};
//# sourceMappingURL=event.js.map