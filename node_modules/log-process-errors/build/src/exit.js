"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.validateExitOn=exports.EXIT_STATUS=exports.EXIT_TIMEOUT=exports.exitProcess=void 0;
var _process=_interopRequireDefault(require("process"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}



















const exitProcess=function({name,opts:{exitOn}}){
if(!exitOn.includes(name)){
return;
}



setTimeout(()=>{

_process.default.exit(EXIT_STATUS);
},EXIT_TIMEOUT);
};exports.exitProcess=exitProcess;

const EXIT_TIMEOUT=3000;exports.EXIT_TIMEOUT=EXIT_TIMEOUT;
const EXIT_STATUS=1;exports.EXIT_STATUS=EXIT_STATUS;

const validateExitOn=function({exitOn}){
if(exitOn===undefined){
return;
}

const invalidEvents=exitOn.filter(name=>!EVENTS.includes(name));

if(invalidEvents.length===0){
return;
}

throw new Error(
`Invalid option 'exitOn' '${invalidEvents.join(
", ")
}': must be one of ${EVENTS.join(", ")}`);

};exports.validateExitOn=validateExitOn;

const EVENTS=[
"uncaughtException",
"unhandledRejection",
"rejectionHandled",
"multipleResolves",
"warning"];
//# sourceMappingURL=exit.js.map