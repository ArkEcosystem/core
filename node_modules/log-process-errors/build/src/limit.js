"use strict";require("core-js/modules/es.array.iterator");Object.defineProperty(exports,"__esModule",{value:true});exports.MAX_EVENTS=exports.emitLimitedWarning=exports.isLimited=void 0;var _process=require("process");












const isLimited=function({
previousEvents,
mEmitLimitedWarning,
name,
value})
{
if(isLimitedWarning({name,value})){
return false;
}

const isLimitedEvent=[...previousEvents].length>=MAX_EVENTS;

if(isLimitedEvent){
mEmitLimitedWarning(name);
}

return isLimitedEvent;
};exports.isLimited=isLimited;


const emitLimitedWarning=function(name){
(0,_process.emitWarning)(ERROR_MESSAGE(name),ERROR_NAME,ERROR_CODE);
};exports.emitLimitedWarning=emitLimitedWarning;


const isLimitedWarning=function({name,value={}}){
return(
name==="warning"&&value.name===ERROR_NAME&&value.code===ERROR_CODE);

};

const ERROR_MESSAGE=(name)=>
`Cannot log more than ${MAX_EVENTS} '${name}' until process is restarted`;
const ERROR_NAME="LogProcessErrors";
const ERROR_CODE="TooManyErrors";

const MAX_EVENTS=100;exports.MAX_EVENTS=MAX_EVENTS;
//# sourceMappingURL=limit.js.map