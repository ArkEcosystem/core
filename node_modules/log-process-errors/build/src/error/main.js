"use strict";require("core-js/modules/es.array.iterator");Object.defineProperty(exports,"__esModule",{value:true});exports.addErrorPrint=exports.getError=void 0;var _util=require("util");

var _message=require("./message.js");
var _stack=require("./stack.js");
var _print=require("./print.js");

const{custom}=_util.inspect;



const getError=function({name,event}){
const message=(0,_message.getMessage)({event,name});
const stack=(0,_stack.getStack)({event});
const error=buildError({name,message,stack});
return{error,stack};
};exports.getError=getError;

const buildError=function({name,message,stack}){
const error=new Error(message);


Object.defineProperty(error,"name",{
value:capitalize(name),
enumerable:false,
writable:true,
configurable:true});



error.stack=`${error}\n${stack}`;
return error;
};

const capitalize=function(string){
const[firstLetter,...rest]=string;
return[firstLetter.toUpperCase(),...rest].join("");
};


const addErrorPrint=function({
error,
error:{message},
opts,
level,
name,
stack})
{

error[custom]=_print.printError.bind(null,{opts,level,name,message,stack});
};exports.addErrorPrint=addErrorPrint;
//# sourceMappingURL=main.js.map