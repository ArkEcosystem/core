{"version":3,"file":"index.js","sources":["../../src/browserslist-generator/ensure-semver.ts","../../src/browserslist-generator/compare-versions.ts","../../src/browserslist-generator/normalize-browser-version-regexp.ts","../../src/browserslist-generator/browser-version.ts","../../src/browserslist-generator/ecma-version.ts","../../src/browserslist-generator/range-correction.ts","../../src/browserslist-generator/useragent/bot/bot-to-user-agents-map.ts","../../src/browserslist-generator/ua-parser-wrapper.ts","../../src/browserslist-generator/browserslist-generator.ts"],"sourcesContent":["import {coerce as _coerce, SemVer} from \"semver\";\nimport {SAFARI_TP_MAJOR_VERSION} from \"./browser-version\";\nimport {CaniuseBrowser} from \"./i-caniuse\";\n\n/**\n * Coerces the given version\n */\nexport function ensureSemver(browser: CaniuseBrowser | undefined, version: string): SemVer {\n\tif ((browser === \"op_mini\" || browser === \"android\") && version === \"all\") {\n\t\treturn _coerce(\"0.0.0\")!;\n\t} else if (browser === \"safari\" && version === \"TP\") {\n\t\treturn SAFARI_TP_MAJOR_VERSION;\n\t}\n\n\treturn _coerce(version)!;\n}\n\n/**\n * Coerces the given version\n */\nexport function coerceToString(browser: CaniuseBrowser, version: string): string {\n\treturn ensureSemver(browser, version).toString();\n}\n","/**\n * Compares two versions, a and b\n */\nexport function compareVersions(a: string, b: string): number {\n\tconst normalizedA = isNaN(parseFloat(a)) ? a : parseFloat(a);\n\tconst normalizedB = isNaN(parseFloat(b)) ? b : parseFloat(b);\n\n\tif (typeof normalizedA === \"string\" && typeof normalizedB !== \"string\") {\n\t\treturn 1;\n\t}\n\n\tif (typeof normalizedB === \"string\" && typeof normalizedA !== \"string\") {\n\t\treturn -1;\n\t}\n\n\tif (normalizedA < normalizedB) return -1;\n\tif (normalizedA > normalizedB) return 1;\n\treturn 0;\n}\n","/**\n * A Regular Expression that captures the part of a browser version that should be kept\n */\nexport const NORMALIZE_BROWSER_VERSION_REGEXP = /(?![\\d.,]+-)-*(.*)/;\n","import Browserslist from \"browserslist\";\nimport {coerce as _coerce, gt, gte} from \"semver\";\nimport {ensureSemver} from \"./ensure-semver\";\nimport {compareVersions} from \"./compare-versions\";\nimport {CaniuseBrowser} from \"./i-caniuse\";\nimport {NORMALIZE_BROWSER_VERSION_REGEXP} from \"./normalize-browser-version-regexp\";\n\nexport const SAFARI_TP_MAJOR_VERSION = (() => {\n\tconst versions = getSortedBrowserVersions(\"safari\");\n\tconst lastVersionBeforeTp = versions[versions.length - 2];\n\tconst coerced = _coerce(lastVersionBeforeTp)!;\n\tif (coerced.minor === 9) {\n\t\treturn _coerce(coerced.major + 1)!;\n\t} else {\n\t\treturn _coerce(`${coerced.major}.${coerced.minor + 1}.0`)!;\n\t}\n})();\n\n/**\n * Ensures that for any given version of a browser, if it is newer than the latest known version, the last known version will be used as a fallback\n */\nexport function normalizeBrowserVersion(browser: CaniuseBrowser, givenVersion: string, versions: string[] = getSortedBrowserVersions(browser)): string {\n\tconst givenVersionCoerced = ensureSemver(browser, givenVersion);\n\tconst latestVersion = getLatestVersionOfBrowser(browser);\n\tconst latestVersionCoerced = ensureSemver(browser, latestVersion);\n\n\tif (givenVersionCoerced == null || latestVersionCoerced == null) {\n\t\tthrow new TypeError(`Could not detect the version of: '${givenVersion}' for browser: ${browser}`);\n\t}\n\n\tif (\n\t\tgivenVersionCoerced.major > latestVersionCoerced.major ||\n\t\t(givenVersionCoerced.major === latestVersionCoerced.major && givenVersionCoerced.minor > latestVersionCoerced.minor) ||\n\t\t(givenVersionCoerced.major === latestVersionCoerced.major && givenVersionCoerced.minor === latestVersionCoerced.minor && givenVersionCoerced.patch > latestVersionCoerced.patch)\n\t) {\n\t\treturn latestVersion;\n\t}\n\n\treturn getClosestMatchingBrowserVersion(browser, givenVersion, versions);\n}\n\n/**\n * Gets the known version of the given browser that is closest to the given version\n */\nexport function getClosestMatchingBrowserVersion(browser: CaniuseBrowser, version: string, versions: string[] = getSortedBrowserVersions(browser)): string {\n\tconst coerced = ensureSemver(browser, version);\n\n\tif (browser === \"op_mini\" && version === \"all\") return \"all\";\n\tif (browser === \"safari\") {\n\t\tif (version === \"TP\") return \"TP\";\n\t\t// If the given version is greater than or equal to the latest non-technical preview version of Safari, the closest match IS TP.\n\t\telse if (gt(ensureSemver(browser, `${coerced.major}.${coerced.minor}`), ensureSemver(browser, versions.slice(-2)[0]))) return \"TP\";\n\t}\n\n\tlet candidate = versions[0];\n\n\tversions.forEach(currentVersion => {\n\t\tconst currentCoerced = ensureSemver(browser, currentVersion);\n\t\tif (gte(coerced, currentCoerced)) {\n\t\t\tcandidate = currentVersion;\n\t\t}\n\t});\n\n\treturn candidate;\n}\n\nexport function getSortedBrowserVersionsWithLeadingVersion(browser: CaniuseBrowser, inputVersion?: string): string[] {\n\tconst versions: string[] = getSortedBrowserVersions(browser);\n\tconst [firstVersion] = versions;\n\n\tif (firstVersion != null && inputVersion != null) {\n\t\tconst firstVersionSemver = ensureSemver(browser, firstVersion);\n\t\tlet nextInputVersion = inputVersion;\n\t\twhile (true) {\n\t\t\tconst nextInputSemver = ensureSemver(browser, nextInputVersion);\n\t\t\tif (gt(firstVersionSemver, nextInputSemver)) {\n\t\t\t\tversions.unshift(nextInputVersion);\n\t\t\t\tnextInputVersion = String(nextInputSemver.major + 1);\n\t\t\t} else {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn versions;\n}\n\n/**\n * Gets all versions of the given browser, sorted\n */\nexport function getSortedBrowserVersions(browser: CaniuseBrowser): string[] {\n\t// Generate the Browserslist query\n\tconst queryResult: string[] = Browserslist([`>= 0%`, `unreleased versions`]);\n\tconst versions: string[] = [];\n\n\t// First, organize the different versions of the browsers inside the Map\n\tqueryResult.forEach(part => {\n\t\tconst [currentBrowser, version] = part.split(\" \") as [CaniuseBrowser, string];\n\t\tif (currentBrowser !== browser) return;\n\n\t\tconst versionMatch = version.match(NORMALIZE_BROWSER_VERSION_REGEXP);\n\t\tconst normalizedVersion = versionMatch == null ? version : versionMatch[1];\n\n\t\tversions.push(normalizedVersion);\n\t});\n\n\treturn versions.sort(compareVersions);\n}\n\n/**\n * Gets the latest version of the given browser\n */\nexport function getLatestVersionOfBrowser(browser: CaniuseBrowser): string {\n\tconst versions = getSortedBrowserVersions(browser);\n\treturn versions[versions.length - 1];\n}\n\n/**\n * Gets the oldest (stable) version of the given browser\n */\nexport function getOldestVersionOfBrowser(browser: CaniuseBrowser): string {\n\tconst versions = getSortedBrowserVersions(browser);\n\treturn versions[0];\n}\n\n/**\n * Gets the previous version of the given browser from the given version\n */\nexport function getPreviousVersionOfBrowser(browser: CaniuseBrowser, version: string): string | undefined {\n\tconst versions = getSortedBrowserVersions(browser);\n\tconst indexOfVersion = versions.indexOf(normalizeBrowserVersion(browser, version, versions));\n\t// If the version isn't included, or if it is the first version of it, return undefined\n\tif (indexOfVersion <= 0) return undefined;\n\treturn versions[indexOfVersion - 1];\n}\n\n/**\n * Gets the previous version of the given browser from the given version\n */\nexport function getNextVersionOfBrowser(browser: CaniuseBrowser, version: string): string | undefined {\n\tconst versions = getSortedBrowserVersions(browser);\n\tconst indexOfVersion = versions.indexOf(normalizeBrowserVersion(browser, version, versions));\n\t// If the version isn't included, or if it is the first version of it, return undefined\n\tif (indexOfVersion <= 0) return undefined;\n\treturn versions[indexOfVersion + 1];\n}\n","export type EcmaVersion = \"es3\" | \"es5\" | \"es2015\" | \"es2016\" | \"es2017\" | \"es2018\" | \"es2019\" | \"es2020\";\n\nexport const ES5_FEATURES: string[] = [\n\t\"javascript.builtins.Object.create\",\n\t\"javascript.builtins.Object.getPrototypeOf\",\n\t\"javascript.builtins.Object.defineProperty\",\n\t\"javascript.builtins.Object.defineProperties\",\n\t\"javascript.builtins.Object.getOwnPropertyDescriptor\",\n\t\"javascript.builtins.Object.getOwnPropertyNames\",\n\t\"javascript.builtins.Object.keys\",\n\t\"javascript.builtins.Object.preventExtensions\",\n\t\"javascript.builtins.Object.isExtensible\",\n\t\"javascript.builtins.Object.seal\",\n\t\"javascript.builtins.Object.isSealed\",\n\t\"javascript.builtins.Object.freeze\",\n\t\"javascript.builtins.Object.isFrozen\",\n\t\"javascript.builtins.Function.bind\",\n\t\"javascript.builtins.String.trim\",\n\t\"javascript.builtins.Array.isArray\",\n\t\"javascript.builtins.Array.every\",\n\t\"javascript.builtins.Array.filter\",\n\t\"javascript.builtins.Array.forEach\",\n\t\"javascript.builtins.Array.indexOf\",\n\t\"javascript.builtins.Array.lastIndexOf\",\n\t\"javascript.builtins.Array.map\",\n\t\"javascript.builtins.Array.reduce\",\n\t\"javascript.builtins.Array.some\",\n\t\"javascript.builtins.JSON.parse\",\n\t\"javascript.builtins.JSON.stringify\",\n\t\"javascript.builtins.Date.now\",\n\t\"javascript.builtins.Date.toISOString\"\n];\n\nexport const ES2015_FEATURES: string[] = [\n\t...ES5_FEATURES,\n\t\"javascript.classes\",\n\t\"javascript.statements.const\",\n\t\"javascript.statements.let\",\n\t\"javascript.functions.arrow_functions\",\n\t\"javascript.functions.rest_parameters\",\n\t\"javascript.grammar.template_literals\",\n\t\"javascript.operators.destructuring\",\n\t\"javascript.operators.spread.spread_in_arrays\",\n\t\"javascript.functions.default_parameters\",\n\t\"javascript.builtins.RegExp.sticky\",\n\t\"javascript.operators.object_initializer.shorthand_property_names\",\n\t\"javascript.operators.object_initializer.computed_property_names\",\n\t\"javascript.operators.object_initializer.shorthand_method_names\"\n];\n\nexport const ES2016_FEATURES: string[] = [...ES2015_FEATURES, \"javascript.operators.exponentiation\", \"javascript.builtins.Array.includes\"];\n\nexport const ES2017_FEATURES: string[] = [\n\t...ES2016_FEATURES,\n\t\"javascript.builtins.AsyncFunction\",\n\t\"javascript.builtins.Object.values\",\n\t\"javascript.builtins.Object.entries\",\n\t\"javascript.builtins.Object.getOwnPropertyDescriptors\",\n\t\"javascript.builtins.String.padStart\",\n\t\"javascript.builtins.String.padEnd\"\n];\n\nexport const ES2018_FEATURES: string[] = [...ES2017_FEATURES, \"javascript.operators.spread.spread_in_object_literals\", \"javascript.builtins.Promise.finally\"];\n\nexport const ES2019_FEATURES: string[] = [\n\t...ES2018_FEATURES,\n\t\"javascript.builtins.Array.flat\",\n\t\"javascript.builtins.Array.flatMap\",\n\t\"javascript.builtins.Object.fromEntries\",\n\t\"javascript.builtins.String.trimStart\",\n\t\"javascript.builtins.String.trimEnd\",\n\t\"javascript.builtins.JSON.json_superset\",\n\t\"javascript.builtins.JSON.stringify.well_formed_stringify\",\n\t\"javascript.builtins.Symbol.description\",\n\t\"javascript.statements.try_catch.optional_catch_binding\"\n];\n\nexport const ES2020_FEATURES: string[] = [...ES2019_FEATURES, \"javascript.builtins.String.matchAll\"];\n","import {gte, lte} from \"semver\";\nimport {getSortedBrowserVersions} from \"./browser-version\";\nimport {coerceToString} from \"./ensure-semver\";\nimport {CaniuseBrowser, CaniuseSupportKind, CaniuseDataCorrection} from \"./i-caniuse\";\n\n/**\n * Applies the given correction within the given version range\n */\nexport function rangeCorrection(browser: CaniuseBrowser, supportKind: CaniuseSupportKind, start?: string, end?: string): CaniuseDataCorrection[] {\n\tconst versions = getSortedBrowserVersions(browser);\n\tconst corrections: CaniuseDataCorrection[] = [];\n\n\tversions.forEach(version => {\n\t\tlet shouldSet = false;\n\n\t\tif (start == null && end == null) {\n\t\t\tshouldSet = true;\n\t\t} else if (start != null && end == null) {\n\t\t\tif (version === \"TP\") {\n\t\t\t\tshouldSet = true;\n\t\t\t} else if (version === \"all\") {\n\t\t\t\tshouldSet = true;\n\t\t\t} else {\n\t\t\t\tshouldSet = gte(coerceToString(browser, version), coerceToString(browser, start));\n\t\t\t}\n\t\t} else if (start == null && end != null) {\n\t\t\tif (version === \"TP\") {\n\t\t\t\tshouldSet = end === \"TP\";\n\t\t\t} else if (version === \"all\") {\n\t\t\t\tshouldSet = true;\n\t\t\t} else {\n\t\t\t\tshouldSet = lte(coerceToString(browser, version), coerceToString(browser, end));\n\t\t\t}\n\t\t} else if (start != null && end != null) {\n\t\t\tif (version === \"TP\") {\n\t\t\t\tshouldSet = end === \"TP\";\n\t\t\t} else if (version === \"all\") {\n\t\t\t\tshouldSet = true;\n\t\t\t} else {\n\t\t\t\tshouldSet = gte(coerceToString(browser, version), coerceToString(browser, start)) && lte(coerceToString(browser, version), coerceToString(browser, end));\n\t\t\t}\n\t\t}\n\n\t\tif (shouldSet) {\n\t\t\tcorrections.push({\n\t\t\t\tkind: supportKind,\n\t\t\t\tversion\n\t\t\t});\n\t\t}\n\t});\n\treturn corrections;\n}\n","import {UseragentBotKind} from \"./useragent-bot-kind\";\n\nexport type BotToUserAgentsMap = {[Key in UseragentBotKind]: (agent: string) => boolean};\n\nexport const BOT_TO_USER_AGENTS_MAP: BotToUserAgentsMap = {\n\t/* eslint-disable @typescript-eslint/naming-convention */\n\tGoogleBot: agent => agent.includes(\"http://www.google.com/bot.htm\"),\n\tBingBot: agent => agent.includes(\"http://www.bing.com/bingbot.htm\"),\n\tYahooBot: agent => agent.includes(\"http://help.yahoo.com/help/us/ysearch/slurp\"),\n\tFacebookCrawler: agent => agent.includes(\"http://www.facebook.com/externalhit_uatext.php\")\n\t/* eslint-enable @typescript-eslint/naming-convention */\n};\n","import {UAParser} from \"ua-parser-js\";\nimport {BOT_TO_USER_AGENTS_MAP} from \"./useragent/bot/bot-to-user-agents-map\";\nimport {UseragentBrowser, UseragentDevice, UseragentEngine, UseragentOs} from \"./useragent/useragent-typed\";\n\n// tslint:disable\n\n/**\n * A class that wraps UAParser\n */\nexport class UaParserWrapper {\n\t/**\n\t * An instanceof UAParser\n\t */\n\tprivate readonly parser: InstanceType<typeof UAParser>;\n\n\tconstructor(private readonly userAgent: string) {\n\t\tthis.parser = new UAParser(userAgent);\n\t}\n\n\t/**\n\t * Gets the IUserAgentBrowser based on the UAParser\n\t */\n\tgetBrowser(): UseragentBrowser {\n\t\treturn this.extendGetBrowserResult(this.parser.getBrowser() as UseragentBrowser);\n\t}\n\n\t/**\n\t * Gets the IUserAgentOS based on the UAParser\n\t */\n\tgetOS(): UseragentOs {\n\t\treturn this.parser.getOS() as UseragentOs;\n\t}\n\n\t/**\n\t * Gets the IUserAgentDevice based on the UAParser\n\t *\n\t * @returns\n\t */\n\tgetDevice(): UseragentDevice {\n\t\treturn this.parser.getDevice() as UseragentDevice;\n\t}\n\n\t/**\n\t * Gets the IEngine based on the UAParser\n\t */\n\tgetEngine(): UseragentEngine {\n\t\treturn this.parser.getEngine() as UseragentEngine;\n\t}\n\n\t/**\n\t * Gets the ICPU based on the UAParser\n\t */\n\tgetCPU(): ReturnType<InstanceType<typeof UAParser>[\"getCPU\"]> {\n\t\treturn this.parser.getCPU();\n\t}\n\n\t/**\n\t * Extends the result of calling 'getBrowser' on the UAParser and always takes bots into account\n\t */\n\tprivate extendGetBrowserResult(result: UseragentBrowser): UseragentBrowser {\n\t\t// If the parse result already includes a Browser, use it as-is\n\t\tif (result.name != null) return result;\n\n\t\t// Otherwise, check if it is a bot and match it if so\n\t\tif (BOT_TO_USER_AGENTS_MAP.GoogleBot(this.userAgent)) {\n\t\t\tresult.name = \"Chrome\";\n\t\t\tresult.version = \"41\";\n\t\t\t// noinspection JSDeprecatedSymbols\n\t\t\tresult.major = \"41\";\n\t\t}\n\n\t\t// BingBot, The Facebook Crawler, and Yahoo's \"Slurp\" can render JavaScript, but they are very limited in what they can do. Mimic IE8 to reflect the limitations of these engines\n\t\tif (BOT_TO_USER_AGENTS_MAP.BingBot(this.userAgent) || BOT_TO_USER_AGENTS_MAP.YahooBot(this.userAgent) || BOT_TO_USER_AGENTS_MAP.FacebookCrawler(this.userAgent)) {\n\t\t\tresult.name = \"IE\";\n\t\t\tresult.version = \"8\";\n\t\t\t// noinspection JSDeprecatedSymbols\n\t\t\tresult.major = \"8\";\n\t\t}\n\n\t\treturn result;\n\t}\n}\n","import Browserslist from \"browserslist\";\nimport {feature as caniuseFeature, features as caniuseFeatures} from \"caniuse-lite\";\nimport compatData from \"mdn-browser-compat-data\";\nimport {get} from \"object-path\";\nimport {gt, gte} from \"semver\";\nimport {\n\tgetNextVersionOfBrowser,\n\tgetOldestVersionOfBrowser,\n\tgetPreviousVersionOfBrowser,\n\tgetSortedBrowserVersionsWithLeadingVersion,\n\tnormalizeBrowserVersion\n} from \"./browser-version\";\nimport {ensureSemver, coerceToString} from \"./ensure-semver\";\nimport {compareVersions} from \"./compare-versions\";\nimport {ComparisonOperator} from \"./comparison-operator\";\nimport {EcmaVersion, ES2015_FEATURES, ES2016_FEATURES, ES2017_FEATURES, ES2018_FEATURES, ES2019_FEATURES, ES2020_FEATURES, ES5_FEATURES} from \"./ecma-version\";\nimport {rangeCorrection} from \"./range-correction\";\nimport {BrowserSupportForFeaturesCommonResult} from \"./browser-support-for-features-common-result\";\nimport {CaniuseBrowser, CaniuseStats, CaniuseStatsNormalized, CaniuseSupportKind, CaniuseBrowserCorrection, CaniuseFeature} from \"./i-caniuse\";\nimport {Mdn, MdnBrowserName} from \"./mdn\";\nimport {NORMALIZE_BROWSER_VERSION_REGEXP} from \"./normalize-browser-version-regexp\";\nimport {UaParserWrapper} from \"./ua-parser-wrapper\";\nimport {UseragentBrowser, UseragentEngine, UseragentOs} from \"./useragent/useragent-typed\";\n\n/**\n * A Cache between user agent names and generated Browserslists\n */\nconst userAgentToBrowserslistCache: Map<string, string[]> = new Map();\n\n/**\n * A Cache for retrieving browser support for some features\n * @type {Map<string, BrowserSupportForFeaturesCommonResult>}\n */\nconst browserSupportForFeaturesCache: Map<string, BrowserSupportForFeaturesCommonResult> = new Map();\n\n/**\n * A Cache between feature names and their CaniuseStats\n * @type {Map<string, CaniuseStatsNormalized>}\n */\nconst featureToCaniuseStatsCache: Map<string, CaniuseStatsNormalized> = new Map();\n\n/**\n * A Cache between user agents with any amount of features and whether or not they are supported by the user agent\n * @type {Map<string, boolean>}\n */\nconst userAgentWithFeaturesToSupportCache: Map<string, boolean> = new Map();\n\n// tslint:disable:no-magic-numbers\n\n/**\n * A Map between features and browsers that has partial support for them but should be allowed anyway\n * @type {Map<string, string[]>}\n */\nconst PARTIAL_SUPPORT_ALLOWANCES = new Map([\n\t[\"shadowdomv1\", \"*\"],\n\t[\"custom-elementsv1\", \"*\"],\n\t[\"web-animation\", \"*\"]\n]) as Map<string, CaniuseBrowser[] | \"*\">;\n\n/**\n * These browsers will be ignored all-together since they only report the latest\n * version from Caniuse and is considered unreliable because of it\n * @type {Set<string>}\n */\nconst IGNORED_BROWSERS_INPUT: CaniuseBrowser[] = [\"and_chr\", \"and_ff\", \"and_uc\", \"and_qq\", \"baidu\", \"op_mini\"];\nconst IGNORED_BROWSERS: Set<CaniuseBrowser> = new Set(IGNORED_BROWSERS_INPUT);\n\nconst TYPED_ARRAY_BASE_DATA_CORRECTIONS_INPUT: CaniuseBrowserCorrection = {\n\t/* eslint-disable @typescript-eslint/naming-convention */\n\tandroid: rangeCorrection(\"android\", CaniuseSupportKind.AVAILABLE, `4`),\n\tchrome: rangeCorrection(\"and_chr\", CaniuseSupportKind.AVAILABLE, `7`),\n\tand_chr: rangeCorrection(\"and_chr\", CaniuseSupportKind.AVAILABLE, `7`),\n\tedge: rangeCorrection(\"edge\", CaniuseSupportKind.AVAILABLE, \"12\"),\n\tsamsung: rangeCorrection(\"samsung\", CaniuseSupportKind.AVAILABLE, `4`),\n\topera: rangeCorrection(\"opera\", CaniuseSupportKind.AVAILABLE, `12`),\n\top_mob: rangeCorrection(\"op_mob\", CaniuseSupportKind.AVAILABLE, `12`),\n\tfirefox: rangeCorrection(\"firefox\", CaniuseSupportKind.AVAILABLE, `4`),\n\tand_ff: rangeCorrection(\"and_ff\", CaniuseSupportKind.AVAILABLE, `4`),\n\tsafari: rangeCorrection(\"safari\", CaniuseSupportKind.AVAILABLE, `6`),\n\tios_saf: rangeCorrection(\"safari\", CaniuseSupportKind.AVAILABLE, `5`),\n\tie: rangeCorrection(\"ie\", CaniuseSupportKind.AVAILABLE, `11`),\n\top_mini: rangeCorrection(\"op_mini\", CaniuseSupportKind.AVAILABLE, `all`),\n\tbb: rangeCorrection(\"bb\", CaniuseSupportKind.AVAILABLE, `10`),\n\tand_uc: rangeCorrection(\"and_uc\", CaniuseSupportKind.AVAILABLE, `11.8`),\n\tand_qq: rangeCorrection(\"and_qq\", CaniuseSupportKind.AVAILABLE, `1.2`),\n\tbaidu: rangeCorrection(\"baidu\", CaniuseSupportKind.AVAILABLE, `7.12`)\n\t/* eslint-enable @typescript-eslint/naming-convention */\n};\n\nconst TYPED_ARRAY_ES2015_DATA_CORRECTIONS_INPUT: CaniuseBrowserCorrection = {\n\t/* eslint-disable @typescript-eslint/naming-convention */\n\tandroid: rangeCorrection(\"android\", CaniuseSupportKind.AVAILABLE, `45`),\n\tchrome: rangeCorrection(\"and_chr\", CaniuseSupportKind.AVAILABLE, `45`),\n\tand_chr: rangeCorrection(\"and_chr\", CaniuseSupportKind.AVAILABLE, `45`),\n\tedge: rangeCorrection(\"edge\", CaniuseSupportKind.AVAILABLE, \"12\"),\n\tsamsung: rangeCorrection(\"samsung\", CaniuseSupportKind.AVAILABLE, `5`),\n\topera: rangeCorrection(\"opera\", CaniuseSupportKind.AVAILABLE, `32`),\n\top_mob: rangeCorrection(\"op_mob\", CaniuseSupportKind.AVAILABLE, `32`),\n\tfirefox: rangeCorrection(\"firefox\", CaniuseSupportKind.AVAILABLE, `38`),\n\tand_ff: rangeCorrection(\"and_ff\", CaniuseSupportKind.AVAILABLE, `38`),\n\tsafari: rangeCorrection(\"safari\", CaniuseSupportKind.AVAILABLE, `10`),\n\tios_saf: rangeCorrection(\"safari\", CaniuseSupportKind.AVAILABLE, `10`),\n\tie: rangeCorrection(\"ie\", CaniuseSupportKind.AVAILABLE, `11`),\n\tie_mob: rangeCorrection(\"ie\", CaniuseSupportKind.AVAILABLE, `11`)\n\t/* eslint-enable @typescript-eslint/naming-convention */\n};\n\nconst TYPED_ARRAY_ES2016_DATA_CORRECTIONS_INPUT: CaniuseBrowserCorrection = {\n\t/* eslint-disable @typescript-eslint/naming-convention */\n\tandroid: rangeCorrection(\"android\", CaniuseSupportKind.AVAILABLE, `47`),\n\tchrome: rangeCorrection(\"and_chr\", CaniuseSupportKind.AVAILABLE, `47`),\n\tand_chr: rangeCorrection(\"and_chr\", CaniuseSupportKind.AVAILABLE, `47`),\n\tedge: rangeCorrection(\"edge\", CaniuseSupportKind.AVAILABLE, \"14\"),\n\tsamsung: rangeCorrection(\"samsung\", CaniuseSupportKind.AVAILABLE, `5`),\n\topera: rangeCorrection(\"opera\", CaniuseSupportKind.AVAILABLE, `34`),\n\top_mob: rangeCorrection(\"op_mob\", CaniuseSupportKind.AVAILABLE, `34`),\n\tfirefox: rangeCorrection(\"firefox\", CaniuseSupportKind.AVAILABLE, `43`),\n\tand_ff: rangeCorrection(\"and_ff\", CaniuseSupportKind.AVAILABLE, `43`),\n\tsafari: rangeCorrection(\"safari\", CaniuseSupportKind.AVAILABLE, `10`),\n\tios_saf: rangeCorrection(\"safari\", CaniuseSupportKind.AVAILABLE, `10`)\n\t/* eslint-enable @typescript-eslint/naming-convention */\n};\n\nconst TYPED_ARRAY_KEYS_VALUES_ENTRIES_ITERATOR_DATA_CORRECTIONS_INPUT: CaniuseBrowserCorrection = {\n\t/* eslint-disable @typescript-eslint/naming-convention */\n\tandroid: rangeCorrection(\"android\", CaniuseSupportKind.AVAILABLE, `38`),\n\tchrome: rangeCorrection(\"and_chr\", CaniuseSupportKind.AVAILABLE, `38`),\n\tand_chr: rangeCorrection(\"and_chr\", CaniuseSupportKind.AVAILABLE, `38`),\n\tedge: rangeCorrection(\"edge\", CaniuseSupportKind.AVAILABLE, \"12\"),\n\tsamsung: rangeCorrection(\"samsung\", CaniuseSupportKind.AVAILABLE, `5`),\n\topera: rangeCorrection(\"opera\", CaniuseSupportKind.AVAILABLE, `26`),\n\top_mob: rangeCorrection(\"op_mob\", CaniuseSupportKind.AVAILABLE, `26`),\n\tfirefox: rangeCorrection(\"firefox\", CaniuseSupportKind.AVAILABLE, `37`),\n\tand_ff: rangeCorrection(\"and_ff\", CaniuseSupportKind.AVAILABLE, `37`),\n\tsafari: rangeCorrection(\"safari\", CaniuseSupportKind.AVAILABLE, `10`),\n\tios_saf: rangeCorrection(\"safari\", CaniuseSupportKind.AVAILABLE, `10`)\n\t/* eslint-enable @typescript-eslint/naming-convention */\n};\n\nconst TYPED_ARRAY_SPECIES_DATA_CORRECTIONS_INPUT: CaniuseBrowserCorrection = {\n\t/* eslint-disable @typescript-eslint/naming-convention */\n\tandroid: rangeCorrection(\"android\", CaniuseSupportKind.AVAILABLE, `51`),\n\tchrome: rangeCorrection(\"and_chr\", CaniuseSupportKind.AVAILABLE, `51`),\n\tand_chr: rangeCorrection(\"and_chr\", CaniuseSupportKind.AVAILABLE, `51`),\n\tedge: rangeCorrection(\"edge\", CaniuseSupportKind.AVAILABLE, \"13\"),\n\tsamsung: rangeCorrection(\"samsung\", CaniuseSupportKind.AVAILABLE, `5`),\n\topera: rangeCorrection(\"opera\", CaniuseSupportKind.AVAILABLE, `38`),\n\top_mob: rangeCorrection(\"op_mob\", CaniuseSupportKind.AVAILABLE, `38`),\n\tfirefox: rangeCorrection(\"firefox\", CaniuseSupportKind.AVAILABLE, `48`),\n\tand_ff: rangeCorrection(\"and_ff\", CaniuseSupportKind.AVAILABLE, `48`),\n\tsafari: rangeCorrection(\"safari\", CaniuseSupportKind.AVAILABLE, `10`),\n\tios_saf: rangeCorrection(\"safari\", CaniuseSupportKind.AVAILABLE, `10`)\n\t/* eslint-enable @typescript-eslint/naming-convention */\n};\n\n/**\n * Not all Caniuse data is entirely correct. For some features, the data on https://kangax.github.io/compat-table/es6/\n * is more correct. When a Browserslist is generated based on support for specific features, it is really important\n * that it is correct, especially if the browserslist will be used as an input to tools such as @babel/preset-env.\n * This table provides some corrections to the Caniuse data that makes it align better with actual availability\n * @type {[string, CaniuseBrowserCorrection][]}\n */\nconst FEATURE_TO_BROWSER_DATA_CORRECTIONS_INPUT: [string, CaniuseBrowserCorrection][] = [\n\t/* eslint-disable @typescript-eslint/naming-convention */\n\t[\n\t\t\"xhr2\",\n\t\t{\n\t\t\tie: [\n\t\t\t\t{\n\t\t\t\t\t// Caniuse reports that XMLHttpRequest support is partial in Internet Explorer 11, but it is in fact properly supported\n\t\t\t\t\tkind: CaniuseSupportKind.AVAILABLE,\n\t\t\t\t\tversion: \"11\"\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t],\n\t[\n\t\t// Caniuse reports that Safari 12.1 and iOS Safari 12.2 has partial support for Web Animations,\n\t\t// but they do not - They require enabling it as an experimental feature\n\t\t\"web-animation\",\n\t\t{\n\t\t\tsafari: rangeCorrection(\"safari\", CaniuseSupportKind.UNAVAILABLE, `0`),\n\t\t\tios_saf: rangeCorrection(\"ios_saf\", CaniuseSupportKind.UNAVAILABLE, `0`)\n\t\t}\n\t],\n\t[\n\t\t\"es6-class\",\n\t\t{\n\t\t\tedge: [\n\t\t\t\t{\n\t\t\t\t\t// Caniuse reports that Microsoft Edge has been supporting classes since v12, but it was prefixed until v13\n\t\t\t\t\tkind: CaniuseSupportKind.PREFIXED,\n\t\t\t\t\tversion: \"12\"\n\t\t\t\t}\n\t\t\t],\n\t\t\tios_saf: [\n\t\t\t\t{\n\t\t\t\t\t// Caniuse reports that iOS Safari has been supporting classes since v9, but the implementation was only partial\n\t\t\t\t\tkind: CaniuseSupportKind.PARTIAL_SUPPORT,\n\t\t\t\t\tversion: \"9\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t// Caniuse reports that iOS Safari has been supporting classes since v9, but the implementation was only partial\n\t\t\t\t\tkind: CaniuseSupportKind.PARTIAL_SUPPORT,\n\t\t\t\t\tversion: \"9.2\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t// Caniuse reports that iOS Safari has been supporting classes since v9, but the implementation was only partial\n\t\t\t\t\tkind: CaniuseSupportKind.PARTIAL_SUPPORT,\n\t\t\t\t\tversion: \"9.3\"\n\t\t\t\t}\n\t\t\t],\n\t\t\tsafari: [\n\t\t\t\t{\n\t\t\t\t\t// Caniuse reports that Safari has been supporting classes since v9, but the implementation was only partial\n\t\t\t\t\tkind: CaniuseSupportKind.PARTIAL_SUPPORT,\n\t\t\t\t\tversion: \"9\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t// Caniuse reports that Safari has been supporting classes since v9, but the implementation was only partial\n\t\t\t\t\tkind: CaniuseSupportKind.PARTIAL_SUPPORT,\n\t\t\t\t\tversion: \"9.1\"\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t],\n\t[\"javascript.builtins.TypedArray.from\", TYPED_ARRAY_ES2015_DATA_CORRECTIONS_INPUT],\n\t[\"javascript.builtins.TypedArray.of\", TYPED_ARRAY_ES2015_DATA_CORRECTIONS_INPUT],\n\t[\"javascript.builtins.TypedArray.subarray\", TYPED_ARRAY_BASE_DATA_CORRECTIONS_INPUT],\n\t[\"javascript.builtins.TypedArray.copyWithin\", TYPED_ARRAY_ES2015_DATA_CORRECTIONS_INPUT],\n\t[\"javascript.builtins.TypedArray.every\", TYPED_ARRAY_ES2015_DATA_CORRECTIONS_INPUT],\n\t[\"javascript.builtins.TypedArray.fill\", TYPED_ARRAY_ES2015_DATA_CORRECTIONS_INPUT],\n\t[\"javascript.builtins.TypedArray.filter\", TYPED_ARRAY_ES2015_DATA_CORRECTIONS_INPUT],\n\t[\"javascript.builtins.TypedArray.find\", TYPED_ARRAY_ES2015_DATA_CORRECTIONS_INPUT],\n\t[\"javascript.builtins.TypedArray.findIndex\", TYPED_ARRAY_ES2015_DATA_CORRECTIONS_INPUT],\n\t[\"javascript.builtins.TypedArray.forEach\", TYPED_ARRAY_ES2015_DATA_CORRECTIONS_INPUT],\n\t[\"javascript.builtins.TypedArray.indexOf\", TYPED_ARRAY_ES2015_DATA_CORRECTIONS_INPUT],\n\t[\"javascript.builtins.TypedArray.join\", TYPED_ARRAY_ES2015_DATA_CORRECTIONS_INPUT],\n\t[\"javascript.builtins.TypedArray.lastIndexOf\", TYPED_ARRAY_ES2015_DATA_CORRECTIONS_INPUT],\n\t[\"javascript.builtins.TypedArray.map\", TYPED_ARRAY_ES2015_DATA_CORRECTIONS_INPUT],\n\t[\"javascript.builtins.TypedArray.reduce\", TYPED_ARRAY_ES2015_DATA_CORRECTIONS_INPUT],\n\t[\"javascript.builtins.TypedArray.reduceRight\", TYPED_ARRAY_ES2015_DATA_CORRECTIONS_INPUT],\n\t[\"javascript.builtins.TypedArray.reverse\", TYPED_ARRAY_ES2015_DATA_CORRECTIONS_INPUT],\n\t[\"javascript.builtins.TypedArray.some\", TYPED_ARRAY_ES2015_DATA_CORRECTIONS_INPUT],\n\t[\"javascript.builtins.TypedArray.sort\", TYPED_ARRAY_ES2015_DATA_CORRECTIONS_INPUT],\n\t[\"javascript.builtins.TypedArray.toLocaleString\", TYPED_ARRAY_ES2015_DATA_CORRECTIONS_INPUT],\n\t[\"javascript.builtins.TypedArray.toString\", TYPED_ARRAY_ES2015_DATA_CORRECTIONS_INPUT],\n\t[\"javascript.builtins.TypedArray.slice\", TYPED_ARRAY_ES2015_DATA_CORRECTIONS_INPUT],\n\t[\"javascript.builtins.TypedArray.includes\", TYPED_ARRAY_ES2016_DATA_CORRECTIONS_INPUT],\n\t[\"javascript.builtins.TypedArray.keys\", TYPED_ARRAY_KEYS_VALUES_ENTRIES_ITERATOR_DATA_CORRECTIONS_INPUT],\n\t[\"javascript.builtins.TypedArray.values\", TYPED_ARRAY_KEYS_VALUES_ENTRIES_ITERATOR_DATA_CORRECTIONS_INPUT],\n\t[\"javascript.builtins.TypedArray.entries\", TYPED_ARRAY_KEYS_VALUES_ENTRIES_ITERATOR_DATA_CORRECTIONS_INPUT],\n\t[\"javascript.builtins.TypedArray.@@iterator\", TYPED_ARRAY_KEYS_VALUES_ENTRIES_ITERATOR_DATA_CORRECTIONS_INPUT],\n\t[\"javascript.builtins.TypedArray.@@species\", TYPED_ARRAY_SPECIES_DATA_CORRECTIONS_INPUT],\n\t[\"javascript.builtins.TypedArray\", TYPED_ARRAY_BASE_DATA_CORRECTIONS_INPUT],\n\t[\"javascript.builtins.Int8Array\", TYPED_ARRAY_BASE_DATA_CORRECTIONS_INPUT],\n\t[\"javascript.builtins.Int16Array\", TYPED_ARRAY_BASE_DATA_CORRECTIONS_INPUT],\n\t[\"javascript.builtins.Int32Array\", TYPED_ARRAY_BASE_DATA_CORRECTIONS_INPUT],\n\t[\"javascript.builtins.Float32Array\", TYPED_ARRAY_BASE_DATA_CORRECTIONS_INPUT],\n\t[\"javascript.builtins.Float64Array\", TYPED_ARRAY_BASE_DATA_CORRECTIONS_INPUT],\n\t[\"javascript.builtins.Uint8Array\", TYPED_ARRAY_BASE_DATA_CORRECTIONS_INPUT],\n\t[\"javascript.builtins.Uint8ClampedArray\", TYPED_ARRAY_BASE_DATA_CORRECTIONS_INPUT],\n\t[\"javascript.builtins.Uint16ClampedArray\", TYPED_ARRAY_BASE_DATA_CORRECTIONS_INPUT],\n\t[\"javascript.builtins.Uint32ClampedArray\", TYPED_ARRAY_BASE_DATA_CORRECTIONS_INPUT],\n\t[\n\t\t\"javascript.builtins.String.@@iterator\",\n\t\t{\n\t\t\tandroid: rangeCorrection(\"chrome\", CaniuseSupportKind.AVAILABLE, `38`),\n\t\t\tchrome: rangeCorrection(\"chrome\", CaniuseSupportKind.AVAILABLE, `38`),\n\t\t\tand_chr: rangeCorrection(\"and_chr\", CaniuseSupportKind.AVAILABLE, `38`),\n\t\t\tedge: rangeCorrection(\"edge\", CaniuseSupportKind.AVAILABLE, `12`),\n\t\t\topera: rangeCorrection(\"opera\", CaniuseSupportKind.AVAILABLE, `25`),\n\t\t\top_mob: rangeCorrection(\"op_mob\", CaniuseSupportKind.AVAILABLE, `25`),\n\t\t\tfirefox: rangeCorrection(\"firefox\", CaniuseSupportKind.AVAILABLE, `36`),\n\t\t\tand_ff: rangeCorrection(\"and_ff\", CaniuseSupportKind.AVAILABLE, `36`),\n\t\t\tsafari: rangeCorrection(\"safari\", CaniuseSupportKind.AVAILABLE, `9`),\n\t\t\tios_saf: rangeCorrection(\"ios_saf\", CaniuseSupportKind.AVAILABLE, `9`),\n\t\t\tsamsung: rangeCorrection(\"samsung\", CaniuseSupportKind.AVAILABLE, `3`)\n\t\t}\n\t],\n\t[\n\t\t\"javascript.builtins.Symbol.asyncIterator\",\n\t\t{\n\t\t\tandroid: rangeCorrection(\"android\", CaniuseSupportKind.AVAILABLE, `63`),\n\t\t\tchrome: rangeCorrection(\"chrome\", CaniuseSupportKind.AVAILABLE, `63`),\n\t\t\tand_chr: rangeCorrection(\"and_chr\", CaniuseSupportKind.AVAILABLE, `63`),\n\t\t\topera: rangeCorrection(\"opera\", CaniuseSupportKind.AVAILABLE, `50`),\n\t\t\top_mob: rangeCorrection(\"op_mob\", CaniuseSupportKind.AVAILABLE, `50`),\n\t\t\tfirefox: rangeCorrection(\"firefox\", CaniuseSupportKind.AVAILABLE, `57`),\n\t\t\tand_ff: rangeCorrection(\"and_ff\", CaniuseSupportKind.AVAILABLE, `57`),\n\t\t\tsafari: rangeCorrection(\"safari\", CaniuseSupportKind.AVAILABLE, `11.1`),\n\t\t\tios_saf: rangeCorrection(\"ios_saf\", CaniuseSupportKind.AVAILABLE, `11.1`)\n\t\t}\n\t],\n\t[\n\t\t\"javascript.builtins.Array.@@species\",\n\t\t{\n\t\t\tandroid: rangeCorrection(\"android\", CaniuseSupportKind.AVAILABLE, `51`),\n\t\t\t// MDN reports that it doesn't support Array.@@species, but it does and has done since Chrome v51\n\t\t\tchrome: rangeCorrection(\"chrome\", CaniuseSupportKind.AVAILABLE, `51`),\n\t\t\t// MDN reports that it doesn't support Array.@@species, but it does and has done since Chrome for Android v51\n\t\t\tand_chr: rangeCorrection(\"and_chr\", CaniuseSupportKind.AVAILABLE, `51`),\n\t\t\t// MDN reports that it doesn't support Array.@@species, but it does and has done since Edge v14\n\t\t\tedge: rangeCorrection(\"edge\", CaniuseSupportKind.AVAILABLE, `14`),\n\t\t\t// MDN reports that it doesn't support Array.@@species, but it does and has done since Firefox v41\n\t\t\tfirefox: rangeCorrection(\"firefox\", CaniuseSupportKind.AVAILABLE, `41`),\n\t\t\t// MDN reports that it doesn't support Array.@@species, but it does and has done since Firefox for Android v41\n\t\t\tand_ff: rangeCorrection(\"and_ff\", CaniuseSupportKind.AVAILABLE, `41`),\n\t\t\t// MDN reports that it doesn't support Array.@@species, but it does and has done since Opera v38\n\t\t\topera: rangeCorrection(\"opera\", CaniuseSupportKind.AVAILABLE, `38`),\n\t\t\t// MDN reports that it doesn't support Array.@@species, but it does and has done since Opera for Android v38\n\t\t\top_mob: rangeCorrection(\"op_mob\", CaniuseSupportKind.AVAILABLE, `38`),\n\t\t\t// MDN reports that it doesn't support Array.@@species, but it does and has done since Safari v10\n\t\t\tsafari: rangeCorrection(\"safari\", CaniuseSupportKind.AVAILABLE, `10`),\n\t\t\t// MDN reports that it doesn't support Array.@@species, but it does and has done since Safari for iOS v10\n\t\t\tios_saf: rangeCorrection(\"ios_saf\", CaniuseSupportKind.AVAILABLE, `10`)\n\t\t}\n\t],\n\t[\n\t\t\"javascript.builtins.Date.@@toPrimitive\",\n\t\t{\n\t\t\tandroid: rangeCorrection(\"android\", CaniuseSupportKind.AVAILABLE, `48`),\n\t\t\t// MDN reports that it doesn't support Date.@@toPrimitive, but it does and has done since Chrome v48\n\t\t\tchrome: rangeCorrection(\"chrome\", CaniuseSupportKind.AVAILABLE, `48`),\n\t\t\t// MDN reports that it doesn't support Date.@@toPrimitive, but it does and has done since Chrome for Android v48\n\t\t\tand_chr: rangeCorrection(\"and_chr\", CaniuseSupportKind.AVAILABLE, `48`),\n\t\t\t// MDN reports that it doesn't support Date.@@toPrimitive, but it does and has done in all Edge versions\n\t\t\tedge: rangeCorrection(\"edge\", CaniuseSupportKind.AVAILABLE),\n\t\t\t// MDN reports that it doesn't support Date.@@toPrimitive, but it does and has done since Firefox v44\n\t\t\tfirefox: rangeCorrection(\"firefox\", CaniuseSupportKind.AVAILABLE, `44`),\n\t\t\t// MDN reports that it doesn't support Date.@@toPrimitive, but it does and has done since Firefox for Android v44\n\t\t\tand_ff: rangeCorrection(\"and_ff\", CaniuseSupportKind.AVAILABLE, `44`),\n\t\t\t// MDN reports that it doesn't support Date.@@toPrimitive, but it does and has done since Opera v35\n\t\t\topera: rangeCorrection(\"opera\", CaniuseSupportKind.AVAILABLE, `35`),\n\t\t\t// MDN reports that it doesn't support Date.@@toPrimitive, but it does and has done since Opera for Android v35\n\t\t\top_mob: rangeCorrection(\"op_mob\", CaniuseSupportKind.AVAILABLE, `35`),\n\t\t\t// MDN reports that it doesn't support Date.@@toPrimitive, but it does and has done since Safari v10\n\t\t\tsafari: rangeCorrection(\"safari\", CaniuseSupportKind.AVAILABLE, `10`),\n\t\t\t// MDN reports that it doesn't support Date.@@toPrimitive, but it does and has done since Safari for iOS v10\n\t\t\tios_saf: rangeCorrection(\"ios_saf\", CaniuseSupportKind.AVAILABLE, `10`),\n\t\t\t// MDN reports that it doesn't support the Date.@@toPrimitive method, but it does and has done for all Samsung Internet versions\n\t\t\tsamsung: rangeCorrection(\"samsung\", CaniuseSupportKind.AVAILABLE)\n\t\t}\n\t],\n\t[\n\t\t\"fetch\",\n\t\t{\n\t\t\tedge: [\n\t\t\t\t{\n\t\t\t\t\t// Caniuse reports that Microsoft Edge has been supporting fetch since v14, but the implementation was quite unstable until v15\n\t\t\t\t\tkind: CaniuseSupportKind.UNAVAILABLE,\n\t\t\t\t\tversion: \"14\"\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t],\n\t[\n\t\t\"api.Window\",\n\t\t{\n\t\t\tchrome: rangeCorrection(\"chrome\", CaniuseSupportKind.UNAVAILABLE, `0`, `18`),\n\t\t\tsafari: rangeCorrection(\"safari\", CaniuseSupportKind.UNAVAILABLE, `0`, `5.1`),\n\t\t\tie: rangeCorrection(\"ie\", CaniuseSupportKind.UNAVAILABLE, `0`, `7`),\n\t\t\topera: rangeCorrection(\"safari\", CaniuseSupportKind.UNAVAILABLE, `0`, `11.1`)\n\t\t}\n\t],\n\t[\n\t\t\"javascript.builtins.String.matchAll\",\n\t\t{\n\t\t\tsamsung: rangeCorrection(\"samsung\", CaniuseSupportKind.UNAVAILABLE, `0`, `9.4`)\n\t\t}\n\t],\n\t[\n\t\t\"resizeobserver\",\n\t\t{\n\t\t\tsafari: rangeCorrection(\"safari\", CaniuseSupportKind.UNAVAILABLE, `0`)\n\t\t}\n\t]\n\t/* eslint-enable @typescript-eslint/naming-convention */\n];\n\n/**\n * A Map between caniuse features and corrections to apply (see above)\n * @type {Map<string, CaniuseBrowserCorrection>}\n */\nconst FEATURE_TO_BROWSER_DATA_CORRECTIONS_MAP: Map<string, CaniuseBrowserCorrection> = new Map(FEATURE_TO_BROWSER_DATA_CORRECTIONS_INPUT);\n\n/**\n * Returns the input query, but extended with the given options\n */\nfunction extendQueryWith(query: string[], extendWith: string | string[]): string[] {\n\tconst normalizedExtendWith = Array.isArray(extendWith) ? extendWith : [extendWith];\n\treturn [...new Set([...query, ...normalizedExtendWith])];\n}\n\n/**\n * Normalizes the given Browserslist\n */\nexport function normalizeBrowserslist(browserslist: string | string[]): string[] {\n\treturn Browserslist(browserslist);\n}\n\n/**\n * Returns the input query, but extended with 'unreleased versions'\n *\n * @param query\n * @param browsers\n * @returns\n */\nfunction extendQueryWithUnreleasedVersions(query: string[], browsers: Iterable<CaniuseBrowser>): string[] {\n\treturn extendQueryWith(\n\t\tquery,\n\t\tArray.from(browsers).map(browser => `unreleased ${browser} versions`)\n\t);\n}\n\n/**\n * Generates a Browserslist based on browser support for the given features\n *\n * @param features\n * @returns\n */\nexport function browsersWithSupportForFeatures(...features: string[]): string[] {\n\tconst {query, browsers} = browserSupportForFeaturesCommon(\">=\", ...features);\n\treturn extendQueryWithUnreleasedVersions(query, browsers);\n}\n\n/**\n * Returns true if the given Browserslist supports the given EcmaVersion\n * @param browserslist\n * @param version\n */\nexport function browserslistSupportsEcmaVersion(browserslist: string[], version: EcmaVersion): boolean {\n\tswitch (version) {\n\t\tcase \"es3\":\n\t\t\t// ES3 is the lowest possible target and will always be treated as supported\n\t\t\treturn true;\n\n\t\tcase \"es5\":\n\t\t\treturn browserslistSupportsFeatures(browserslist, ...ES5_FEATURES);\n\n\t\tcase \"es2015\":\n\t\t\treturn browserslistSupportsFeatures(browserslist, ...ES2015_FEATURES);\n\n\t\tcase \"es2016\":\n\t\t\treturn browserslistSupportsFeatures(browserslist, ...ES2016_FEATURES);\n\n\t\tcase \"es2017\":\n\t\t\treturn browserslistSupportsFeatures(browserslist, ...ES2017_FEATURES);\n\n\t\tcase \"es2018\":\n\t\t\treturn browserslistSupportsFeatures(browserslist, ...ES2018_FEATURES);\n\n\t\tcase \"es2019\":\n\t\t\treturn browserslistSupportsFeatures(browserslist, ...ES2019_FEATURES);\n\n\t\tcase \"es2020\":\n\t\t\treturn browserslistSupportsFeatures(browserslist, ...ES2020_FEATURES);\n\t}\n}\n\n/**\n * Returns the appropriate Ecma version for the given Browserslist\n *\n * @param browserslist\n * @returns\n */\nexport function getAppropriateEcmaVersionForBrowserslist(browserslist: string[]): EcmaVersion {\n\tif (browserslistSupportsEcmaVersion(browserslist, \"es2020\")) return \"es2020\";\n\tif (browserslistSupportsEcmaVersion(browserslist, \"es2019\")) return \"es2019\";\n\tif (browserslistSupportsEcmaVersion(browserslist, \"es2018\")) return \"es2018\";\n\telse if (browserslistSupportsEcmaVersion(browserslist, \"es2017\")) return \"es2017\";\n\telse if (browserslistSupportsEcmaVersion(browserslist, \"es2016\")) return \"es2016\";\n\telse if (browserslistSupportsEcmaVersion(browserslist, \"es2015\")) return \"es2015\";\n\telse if (browserslistSupportsEcmaVersion(browserslist, \"es5\")) return \"es5\";\n\telse return \"es3\";\n}\n\n/**\n * Generates a Browserslist based on browser support for the given ECMA version\n *\n * @param version\n * @returns\n */\nexport function browsersWithSupportForEcmaVersion(version: EcmaVersion): string[] {\n\tswitch (version) {\n\t\tcase \"es3\":\n\t\t\treturn browsersWithoutSupportForFeatures(...ES5_FEATURES);\n\t\tcase \"es5\":\n\t\t\treturn browsersWithSupportForFeatures(...ES5_FEATURES);\n\t\tcase \"es2015\":\n\t\t\treturn browsersWithSupportForFeatures(...ES2015_FEATURES);\n\t\tcase \"es2016\":\n\t\t\treturn browsersWithSupportForFeatures(...ES2016_FEATURES);\n\t\tcase \"es2017\":\n\t\t\treturn browsersWithSupportForFeatures(...ES2017_FEATURES);\n\t\tcase \"es2018\":\n\t\t\treturn browsersWithSupportForFeatures(...ES2018_FEATURES);\n\t\tcase \"es2019\":\n\t\t\treturn browsersWithSupportForFeatures(...ES2019_FEATURES);\n\t\tcase \"es2020\":\n\t\t\treturn browsersWithSupportForFeatures(...ES2020_FEATURES);\n\t}\n}\n\n/**\n * Returns true if the given browserslist support all of the given features\n *\n * @param browserslist\n * @param features\n * @returns\n */\nexport function browserslistSupportsFeatures(browserslist: string[], ...features: string[]): boolean {\n\t// First, generate an ideal browserslist that would target the given features exactly\n\tconst normalizedIdealBrowserslist: string[] = normalizeBrowserslist(browsersWithSupportForFeatures(...features));\n\n\t// Now, normalize the input browserslist\n\tconst normalizedInputBrowserslist: string[] = normalizeBrowserslist(browserslist);\n\n\t// Now, compare the two and see if they align. If they do, the input browserslist *does* support all of the given features.\n\t// They align if all members of the input browserslist are included in the ideal browserslist\n\treturn normalizedInputBrowserslist.every(option => normalizedIdealBrowserslist.includes(option));\n}\n\n/**\n * Generates a Browserslist based on browsers that *doesn't* support the given features\n *\n * @param features\n * @returns\n */\nexport function browsersWithoutSupportForFeatures(...features: string[]): string[] {\n\treturn browserSupportForFeaturesCommon(\"<\", ...features).query;\n}\n\n/**\n * Returns true if the given browser should be ignored. The data reported from Caniuse is a bit lacking.\n * For example, only the latest version of and_ff, and_qq, and_uc and baidu is reported, and since\n * android went to use Chromium for the WebView, it has only reported the latest Chromium version\n *\n * @param browser\n * @param version\n * @returns\n */\nfunction shouldIgnoreBrowser(browser: CaniuseBrowser, version: string): boolean {\n\treturn (\n\t\t(browser === \"android\" && gt(coerceToString(browser, version), coerceToString(browser, \"4.4.4\"))) ||\n\t\t(browser === \"op_mob\" && gt(coerceToString(browser, version), coerceToString(browser, \"12.1\"))) ||\n\t\tIGNORED_BROWSERS.has(browser)\n\t);\n}\n\n/**\n * Normalizes the given ICaniuseLiteFeature\n *\n * @param stats\n * @param featureName\n * @returns\n */\nfunction getCaniuseLiteFeatureNormalized(stats: CaniuseStats, featureName: string): CaniuseStatsNormalized {\n\t// Check if a correction exists for this browser\n\tconst featureCorrectionMatch = FEATURE_TO_BROWSER_DATA_CORRECTIONS_MAP.get(featureName);\n\n\tObject.keys(stats).forEach((browser: keyof CaniuseStats) => {\n\t\tconst browserDict = stats[browser];\n\t\tObject.entries(browserDict).forEach(([version, support]: [string, string]) => {\n\t\t\tconst versionMatch = version.match(NORMALIZE_BROWSER_VERSION_REGEXP);\n\t\t\tconst normalizedVersion = versionMatch == null ? version : versionMatch[1];\n\t\t\tlet supportKind: CaniuseSupportKind;\n\n\t\t\tif (\n\t\t\t\tsupport === CaniuseSupportKind.AVAILABLE ||\n\t\t\t\tsupport === CaniuseSupportKind.UNAVAILABLE ||\n\t\t\t\tsupport === CaniuseSupportKind.PARTIAL_SUPPORT ||\n\t\t\t\tsupport === CaniuseSupportKind.PREFIXED\n\t\t\t) {\n\t\t\t\tsupportKind = support;\n\t\t\t} else if (support.startsWith(\"y\")) {\n\t\t\t\tsupportKind = CaniuseSupportKind.AVAILABLE;\n\t\t\t} else if (support.startsWith(\"n\")) {\n\t\t\t\tsupportKind = CaniuseSupportKind.UNAVAILABLE;\n\t\t\t} else if (support.startsWith(\"a\")) {\n\t\t\t\tsupportKind = CaniuseSupportKind.PARTIAL_SUPPORT;\n\t\t\t} else {\n\t\t\t\tsupportKind = CaniuseSupportKind.PREFIXED;\n\t\t\t}\n\n\t\t\t// Delete the rewritten version\n\t\t\tif (version !== normalizedVersion) {\n\t\t\t\tdelete browserDict[version];\n\t\t\t}\n\t\t\tif (support !== supportKind) {\n\t\t\t\tbrowserDict[normalizedVersion] = supportKind;\n\t\t\t}\n\n\t\t\t// If a feature correction exists for this feature, apply applicable corrections\n\t\t\tif (featureCorrectionMatch != null) {\n\t\t\t\t// Check if the browser has some corrections\n\t\t\t\tconst browserMatch = featureCorrectionMatch[browser];\n\t\t\t\tif (browserMatch != null) {\n\t\t\t\t\t// Apply all corrections\n\t\t\t\t\tbrowserMatch.forEach(correction => {\n\t\t\t\t\t\tbrowserDict[correction.version] = correction.kind;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n\treturn stats as CaniuseStatsNormalized;\n}\n\n/**\n * Gets the support from caniuse for the given feature\n *\n * @param feature\n * @returns\n */\nfunction getCaniuseFeatureSupport(feature: string): CaniuseStatsNormalized {\n\tconst rawStats = (caniuseFeature(caniuseFeatures[feature]) as CaniuseFeature).stats;\n\n\tfor (const browser of Object.keys(rawStats)) {\n\t\tconst browserDict = rawStats[browser as keyof CaniuseStatsNormalized];\n\t\tfor (const version of Object.keys(browserDict)) {\n\t\t\t// If browser is Android and version is greater than \"4.4.4\", or if the browser is Chrome, Firefox, UC, QQ for Android, or Baidu,\n\t\t\t// strip it entirely from the data, since Caniuse only reports the latest versions of those browsers\n\t\t\tif (shouldIgnoreBrowser(browser as keyof CaniuseStatsNormalized, version)) {\n\t\t\t\tdelete browserDict[version];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn getCaniuseLiteFeatureNormalized(rawStats, feature);\n}\n\n/**\n * Returns true if the given feature is a Caniuse feature\n * @param feature\n */\nfunction isCaniuseFeature(feature: string): boolean {\n\treturn caniuseFeatures[feature] != null;\n}\n\n/**\n * Returns true if the given feature is a MDN feature\n * @param feature\n */\nfunction isMdnFeature(feature: string): boolean {\n\treturn get(compatData, feature) != null;\n}\n\n/**\n * Asserts that the given feature is a valid Caniuse or MDN feature name\n *\n * @param feature\n */\nfunction assertKnownFeature(feature: string): void {\n\tif (!isCaniuseFeature(feature) && !isMdnFeature(feature)) {\n\t\tthrow new TypeError(`The given feature: '${feature}' is unknown. It must be a valid Caniuse or MDN feature!`);\n\t}\n}\n\n/**\n * Gets the feature support for the given feature\n *\n * @param feature\n * @returns\n */\nfunction getFeatureSupport(feature: string): CaniuseStatsNormalized {\n\t// First check if the cache has a match and return it if so\n\tconst cacheHit = featureToCaniuseStatsCache.get(feature);\n\tif (cacheHit != null) return cacheHit;\n\n\t// Assert that the feature is in fact known\n\tassertKnownFeature(feature);\n\n\tconst result = isMdnFeature(feature) ? getMdnFeatureSupport(feature) : getCaniuseFeatureSupport(feature);\n\n\t// Store it in the cache before returning it\n\tfeatureToCaniuseStatsCache.set(feature, result);\n\treturn result;\n}\n\n/**\n * Gets the support from caniuse for the given feature\n *\n * @param feature\n * @returns\n */\nfunction getMdnFeatureSupport(feature: string): CaniuseStatsNormalized {\n\tconst match: Mdn = get(compatData, feature);\n\tconst supportMap = match.__compat.support;\n\n\tconst formatBrowser = (mdnBrowser: MdnBrowserName, caniuseBrowser: CaniuseBrowser): {[key: string]: CaniuseSupportKind} => {\n\t\tconst versionMap = supportMap[mdnBrowser];\n\t\tconst versionAdded =\n\t\t\tversionMap == null\n\t\t\t\t? false\n\t\t\t\t: Array.isArray(versionMap)\n\t\t\t\t? // If there are multiple entries, take the one that hasn't been removed yet, if any\n\t\t\t\t  (() => {\n\t\t\t\t\t\tconst versionStillInBrowser = versionMap.filter(element => element.version_removed == null)[0];\n\t\t\t\t\t\treturn versionStillInBrowser == null || versionStillInBrowser.version_added == null ? false : (versionStillInBrowser.version_added as string | boolean);\n\t\t\t\t  })()\n\t\t\t\t: versionMap.version_added;\n\n\t\tconst dict: {[key: string]: CaniuseSupportKind} = {};\n\t\tconst supportedSince: string | null = versionAdded === false ? null : versionAdded === true ? getOldestVersionOfBrowser(caniuseBrowser) : versionAdded;\n\n\t\tgetSortedBrowserVersionsWithLeadingVersion(caniuseBrowser, typeof versionAdded === \"string\" ? versionAdded : undefined).forEach(version => {\n\t\t\t// If the features has never been supported, mark the feature as unavailable\n\t\t\tif (supportedSince == null) {\n\t\t\t\tdict[version] = CaniuseSupportKind.UNAVAILABLE;\n\t\t\t} else {\n\t\t\t\tdict[version] =\n\t\t\t\t\tversion === \"TP\" || version === \"all\" || gte(coerceToString(caniuseBrowser, version), coerceToString(caniuseBrowser, supportedSince))\n\t\t\t\t\t\t? CaniuseSupportKind.AVAILABLE\n\t\t\t\t\t\t: CaniuseSupportKind.UNAVAILABLE;\n\t\t\t}\n\t\t});\n\t\treturn dict;\n\t};\n\n\tconst stats: CaniuseStatsNormalized = {\n\t\t/* eslint-disable @typescript-eslint/naming-convention */\n\t\tand_chr: formatBrowser(\"chrome_android\", \"and_chr\"),\n\t\tchrome: formatBrowser(\"chrome\", \"chrome\"),\n\t\tand_ff: formatBrowser(\"firefox_android\", \"and_ff\"),\n\t\tand_qq: {},\n\t\tand_uc: {},\n\t\tandroid: formatBrowser(\"webview_android\", \"android\"),\n\t\tbaidu: {},\n\t\tbb: {},\n\t\tedge: formatBrowser(\"edge\", \"edge\"),\n\t\tsamsung: formatBrowser(\"samsunginternet_android\", \"samsung\"),\n\t\tie: formatBrowser(\"ie\", \"ie\"),\n\t\tie_mob: formatBrowser(\"ie\", \"ie_mob\"),\n\t\tsafari: formatBrowser(\"safari\", \"safari\"),\n\t\tios_saf: formatBrowser(\"safari_ios\", \"ios_saf\"),\n\t\topera: formatBrowser(\"opera\", \"opera\"),\n\t\top_mini: {},\n\t\top_mob: {},\n\t\tfirefox: formatBrowser(\"firefox\", \"firefox\")\n\t\t/* eslint-enable @typescript-eslint/naming-convention */\n\t};\n\treturn getCaniuseLiteFeatureNormalized(stats, feature);\n}\n\n/**\n * Gets the first version that matches the given CaniuseSupportKind\n *\n * @param kind\n * @param stats\n * @returns\n */\nfunction getFirstVersionWithSupportKind(kind: CaniuseSupportKind, stats: {[key: string]: CaniuseSupportKind}): string | undefined {\n\t// Sort all keys of the object\n\tconst sortedKeys = Object.keys(stats).sort(compareVersions);\n\n\tfor (const key of sortedKeys) {\n\t\tif (stats[key] === kind) {\n\t\t\treturn key;\n\t\t}\n\t}\n\n\treturn undefined;\n}\n\n/**\n * Sorts the given browserslist. Ensures that 'not' expressions come last\n *\n * @param a\n * @param b\n * @returns\n */\nfunction sortBrowserslist(a: string, b: string): number {\n\tif (a.startsWith(\"not\") && !b.startsWith(\"not\")) return 1;\n\tif (!a.startsWith(\"not\") && b.startsWith(\"not\")) return -1;\n\treturn 0;\n}\n\n/**\n * Gets a Map between browser names and the first version of them that supported the given feature\n *\n * @param feature\n * @returns\n */\nexport function getFirstVersionsWithFullSupport(feature: string): Map<CaniuseBrowser, string> {\n\tconst support = getFeatureSupport(feature);\n\t// A map between browser names and their required versions\n\tconst browserMap: Map<CaniuseBrowser, string> = new Map();\n\tObject.entries(support).forEach(([browser, stats]: [CaniuseBrowser, {[key: string]: CaniuseSupportKind}]) => {\n\t\tconst fullSupportVersion = getFirstVersionWithSupportKind(CaniuseSupportKind.AVAILABLE, stats);\n\t\tif (fullSupportVersion != null) {\n\t\t\tbrowserMap.set(browser, fullSupportVersion);\n\t\t}\n\t});\n\treturn browserMap;\n}\n\n/**\n * Gets the Cache key for the given combination of a comparison operator and any amount of features\n *\n * @param comparisonOperator\n * @param features\n */\nfunction getBrowserSupportForFeaturesCacheKey(comparisonOperator: ComparisonOperator, features: string[]): string {\n\treturn `${comparisonOperator}.${features.sort().join(\",\")}`;\n}\n\n/**\n * Common logic for the functions that generate browserslists based on feature support\n *\n * @param comparisonOperator\n * @param features\n * @returns\n */\nfunction browserSupportForFeaturesCommon(comparisonOperator: ComparisonOperator, ...features: string[]): BrowserSupportForFeaturesCommonResult {\n\tconst cacheKey = getBrowserSupportForFeaturesCacheKey(comparisonOperator, features);\n\n\t// First check if the cache has a hit and return it if so\n\tconst cacheHit = browserSupportForFeaturesCache.get(cacheKey);\n\tif (cacheHit != null) {\n\t\treturn cacheHit;\n\t}\n\n\t// All of the generated browser maps\n\tconst browserMaps: Map<CaniuseBrowser, string>[] = [];\n\n\tfor (const feature of features) {\n\t\tconst support = getFeatureSupport(feature);\n\n\t\t// A map between browser names and their required versions\n\t\tconst browserMap: Map<CaniuseBrowser, string> = new Map();\n\t\tObject.entries(support).forEach(([browser, stats]: [CaniuseBrowser, {[key: string]: CaniuseSupportKind}]) => {\n\t\t\tconst fullSupportVersion = getFirstVersionWithSupportKind(CaniuseSupportKind.AVAILABLE, stats);\n\t\t\tconst partialSupportVersion = getFirstVersionWithSupportKind(CaniuseSupportKind.PARTIAL_SUPPORT, stats);\n\t\t\tlet versionToSet: string | undefined;\n\n\t\t\tif (fullSupportVersion != null) {\n\t\t\t\tversionToSet = fullSupportVersion;\n\t\t\t}\n\n\t\t\t// Otherwise, check if partial support exists and should be allowed\n\t\t\tif (partialSupportVersion != null) {\n\t\t\t\t// Get all partial support allowances for this specific feature\n\t\t\t\tconst partialSupportMatch = PARTIAL_SUPPORT_ALLOWANCES.get(feature);\n\n\t\t\t\t// Check if partial support exists for the browser. // If no full supported version exists or if the partial supported version has a lower version number than the full supported one, use that one instead\n\t\t\t\tif (\n\t\t\t\t\tpartialSupportMatch != null &&\n\t\t\t\t\t(partialSupportMatch === \"*\" || partialSupportMatch.includes(browser)) &&\n\t\t\t\t\t(fullSupportVersion == null || compareVersions(partialSupportVersion, fullSupportVersion) < 0)\n\t\t\t\t) {\n\t\t\t\t\tversionToSet = partialSupportVersion;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (versionToSet == null) {\n\t\t\t\t// Apply additional checks depending on the comparison operator\n\t\t\t\tswitch (comparisonOperator) {\n\t\t\t\t\tcase \"<\":\n\t\t\t\t\tcase \"<=\":\n\t\t\t\t\t\t// Add all browsers with no support whatsoever, or those that require prefixing or flags\n\t\t\t\t\t\tversionToSet = \"-1\";\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (versionToSet != null) {\n\t\t\t\tbrowserMap.set(browser, versionToSet);\n\t\t\t}\n\t\t});\n\n\t\tbrowserMaps.push(browserMap);\n\t}\n\n\t// Now, remove all browsers that isn't part of all generated browser maps\n\tfor (const browserMap of browserMaps) {\n\t\tfor (const browser of browserMap.keys()) {\n\t\t\tif (!browserMaps.every(map => map.has(browser))) {\n\t\t\t\t// Delete the browser if it isn't included in all of the browser maps\n\t\t\t\tbrowserMap.delete(browser);\n\t\t\t}\n\t\t}\n\t}\n\n\t// Now, prepare a combined browser map\n\tconst combinedBrowserMap: Map<CaniuseBrowser, string> = new Map();\n\n\tfor (const browserMap of browserMaps) {\n\t\tfor (const [browser, version] of browserMap.entries()) {\n\t\t\t// Take the existing entry from the combined map\n\t\t\tconst existingVersion = combinedBrowserMap.get(browser);\n\t\t\t// The browser should be set in the map if it has no entry already\n\t\t\tconst shouldSet = existingVersion !== \"-1\" && (existingVersion == null || version === \"-1\" || compareVersions(version, existingVersion) >= 0);\n\n\t\t\tif (shouldSet) {\n\t\t\t\t// Set the version in the map\n\t\t\t\tcombinedBrowserMap.set(browser, version);\n\t\t\t}\n\t\t}\n\t}\n\n\t// Finally, generate a string array of the browsers\n\t// Make sure that 'not' expressions come last\n\tconst query: string[] = ([] as string[]).concat\n\t\t.apply(\n\t\t\t[],\n\t\t\tArray.from(combinedBrowserMap.entries()).map(([browser, version]) => {\n\t\t\t\t// The version is not a number, so we can't do comparisons on it.\n\t\t\t\tif (isNaN(parseFloat(version))) {\n\t\t\t\t\tswitch (comparisonOperator) {\n\t\t\t\t\t\tcase \"<\":\n\t\t\t\t\t\tcase \"<=\": {\n\t\t\t\t\t\t\tconst previousVersion = getPreviousVersionOfBrowser(browser, version);\n\t\t\t\t\t\t\treturn [`not ${browser} ${version}`, ...(previousVersion == null ? [] : [`${browser} ${comparisonOperator} ${previousVersion}`])];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcase \">\":\n\t\t\t\t\t\tcase \">=\": {\n\t\t\t\t\t\t\tconst nextVersion = getNextVersionOfBrowser(browser, version);\n\t\t\t\t\t\t\treturn [`${browser} ${version}`, ...(nextVersion == null ? [] : [`${browser} ${comparisonOperator} ${nextVersion}`])];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn parseInt(version) === -1\n\t\t\t\t\t? [\n\t\t\t\t\t\t\t`${comparisonOperator === \">\" || comparisonOperator === \">=\" ? \"not \" : \"\"}${browser} ${browser === \"op_mini\" ? \"all\" : \"> 0\"}`,\n\t\t\t\t\t\t\t`${comparisonOperator === \">\" || comparisonOperator === \">=\" ? \"not \" : \"\"}unreleased ${browser} versions`\n\t\t\t\t\t  ]\n\t\t\t\t\t: [`${browser} ${comparisonOperator} ${version}`];\n\t\t\t})\n\t\t)\n\t\t.sort(sortBrowserslist);\n\tconst returnObject = {\n\t\tquery,\n\t\tbrowsers: new Set(combinedBrowserMap.keys())\n\t};\n\n\t// Store it in the cache before returning it\n\tbrowserSupportForFeaturesCache.set(cacheKey, returnObject);\n\treturn returnObject;\n}\n\n/**\n * Gets the matching CaniuseBrowser for the given UseragentBrowser. Not all are supported, so it may return undefined\n *\n * @param parser\n * @returns\n */\nfunction getCaniuseBrowserForUseragentBrowser(parser: UaParserWrapper): CaniuseBrowser | undefined {\n\tconst browser = parser.getBrowser();\n\tconst device = parser.getDevice();\n\tconst os = parser.getOS();\n\tconst engine = parser.getEngine();\n\n\t// First, if it is a Blackberry device, it will always be the 'bb' browser\n\tif (device.vendor === \"BlackBerry\" || os.name === \"BlackBerry\") {\n\t\treturn \"bb\";\n\t}\n\n\tswitch (browser.name) {\n\t\tcase \"Samsung Browser\":\n\t\t\treturn \"samsung\";\n\n\t\tcase \"Android Browser\": {\n\t\t\t// If the vendor is Samsung, the default browser is Samsung Internet\n\t\t\tif (device.vendor === \"Samsung\") {\n\t\t\t\treturn \"samsung\";\n\t\t\t}\n\n\t\t\t// Default to the stock android browser\n\t\t\treturn \"android\";\n\t\t}\n\n\t\tcase \"WebKit\":\n\t\t\t// This will be the case if we're in an iOS Safari WebView\n\t\t\tif (device.type === \"mobile\" || device.type === \"tablet\" || device.type === \"smarttv\" || device.type === \"wearable\" || device.type === \"embedded\") {\n\t\t\t\treturn \"ios_saf\";\n\t\t\t}\n\t\t\t// Otherwise, fall back to Safari\n\t\t\treturn \"safari\";\n\n\t\tcase \"Baidu\":\n\t\t\treturn \"baidu\";\n\n\t\tcase \"Chrome Headless\":\n\t\tcase \"Chrome WebView\":\n\t\t\treturn \"chrome\";\n\n\t\tcase \"Facebook\":\n\t\t\t// If the OS is iOS, it is actually Safari that drives the WebView\n\t\t\tif (os.name === \"iOS\") {\n\t\t\t\treturn \"ios_saf\";\n\t\t\t}\n\n\t\t\t// Otherwise, we're on Android and inside of a WebView\n\t\t\treturn \"chrome\";\n\n\t\tcase \"Chrome\":\n\t\t\t// Check if the OS is Android, in which case this is actually Chrome for Android. Make it report as regular Chrome\n\t\t\tif (os.name === \"Android\") {\n\t\t\t\treturn \"chrome\";\n\t\t\t}\n\n\t\t\t// If the OS is iOS, it is actually Safari that drives the WebView\n\t\t\telse if (os.name === \"iOS\") {\n\t\t\t\treturn \"ios_saf\";\n\t\t\t}\n\n\t\t\t// Otherwise, fall back to chrome\n\t\t\treturn \"chrome\";\n\n\t\tcase \"Edge\":\n\t\t\treturn \"edge\";\n\n\t\tcase \"Firefox\":\n\t\t\t// Check if the OS is Android, in which case this is actually Firefox for Android.\n\t\t\tif (os.name === \"Android\") {\n\t\t\t\treturn \"and_ff\";\n\t\t\t}\n\n\t\t\t// If the OS is iOS, it is actually Safari that drives the WebView\n\t\t\telse if (os.name === \"iOS\") {\n\t\t\t\treturn \"ios_saf\";\n\t\t\t}\n\n\t\t\t// Default to Firefox\n\t\t\treturn \"firefox\";\n\n\t\tcase \"IE\":\n\t\t\treturn \"ie\";\n\n\t\tcase \"IE Mobile\":\n\t\tcase \"IEMobile\":\n\t\t\treturn \"ie_mob\";\n\n\t\tcase \"Safari\":\n\t\t\treturn \"safari\";\n\n\t\tcase \"Mobile Safari\":\n\t\tcase \"MobileSafari\":\n\t\tcase \"Safari Mobile\":\n\t\tcase \"SafariMobile\":\n\t\t\treturn \"ios_saf\";\n\n\t\tcase \"Opera\":\n\t\t\treturn \"opera\";\n\n\t\tcase \"Opera Mini\":\n\t\t\treturn \"op_mini\";\n\n\t\tcase \"Opera Mobi\":\n\t\t\treturn \"op_mob\";\n\n\t\tcase \"QQBrowser\":\n\t\t\treturn \"and_qq\";\n\n\t\tcase \"UCBrowser\":\n\t\t\treturn \"and_uc\";\n\n\t\tdefault:\n\t\t\tswitch (engine.name) {\n\t\t\t\tcase \"Blink\":\n\t\t\t\t\treturn \"chrome\";\n\t\t\t\tcase \"WebKit\":\n\t\t\t\t\tif (os.name === \"iOS\") {\n\t\t\t\t\t\treturn \"ios_saf\";\n\t\t\t\t\t}\n\t\t\t\t\treturn \"safari\";\n\t\t\t\tcase \"EdgeHTML\":\n\t\t\t\t\treturn \"edge\";\n\t\t\t\tcase \"Presto\":\n\t\t\t\t\treturn \"opera\";\n\t\t\t}\n\t}\n\n\treturn undefined;\n}\n\n/**\n * Normalizes the version of the browser such that it plays well with Caniuse\n */\nfunction getCaniuseVersionForUseragentVersion(\n\tbrowser: CaniuseBrowser,\n\tversion: string,\n\tuseragentBrowser: UseragentBrowser,\n\tuseragentOs: UseragentOs,\n\tuseragentEngine: UseragentEngine\n): string {\n\t// Ensure that we have a normalized version to work with\n\tversion = normalizeBrowserVersion(browser, version);\n\n\t// Always use 'all' with Opera Mini\n\tif (browser === \"op_mini\") {\n\t\treturn \"all\";\n\t} else if (browser === \"safari\") {\n\t\t// Check if there is a newer version of the browser\n\t\tconst nextBrowserVersion = getNextVersionOfBrowser(browser, version);\n\n\t\t// If there isn't we're in the Technology Preview\n\t\tif (nextBrowserVersion == null) {\n\t\t\treturn \"TP\";\n\t\t}\n\t}\n\n\tconst coerced = ensureSemver(browser, version);\n\n\t// Make sure that we have a proper Semver version to work with\n\tif (coerced == null) throw new TypeError(`Could not detect the version of: '${version}' for browser: ${browser}`);\n\n\t// Unpack the semver version\n\tconst {major, minor, patch} = coerced;\n\n\t// Generates a Semver version\n\tconst buildSemverVersion = (majorVersion: number, minorVersion?: number, patchVersion?: number): string =>\n\t\t`${majorVersion}${minorVersion == null || minorVersion === 0 ? \"\" : `.${minorVersion}`}${patchVersion == null || patchVersion === 0 ? \"\" : `.${patchVersion}`}`;\n\n\tswitch (browser) {\n\t\tcase \"chrome\":\n\t\t\tif (useragentEngine.name === \"Blink\") {\n\t\t\t\treturn buildSemverVersion(ensureSemver(browser, useragentEngine.version ?? version).major);\n\t\t\t}\n\t\t\treturn buildSemverVersion(major);\n\t\tcase \"ie\":\n\t\tcase \"ie_mob\":\n\t\tcase \"edge\":\n\t\tcase \"bb\":\n\t\tcase \"and_chr\":\n\t\tcase \"and_ff\":\n\t\t\t// Always use the major version of these browser\n\t\t\treturn buildSemverVersion(major);\n\n\t\tcase \"opera\":\n\t\tcase \"op_mob\":\n\t\t\t// Opera may have minor versions before it went to Chromium. After that, always use major versions\n\t\t\tif (major === 10 || major === 11 || major === 12) {\n\t\t\t\treturn buildSemverVersion(major, minor);\n\t\t\t}\n\n\t\t\t// For anything else, only use the major version\n\t\t\treturn buildSemverVersion(major);\n\n\t\tcase \"ios_saf\": {\n\t\t\t// For browsers that report as iOS safari, they may actually be other browsers using Safari's WebView.\n\t\t\t// We want them to report as iOS safari since they will support the same browsers, but we have to apply\n\t\t\t// some tricks in order to get the version number\n\n\t\t\t// If it is in fact mobile Safari, just use the reported version\n\t\t\tif (useragentBrowser.name === \"Safari\" || useragentBrowser.name === \"Mobile Safari\") {\n\t\t\t\t// iOS may have minor releases, but never patch releases, according to caniuse\n\t\t\t\treturn buildSemverVersion(major, minor);\n\t\t\t}\n\n\t\t\t// Otherwise, try to get the assumed Safari version from the OS version\n\t\t\telse {\n\t\t\t\tif (useragentOs.version == null) throw new ReferenceError(`Could not detect OS version of iOS for ${useragentBrowser.name} on iOS`);\n\t\t\t\t// Decide the Semver version\n\t\t\t\tconst osSemver = ensureSemver(undefined, useragentOs.version);\n\n\t\t\t\t// Use only the main version\n\t\t\t\treturn `${osSemver.major}`;\n\t\t\t}\n\t\t}\n\n\t\tcase \"safari\":\n\t\tcase \"firefox\": {\n\t\t\t// These may have minor releases, but never patch releases, according to caniuse\n\t\t\treturn buildSemverVersion(major, minor);\n\t\t}\n\n\t\tcase \"android\":\n\t\t\t// Up to version 4.4.4, these could include patch releases. After that, only use major versions\n\t\t\tif (major < 4) {\n\t\t\t\treturn buildSemverVersion(major, minor);\n\t\t\t} else if (major === 4) {\n\t\t\t\treturn buildSemverVersion(major, minor, patch);\n\t\t\t} else {\n\t\t\t\treturn buildSemverVersion(major);\n\t\t\t}\n\n\t\tcase \"and_uc\":\n\t\tcase \"samsung\":\n\t\tcase \"and_qq\":\n\t\tcase \"baidu\":\n\t\t\t// These may always contain minor versions\n\t\t\treturn buildSemverVersion(major, minor);\n\n\t\tdefault:\n\t\t\t// For anything else, just use the major version\n\t\t\treturn buildSemverVersion(major);\n\t}\n}\n\n/**\n * Generates a browserslist from the provided useragent string\n *\n * @param useragent\n * @returns\n */\nexport function generateBrowserslistFromUseragent(useragent: string): string[] {\n\t// Check if a user agent has been generated previously for this specific user agent\n\tconst cacheHit = userAgentToBrowserslistCache.get(useragent);\n\tif (cacheHit != null) return cacheHit;\n\n\t// Otherwise, generate a new one\n\tconst parser = new UaParserWrapper(useragent);\n\tconst browser = parser.getBrowser();\n\tconst os = parser.getOS();\n\tconst engine = parser.getEngine();\n\tconst version = browser.version;\n\n\t// Prepare a CaniuseBrowser name from the useragent string\n\tconst browserName = getCaniuseBrowserForUseragentBrowser(parser);\n\n\t// If the browser name or version couldn't be determined, return false immediately\n\tif (browserName == null || version == null) {\n\t\tconsole.log(`No caniuse browser and/or version could be determined for:`);\n\t\tconsole.log(\"os:\", parser.getOS());\n\t\tconsole.log(\"browser:\", parser.getBrowser());\n\t\tconsole.log(\"device:\", parser.getDevice());\n\t\tconsole.log(\"cpu:\", parser.getCPU());\n\t\tconsole.log(\"engine:\", parser.getEngine());\n\t\tuserAgentToBrowserslistCache.set(useragent, []);\n\t\treturn [];\n\t}\n\n\t// Prepare a version from the useragent that plays well with caniuse\n\tconst browserVersion = getCaniuseVersionForUseragentVersion(browserName, version, browser, os, engine);\n\n\t// Prepare a browserslist from the useragent itself\n\tconst normalizedBrowserslist = normalizeBrowserslist([`${browserName} ${browserVersion}`]);\n\n\t// Store it in the cache before returning it\n\tuserAgentToBrowserslistCache.set(useragent, normalizedBrowserslist);\n\treturn normalizedBrowserslist;\n}\n\n/**\n * Generates a browserslist from the provided useragent string and checks if it matches\n * the given browserslist\n */\nexport function matchBrowserslistOnUserAgent(useragent: string, browserslist: string[]): boolean {\n\tconst useragentBrowserslist = generateBrowserslistFromUseragent(useragent);\n\n\t// Pipe the input browserslist through Browserslist to normalize it\n\tconst normalizedInputBrowserslist: string[] = normalizeBrowserslist(browserslist);\n\n\t// Now, compare the two, and if the normalized input browserslist includes every option from the user agent, it is matched\n\treturn useragentBrowserslist.every(option => normalizedInputBrowserslist.includes(option));\n}\n\n/**\n * Returns a key to use for the cache between user agents with feature names and whether or not the user agent supports them\n *\n * @param useragent\n * @param features\n */\nfunction userAgentWithFeaturesCacheKey(useragent: string, features: string[]): string {\n\treturn `${useragent}.${features.join(\",\")}`;\n}\n\n/**\n * Returns true if the given user agent supports the given features\n *\n * @param useragent\n * @param features\n * @returns\n */\nexport function userAgentSupportsFeatures(useragent: string, ...features: string[]): boolean {\n\t// Check if these features has been computed previously for the given user agent\n\tconst cacheKey = userAgentWithFeaturesCacheKey(useragent, features);\n\tconst cacheHit = userAgentWithFeaturesToSupportCache.get(cacheKey);\n\t// If so, return the cache hit\n\tif (cacheHit != null) return cacheHit;\n\n\t// Prepare a browserslist from the useragent itself\n\tconst useragentBrowserslist = generateBrowserslistFromUseragent(useragent);\n\n\t// Prepare a browserslist for browsers that support the given features\n\tconst supportedBrowserslist = normalizeBrowserslist(browsersWithSupportForFeatures(...features));\n\n\t// Now, compare the two, and if the browserslist with supported browsers includes every option from the user agent, the user agent supports all of the given features\n\tconst support = useragentBrowserslist.every(option => supportedBrowserslist.includes(option));\n\n\t// Set it in the cache and return it\n\tuserAgentWithFeaturesToSupportCache.set(cacheKey, support);\n\treturn support;\n}\n"],"names":["_coerce","gt","gte","lte","UAParser","caniuseFeature","caniuseFeatures","get"],"mappings":";;;;;;;;;;;;;AAIA;;;SAGgB,YAAY,CAAC,OAAmC,EAAE,OAAe;IAChF,IAAI,CAAC,OAAO,KAAK,SAAS,IAAI,OAAO,KAAK,SAAS,KAAK,OAAO,KAAK,KAAK,EAAE;QAC1E,OAAOA,aAAO,CAAC,OAAO,CAAE,CAAC;KACzB;SAAM,IAAI,OAAO,KAAK,QAAQ,IAAI,OAAO,KAAK,IAAI,EAAE;QACpD,OAAO,uBAAuB,CAAC;KAC/B;IAED,OAAOA,aAAO,CAAC,OAAO,CAAE,CAAC;AAC1B,CAAC;AAED;;;SAGgB,cAAc,CAAC,OAAuB,EAAE,OAAe;IACtE,OAAO,YAAY,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC,QAAQ,EAAE,CAAC;AAClD;;ACtBA;;;SAGgB,eAAe,CAAC,CAAS,EAAE,CAAS;IACnD,MAAM,WAAW,GAAG,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;IAC7D,MAAM,WAAW,GAAG,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;IAE7D,IAAI,OAAO,WAAW,KAAK,QAAQ,IAAI,OAAO,WAAW,KAAK,QAAQ,EAAE;QACvE,OAAO,CAAC,CAAC;KACT;IAED,IAAI,OAAO,WAAW,KAAK,QAAQ,IAAI,OAAO,WAAW,KAAK,QAAQ,EAAE;QACvE,OAAO,CAAC,CAAC,CAAC;KACV;IAED,IAAI,WAAW,GAAG,WAAW;QAAE,OAAO,CAAC,CAAC,CAAC;IACzC,IAAI,WAAW,GAAG,WAAW;QAAE,OAAO,CAAC,CAAC;IACxC,OAAO,CAAC,CAAC;AACV;;AClBA;;;AAGO,MAAM,gCAAgC,GAAG,oBAAoB;;ACI7D,MAAM,uBAAuB,GAAG,CAAC;IACvC,MAAM,QAAQ,GAAG,wBAAwB,CAAC,QAAQ,CAAC,CAAC;IACpD,MAAM,mBAAmB,GAAG,QAAQ,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;IAC1D,MAAM,OAAO,GAAGA,aAAO,CAAC,mBAAmB,CAAE,CAAC;IAC9C,IAAI,OAAO,CAAC,KAAK,KAAK,CAAC,EAAE;QACxB,OAAOA,aAAO,CAAC,OAAO,CAAC,KAAK,GAAG,CAAC,CAAE,CAAC;KACnC;SAAM;QACN,OAAOA,aAAO,CAAC,GAAG,OAAO,CAAC,KAAK,IAAI,OAAO,CAAC,KAAK,GAAG,CAAC,IAAI,CAAE,CAAC;KAC3D;AACF,CAAC,GAAG,CAAC;AAEL;;;SAGgB,uBAAuB,CAAC,OAAuB,EAAE,YAAoB,EAAE,WAAqB,wBAAwB,CAAC,OAAO,CAAC;IAC5I,MAAM,mBAAmB,GAAG,YAAY,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC;IAChE,MAAM,aAAa,GAAG,yBAAyB,CAAC,OAAO,CAAC,CAAC;IACzD,MAAM,oBAAoB,GAAG,YAAY,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC;IAElE,IAAI,mBAAmB,IAAI,IAAI,IAAI,oBAAoB,IAAI,IAAI,EAAE;QAChE,MAAM,IAAI,SAAS,CAAC,qCAAqC,YAAY,kBAAkB,OAAO,EAAE,CAAC,CAAC;KAClG;IAED,IACC,mBAAmB,CAAC,KAAK,GAAG,oBAAoB,CAAC,KAAK;SACrD,mBAAmB,CAAC,KAAK,KAAK,oBAAoB,CAAC,KAAK,IAAI,mBAAmB,CAAC,KAAK,GAAG,oBAAoB,CAAC,KAAK,CAAC;SACnH,mBAAmB,CAAC,KAAK,KAAK,oBAAoB,CAAC,KAAK,IAAI,mBAAmB,CAAC,KAAK,KAAK,oBAAoB,CAAC,KAAK,IAAI,mBAAmB,CAAC,KAAK,GAAG,oBAAoB,CAAC,KAAK,CAAC,EAC/K;QACD,OAAO,aAAa,CAAC;KACrB;IAED,OAAO,gCAAgC,CAAC,OAAO,EAAE,YAAY,EAAE,QAAQ,CAAC,CAAC;AAC1E,CAAC;AAED;;;SAGgB,gCAAgC,CAAC,OAAuB,EAAE,OAAe,EAAE,WAAqB,wBAAwB,CAAC,OAAO,CAAC;IAChJ,MAAM,OAAO,GAAG,YAAY,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;IAE/C,IAAI,OAAO,KAAK,SAAS,IAAI,OAAO,KAAK,KAAK;QAAE,OAAO,KAAK,CAAC;IAC7D,IAAI,OAAO,KAAK,QAAQ,EAAE;QACzB,IAAI,OAAO,KAAK,IAAI;YAAE,OAAO,IAAI,CAAC;;aAE7B,IAAIC,SAAE,CAAC,YAAY,CAAC,OAAO,EAAE,GAAG,OAAO,CAAC,KAAK,IAAI,OAAO,CAAC,KAAK,EAAE,CAAC,EAAE,YAAY,CAAC,OAAO,EAAE,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAAE,OAAO,IAAI,CAAC;KACnI;IAED,IAAI,SAAS,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;IAE5B,QAAQ,CAAC,OAAO,CAAC,cAAc;QAC9B,MAAM,cAAc,GAAG,YAAY,CAAC,OAAO,EAAE,cAAc,CAAC,CAAC;QAC7D,IAAIC,UAAG,CAAC,OAAO,EAAE,cAAc,CAAC,EAAE;YACjC,SAAS,GAAG,cAAc,CAAC;SAC3B;KACD,CAAC,CAAC;IAEH,OAAO,SAAS,CAAC;AAClB,CAAC;SAEe,0CAA0C,CAAC,OAAuB,EAAE,YAAqB;IACxG,MAAM,QAAQ,GAAa,wBAAwB,CAAC,OAAO,CAAC,CAAC;IAC7D,MAAM,CAAC,YAAY,CAAC,GAAG,QAAQ,CAAC;IAEhC,IAAI,YAAY,IAAI,IAAI,IAAI,YAAY,IAAI,IAAI,EAAE;QACjD,MAAM,kBAAkB,GAAG,YAAY,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC;QAC/D,IAAI,gBAAgB,GAAG,YAAY,CAAC;QACpC,OAAO,IAAI,EAAE;YACZ,MAAM,eAAe,GAAG,YAAY,CAAC,OAAO,EAAE,gBAAgB,CAAC,CAAC;YAChE,IAAID,SAAE,CAAC,kBAAkB,EAAE,eAAe,CAAC,EAAE;gBAC5C,QAAQ,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;gBACnC,gBAAgB,GAAG,MAAM,CAAC,eAAe,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;aACrD;iBAAM;gBACN,MAAM;aACN;SACD;KACD;IACD,OAAO,QAAQ,CAAC;AACjB,CAAC;AAED;;;SAGgB,wBAAwB,CAAC,OAAuB;;IAE/D,MAAM,WAAW,GAAa,YAAY,CAAC,CAAC,OAAO,EAAE,qBAAqB,CAAC,CAAC,CAAC;IAC7E,MAAM,QAAQ,GAAa,EAAE,CAAC;;IAG9B,WAAW,CAAC,OAAO,CAAC,IAAI;QACvB,MAAM,CAAC,cAAc,EAAE,OAAO,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAA6B,CAAC;QAC9E,IAAI,cAAc,KAAK,OAAO;YAAE,OAAO;QAEvC,MAAM,YAAY,GAAG,OAAO,CAAC,KAAK,CAAC,gCAAgC,CAAC,CAAC;QACrE,MAAM,iBAAiB,GAAG,YAAY,IAAI,IAAI,GAAG,OAAO,GAAG,YAAY,CAAC,CAAC,CAAC,CAAC;QAE3E,QAAQ,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;KACjC,CAAC,CAAC;IAEH,OAAO,QAAQ,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;AACvC,CAAC;AAED;;;SAGgB,yBAAyB,CAAC,OAAuB;IAChE,MAAM,QAAQ,GAAG,wBAAwB,CAAC,OAAO,CAAC,CAAC;IACnD,OAAO,QAAQ,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;AACtC,CAAC;AAED;;;SAGgB,yBAAyB,CAAC,OAAuB;IAChE,MAAM,QAAQ,GAAG,wBAAwB,CAAC,OAAO,CAAC,CAAC;IACnD,OAAO,QAAQ,CAAC,CAAC,CAAC,CAAC;AACpB,CAAC;AAED;;;SAGgB,2BAA2B,CAAC,OAAuB,EAAE,OAAe;IACnF,MAAM,QAAQ,GAAG,wBAAwB,CAAC,OAAO,CAAC,CAAC;IACnD,MAAM,cAAc,GAAG,QAAQ,CAAC,OAAO,CAAC,uBAAuB,CAAC,OAAO,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC,CAAC;;IAE7F,IAAI,cAAc,IAAI,CAAC;QAAE,OAAO,SAAS,CAAC;IAC1C,OAAO,QAAQ,CAAC,cAAc,GAAG,CAAC,CAAC,CAAC;AACrC,CAAC;AAED;;;SAGgB,uBAAuB,CAAC,OAAuB,EAAE,OAAe;IAC/E,MAAM,QAAQ,GAAG,wBAAwB,CAAC,OAAO,CAAC,CAAC;IACnD,MAAM,cAAc,GAAG,QAAQ,CAAC,OAAO,CAAC,uBAAuB,CAAC,OAAO,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC,CAAC;;IAE7F,IAAI,cAAc,IAAI,CAAC;QAAE,OAAO,SAAS,CAAC;IAC1C,OAAO,QAAQ,CAAC,cAAc,GAAG,CAAC,CAAC,CAAC;AACrC;;AC9IO,MAAM,YAAY,GAAa;IACrC,mCAAmC;IACnC,2CAA2C;IAC3C,2CAA2C;IAC3C,6CAA6C;IAC7C,qDAAqD;IACrD,gDAAgD;IAChD,iCAAiC;IACjC,8CAA8C;IAC9C,yCAAyC;IACzC,iCAAiC;IACjC,qCAAqC;IACrC,mCAAmC;IACnC,qCAAqC;IACrC,mCAAmC;IACnC,iCAAiC;IACjC,mCAAmC;IACnC,iCAAiC;IACjC,kCAAkC;IAClC,mCAAmC;IACnC,mCAAmC;IACnC,uCAAuC;IACvC,+BAA+B;IAC/B,kCAAkC;IAClC,gCAAgC;IAChC,gCAAgC;IAChC,oCAAoC;IACpC,8BAA8B;IAC9B,sCAAsC;CACtC,CAAC;AAEK,MAAM,eAAe,GAAa;IACxC,GAAG,YAAY;IACf,oBAAoB;IACpB,6BAA6B;IAC7B,2BAA2B;IAC3B,sCAAsC;IACtC,sCAAsC;IACtC,sCAAsC;IACtC,oCAAoC;IACpC,8CAA8C;IAC9C,yCAAyC;IACzC,mCAAmC;IACnC,kEAAkE;IAClE,iEAAiE;IACjE,gEAAgE;CAChE,CAAC;AAEK,MAAM,eAAe,GAAa,CAAC,GAAG,eAAe,EAAE,qCAAqC,EAAE,oCAAoC,CAAC,CAAC;AAEpI,MAAM,eAAe,GAAa;IACxC,GAAG,eAAe;IAClB,mCAAmC;IACnC,mCAAmC;IACnC,oCAAoC;IACpC,sDAAsD;IACtD,qCAAqC;IACrC,mCAAmC;CACnC,CAAC;AAEK,MAAM,eAAe,GAAa,CAAC,GAAG,eAAe,EAAE,uDAAuD,EAAE,qCAAqC,CAAC,CAAC;AAEvJ,MAAM,eAAe,GAAa;IACxC,GAAG,eAAe;IAClB,gCAAgC;IAChC,mCAAmC;IACnC,wCAAwC;IACxC,sCAAsC;IACtC,oCAAoC;IACpC,wCAAwC;IACxC,0DAA0D;IAC1D,wCAAwC;IACxC,wDAAwD;CACxD,CAAC;AAEK,MAAM,eAAe,GAAa,CAAC,GAAG,eAAe,EAAE,qCAAqC,CAAC;;ACxEpG;;;SAGgB,eAAe,CAAC,OAAuB,EAAE,WAA+B,EAAE,KAAc,EAAE,GAAY;IACrH,MAAM,QAAQ,GAAG,wBAAwB,CAAC,OAAO,CAAC,CAAC;IACnD,MAAM,WAAW,GAA4B,EAAE,CAAC;IAEhD,QAAQ,CAAC,OAAO,CAAC,OAAO;QACvB,IAAI,SAAS,GAAG,KAAK,CAAC;QAEtB,IAAI,KAAK,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,EAAE;YACjC,SAAS,GAAG,IAAI,CAAC;SACjB;aAAM,IAAI,KAAK,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,EAAE;YACxC,IAAI,OAAO,KAAK,IAAI,EAAE;gBACrB,SAAS,GAAG,IAAI,CAAC;aACjB;iBAAM,IAAI,OAAO,KAAK,KAAK,EAAE;gBAC7B,SAAS,GAAG,IAAI,CAAC;aACjB;iBAAM;gBACN,SAAS,GAAGC,UAAG,CAAC,cAAc,CAAC,OAAO,EAAE,OAAO,CAAC,EAAE,cAAc,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC,CAAC;aAClF;SACD;aAAM,IAAI,KAAK,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,EAAE;YACxC,IAAI,OAAO,KAAK,IAAI,EAAE;gBACrB,SAAS,GAAG,GAAG,KAAK,IAAI,CAAC;aACzB;iBAAM,IAAI,OAAO,KAAK,KAAK,EAAE;gBAC7B,SAAS,GAAG,IAAI,CAAC;aACjB;iBAAM;gBACN,SAAS,GAAGC,UAAG,CAAC,cAAc,CAAC,OAAO,EAAE,OAAO,CAAC,EAAE,cAAc,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC;aAChF;SACD;aAAM,IAAI,KAAK,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,EAAE;YACxC,IAAI,OAAO,KAAK,IAAI,EAAE;gBACrB,SAAS,GAAG,GAAG,KAAK,IAAI,CAAC;aACzB;iBAAM,IAAI,OAAO,KAAK,KAAK,EAAE;gBAC7B,SAAS,GAAG,IAAI,CAAC;aACjB;iBAAM;gBACN,SAAS,GAAGD,UAAG,CAAC,cAAc,CAAC,OAAO,EAAE,OAAO,CAAC,EAAE,cAAc,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC,IAAIC,UAAG,CAAC,cAAc,CAAC,OAAO,EAAE,OAAO,CAAC,EAAE,cAAc,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC;aACzJ;SACD;QAED,IAAI,SAAS,EAAE;YACd,WAAW,CAAC,IAAI,CAAC;gBAChB,IAAI,EAAE,WAAW;gBACjB,OAAO;aACP,CAAC,CAAC;SACH;KACD,CAAC,CAAC;IACH,OAAO,WAAW,CAAC;AACpB;;AC/CO,MAAM,sBAAsB,GAAuB;;IAEzD,SAAS,EAAE,KAAK,IAAI,KAAK,CAAC,QAAQ,CAAC,+BAA+B,CAAC;IACnE,OAAO,EAAE,KAAK,IAAI,KAAK,CAAC,QAAQ,CAAC,iCAAiC,CAAC;IACnE,QAAQ,EAAE,KAAK,IAAI,KAAK,CAAC,QAAQ,CAAC,6CAA6C,CAAC;IAChF,eAAe,EAAE,KAAK,IAAI,KAAK,CAAC,QAAQ,CAAC,gDAAgD,CAAC;;CAE1F;;ACPD;AAEA;;;MAGa,eAAe;IAM3B,YAA6B,SAAiB;QAAjB,cAAS,GAAT,SAAS,CAAQ;QAC7C,IAAI,CAAC,MAAM,GAAG,IAAIC,mBAAQ,CAAC,SAAS,CAAC,CAAC;KACtC;;;;IAKD,UAAU;QACT,OAAO,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,EAAsB,CAAC,CAAC;KACjF;;;;IAKD,KAAK;QACJ,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK,EAAiB,CAAC;KAC1C;;;;;;IAOD,SAAS;QACR,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,EAAqB,CAAC;KAClD;;;;IAKD,SAAS;QACR,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,EAAqB,CAAC;KAClD;;;;IAKD,MAAM;QACL,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;KAC5B;;;;IAKO,sBAAsB,CAAC,MAAwB;;QAEtD,IAAI,MAAM,CAAC,IAAI,IAAI,IAAI;YAAE,OAAO,MAAM,CAAC;;QAGvC,IAAI,sBAAsB,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE;YACrD,MAAM,CAAC,IAAI,GAAG,QAAQ,CAAC;YACvB,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC;;YAEtB,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC;SACpB;;QAGD,IAAI,sBAAsB,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,sBAAsB,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,sBAAsB,CAAC,eAAe,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE;YAChK,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC;YACnB,MAAM,CAAC,OAAO,GAAG,GAAG,CAAC;;YAErB,MAAM,CAAC,KAAK,GAAG,GAAG,CAAC;SACnB;QAED,OAAO,MAAM,CAAC;KACd;;;ACxDF;;;AAGA,MAAM,4BAA4B,GAA0B,IAAI,GAAG,EAAE,CAAC;AAEtE;;;;AAIA,MAAM,8BAA8B,GAAuD,IAAI,GAAG,EAAE,CAAC;AAErG;;;;AAIA,MAAM,0BAA0B,GAAwC,IAAI,GAAG,EAAE,CAAC;AAElF;;;;AAIA,MAAM,mCAAmC,GAAyB,IAAI,GAAG,EAAE,CAAC;AAE5E;AAEA;;;;AAIA,MAAM,0BAA0B,GAAG,IAAI,GAAG,CAAC;IAC1C,CAAC,aAAa,EAAE,GAAG,CAAC;IACpB,CAAC,mBAAmB,EAAE,GAAG,CAAC;IAC1B,CAAC,eAAe,EAAE,GAAG,CAAC;CACtB,CAAwC,CAAC;AAE1C;;;;;AAKA,MAAM,sBAAsB,GAAqB,CAAC,SAAS,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE,SAAS,CAAC,CAAC;AAC/G,MAAM,gBAAgB,GAAwB,IAAI,GAAG,CAAC,sBAAsB,CAAC,CAAC;AAE9E,MAAM,uCAAuC,GAA6B;;IAEzE,OAAO,EAAE,eAAe,CAAC,SAAS,+BAAgC,GAAG,CAAC;IACtE,MAAM,EAAE,eAAe,CAAC,SAAS,+BAAgC,GAAG,CAAC;IACrE,OAAO,EAAE,eAAe,CAAC,SAAS,+BAAgC,GAAG,CAAC;IACtE,IAAI,EAAE,eAAe,CAAC,MAAM,+BAAgC,IAAI,CAAC;IACjE,OAAO,EAAE,eAAe,CAAC,SAAS,+BAAgC,GAAG,CAAC;IACtE,KAAK,EAAE,eAAe,CAAC,OAAO,+BAAgC,IAAI,CAAC;IACnE,MAAM,EAAE,eAAe,CAAC,QAAQ,+BAAgC,IAAI,CAAC;IACrE,OAAO,EAAE,eAAe,CAAC,SAAS,+BAAgC,GAAG,CAAC;IACtE,MAAM,EAAE,eAAe,CAAC,QAAQ,+BAAgC,GAAG,CAAC;IACpE,MAAM,EAAE,eAAe,CAAC,QAAQ,+BAAgC,GAAG,CAAC;IACpE,OAAO,EAAE,eAAe,CAAC,QAAQ,+BAAgC,GAAG,CAAC;IACrE,EAAE,EAAE,eAAe,CAAC,IAAI,+BAAgC,IAAI,CAAC;IAC7D,OAAO,EAAE,eAAe,CAAC,SAAS,+BAAgC,KAAK,CAAC;IACxE,EAAE,EAAE,eAAe,CAAC,IAAI,+BAAgC,IAAI,CAAC;IAC7D,MAAM,EAAE,eAAe,CAAC,QAAQ,+BAAgC,MAAM,CAAC;IACvE,MAAM,EAAE,eAAe,CAAC,QAAQ,+BAAgC,KAAK,CAAC;IACtE,KAAK,EAAE,eAAe,CAAC,OAAO,+BAAgC,MAAM,CAAC;;CAErE,CAAC;AAEF,MAAM,yCAAyC,GAA6B;;IAE3E,OAAO,EAAE,eAAe,CAAC,SAAS,+BAAgC,IAAI,CAAC;IACvE,MAAM,EAAE,eAAe,CAAC,SAAS,+BAAgC,IAAI,CAAC;IACtE,OAAO,EAAE,eAAe,CAAC,SAAS,+BAAgC,IAAI,CAAC;IACvE,IAAI,EAAE,eAAe,CAAC,MAAM,+BAAgC,IAAI,CAAC;IACjE,OAAO,EAAE,eAAe,CAAC,SAAS,+BAAgC,GAAG,CAAC;IACtE,KAAK,EAAE,eAAe,CAAC,OAAO,+BAAgC,IAAI,CAAC;IACnE,MAAM,EAAE,eAAe,CAAC,QAAQ,+BAAgC,IAAI,CAAC;IACrE,OAAO,EAAE,eAAe,CAAC,SAAS,+BAAgC,IAAI,CAAC;IACvE,MAAM,EAAE,eAAe,CAAC,QAAQ,+BAAgC,IAAI,CAAC;IACrE,MAAM,EAAE,eAAe,CAAC,QAAQ,+BAAgC,IAAI,CAAC;IACrE,OAAO,EAAE,eAAe,CAAC,QAAQ,+BAAgC,IAAI,CAAC;IACtE,EAAE,EAAE,eAAe,CAAC,IAAI,+BAAgC,IAAI,CAAC;IAC7D,MAAM,EAAE,eAAe,CAAC,IAAI,+BAAgC,IAAI,CAAC;;CAEjE,CAAC;AAEF,MAAM,yCAAyC,GAA6B;;IAE3E,OAAO,EAAE,eAAe,CAAC,SAAS,+BAAgC,IAAI,CAAC;IACvE,MAAM,EAAE,eAAe,CAAC,SAAS,+BAAgC,IAAI,CAAC;IACtE,OAAO,EAAE,eAAe,CAAC,SAAS,+BAAgC,IAAI,CAAC;IACvE,IAAI,EAAE,eAAe,CAAC,MAAM,+BAAgC,IAAI,CAAC;IACjE,OAAO,EAAE,eAAe,CAAC,SAAS,+BAAgC,GAAG,CAAC;IACtE,KAAK,EAAE,eAAe,CAAC,OAAO,+BAAgC,IAAI,CAAC;IACnE,MAAM,EAAE,eAAe,CAAC,QAAQ,+BAAgC,IAAI,CAAC;IACrE,OAAO,EAAE,eAAe,CAAC,SAAS,+BAAgC,IAAI,CAAC;IACvE,MAAM,EAAE,eAAe,CAAC,QAAQ,+BAAgC,IAAI,CAAC;IACrE,MAAM,EAAE,eAAe,CAAC,QAAQ,+BAAgC,IAAI,CAAC;IACrE,OAAO,EAAE,eAAe,CAAC,QAAQ,+BAAgC,IAAI,CAAC;;CAEtE,CAAC;AAEF,MAAM,+DAA+D,GAA6B;;IAEjG,OAAO,EAAE,eAAe,CAAC,SAAS,+BAAgC,IAAI,CAAC;IACvE,MAAM,EAAE,eAAe,CAAC,SAAS,+BAAgC,IAAI,CAAC;IACtE,OAAO,EAAE,eAAe,CAAC,SAAS,+BAAgC,IAAI,CAAC;IACvE,IAAI,EAAE,eAAe,CAAC,MAAM,+BAAgC,IAAI,CAAC;IACjE,OAAO,EAAE,eAAe,CAAC,SAAS,+BAAgC,GAAG,CAAC;IACtE,KAAK,EAAE,eAAe,CAAC,OAAO,+BAAgC,IAAI,CAAC;IACnE,MAAM,EAAE,eAAe,CAAC,QAAQ,+BAAgC,IAAI,CAAC;IACrE,OAAO,EAAE,eAAe,CAAC,SAAS,+BAAgC,IAAI,CAAC;IACvE,MAAM,EAAE,eAAe,CAAC,QAAQ,+BAAgC,IAAI,CAAC;IACrE,MAAM,EAAE,eAAe,CAAC,QAAQ,+BAAgC,IAAI,CAAC;IACrE,OAAO,EAAE,eAAe,CAAC,QAAQ,+BAAgC,IAAI,CAAC;;CAEtE,CAAC;AAEF,MAAM,0CAA0C,GAA6B;;IAE5E,OAAO,EAAE,eAAe,CAAC,SAAS,+BAAgC,IAAI,CAAC;IACvE,MAAM,EAAE,eAAe,CAAC,SAAS,+BAAgC,IAAI,CAAC;IACtE,OAAO,EAAE,eAAe,CAAC,SAAS,+BAAgC,IAAI,CAAC;IACvE,IAAI,EAAE,eAAe,CAAC,MAAM,+BAAgC,IAAI,CAAC;IACjE,OAAO,EAAE,eAAe,CAAC,SAAS,+BAAgC,GAAG,CAAC;IACtE,KAAK,EAAE,eAAe,CAAC,OAAO,+BAAgC,IAAI,CAAC;IACnE,MAAM,EAAE,eAAe,CAAC,QAAQ,+BAAgC,IAAI,CAAC;IACrE,OAAO,EAAE,eAAe,CAAC,SAAS,+BAAgC,IAAI,CAAC;IACvE,MAAM,EAAE,eAAe,CAAC,QAAQ,+BAAgC,IAAI,CAAC;IACrE,MAAM,EAAE,eAAe,CAAC,QAAQ,+BAAgC,IAAI,CAAC;IACrE,OAAO,EAAE,eAAe,CAAC,QAAQ,+BAAgC,IAAI,CAAC;;CAEtE,CAAC;AAEF;;;;;;;AAOA,MAAM,yCAAyC,GAAyC;;IAEvF;QACC,MAAM;QACN;YACC,EAAE,EAAE;gBACH;;oBAEC,IAAI;oBACJ,OAAO,EAAE,IAAI;iBACb;aACD;SACD;KACD;IACD;;;QAGC,eAAe;QACf;YACC,MAAM,EAAE,eAAe,CAAC,QAAQ,mCAAkC,GAAG,CAAC;YACtE,OAAO,EAAE,eAAe,CAAC,SAAS,mCAAkC,GAAG,CAAC;SACxE;KACD;IACD;QACC,WAAW;QACX;YACC,IAAI,EAAE;gBACL;;oBAEC,IAAI;oBACJ,OAAO,EAAE,IAAI;iBACb;aACD;YACD,OAAO,EAAE;gBACR;;oBAEC,IAAI;oBACJ,OAAO,EAAE,GAAG;iBACZ;gBACD;;oBAEC,IAAI;oBACJ,OAAO,EAAE,KAAK;iBACd;gBACD;;oBAEC,IAAI;oBACJ,OAAO,EAAE,KAAK;iBACd;aACD;YACD,MAAM,EAAE;gBACP;;oBAEC,IAAI;oBACJ,OAAO,EAAE,GAAG;iBACZ;gBACD;;oBAEC,IAAI;oBACJ,OAAO,EAAE,KAAK;iBACd;aACD;SACD;KACD;IACD,CAAC,qCAAqC,EAAE,yCAAyC,CAAC;IAClF,CAAC,mCAAmC,EAAE,yCAAyC,CAAC;IAChF,CAAC,yCAAyC,EAAE,uCAAuC,CAAC;IACpF,CAAC,2CAA2C,EAAE,yCAAyC,CAAC;IACxF,CAAC,sCAAsC,EAAE,yCAAyC,CAAC;IACnF,CAAC,qCAAqC,EAAE,yCAAyC,CAAC;IAClF,CAAC,uCAAuC,EAAE,yCAAyC,CAAC;IACpF,CAAC,qCAAqC,EAAE,yCAAyC,CAAC;IAClF,CAAC,0CAA0C,EAAE,yCAAyC,CAAC;IACvF,CAAC,wCAAwC,EAAE,yCAAyC,CAAC;IACrF,CAAC,wCAAwC,EAAE,yCAAyC,CAAC;IACrF,CAAC,qCAAqC,EAAE,yCAAyC,CAAC;IAClF,CAAC,4CAA4C,EAAE,yCAAyC,CAAC;IACzF,CAAC,oCAAoC,EAAE,yCAAyC,CAAC;IACjF,CAAC,uCAAuC,EAAE,yCAAyC,CAAC;IACpF,CAAC,4CAA4C,EAAE,yCAAyC,CAAC;IACzF,CAAC,wCAAwC,EAAE,yCAAyC,CAAC;IACrF,CAAC,qCAAqC,EAAE,yCAAyC,CAAC;IAClF,CAAC,qCAAqC,EAAE,yCAAyC,CAAC;IAClF,CAAC,+CAA+C,EAAE,yCAAyC,CAAC;IAC5F,CAAC,yCAAyC,EAAE,yCAAyC,CAAC;IACtF,CAAC,sCAAsC,EAAE,yCAAyC,CAAC;IACnF,CAAC,yCAAyC,EAAE,yCAAyC,CAAC;IACtF,CAAC,qCAAqC,EAAE,+DAA+D,CAAC;IACxG,CAAC,uCAAuC,EAAE,+DAA+D,CAAC;IAC1G,CAAC,wCAAwC,EAAE,+DAA+D,CAAC;IAC3G,CAAC,2CAA2C,EAAE,+DAA+D,CAAC;IAC9G,CAAC,0CAA0C,EAAE,0CAA0C,CAAC;IACxF,CAAC,gCAAgC,EAAE,uCAAuC,CAAC;IAC3E,CAAC,+BAA+B,EAAE,uCAAuC,CAAC;IAC1E,CAAC,gCAAgC,EAAE,uCAAuC,CAAC;IAC3E,CAAC,gCAAgC,EAAE,uCAAuC,CAAC;IAC3E,CAAC,kCAAkC,EAAE,uCAAuC,CAAC;IAC7E,CAAC,kCAAkC,EAAE,uCAAuC,CAAC;IAC7E,CAAC,gCAAgC,EAAE,uCAAuC,CAAC;IAC3E,CAAC,uCAAuC,EAAE,uCAAuC,CAAC;IAClF,CAAC,wCAAwC,EAAE,uCAAuC,CAAC;IACnF,CAAC,wCAAwC,EAAE,uCAAuC,CAAC;IACnF;QACC,uCAAuC;QACvC;YACC,OAAO,EAAE,eAAe,CAAC,QAAQ,+BAAgC,IAAI,CAAC;YACtE,MAAM,EAAE,eAAe,CAAC,QAAQ,+BAAgC,IAAI,CAAC;YACrE,OAAO,EAAE,eAAe,CAAC,SAAS,+BAAgC,IAAI,CAAC;YACvE,IAAI,EAAE,eAAe,CAAC,MAAM,+BAAgC,IAAI,CAAC;YACjE,KAAK,EAAE,eAAe,CAAC,OAAO,+BAAgC,IAAI,CAAC;YACnE,MAAM,EAAE,eAAe,CAAC,QAAQ,+BAAgC,IAAI,CAAC;YACrE,OAAO,EAAE,eAAe,CAAC,SAAS,+BAAgC,IAAI,CAAC;YACvE,MAAM,EAAE,eAAe,CAAC,QAAQ,+BAAgC,IAAI,CAAC;YACrE,MAAM,EAAE,eAAe,CAAC,QAAQ,+BAAgC,GAAG,CAAC;YACpE,OAAO,EAAE,eAAe,CAAC,SAAS,+BAAgC,GAAG,CAAC;YACtE,OAAO,EAAE,eAAe,CAAC,SAAS,+BAAgC,GAAG,CAAC;SACtE;KACD;IACD;QACC,0CAA0C;QAC1C;YACC,OAAO,EAAE,eAAe,CAAC,SAAS,+BAAgC,IAAI,CAAC;YACvE,MAAM,EAAE,eAAe,CAAC,QAAQ,+BAAgC,IAAI,CAAC;YACrE,OAAO,EAAE,eAAe,CAAC,SAAS,+BAAgC,IAAI,CAAC;YACvE,KAAK,EAAE,eAAe,CAAC,OAAO,+BAAgC,IAAI,CAAC;YACnE,MAAM,EAAE,eAAe,CAAC,QAAQ,+BAAgC,IAAI,CAAC;YACrE,OAAO,EAAE,eAAe,CAAC,SAAS,+BAAgC,IAAI,CAAC;YACvE,MAAM,EAAE,eAAe,CAAC,QAAQ,+BAAgC,IAAI,CAAC;YACrE,MAAM,EAAE,eAAe,CAAC,QAAQ,+BAAgC,MAAM,CAAC;YACvE,OAAO,EAAE,eAAe,CAAC,SAAS,+BAAgC,MAAM,CAAC;SACzE;KACD;IACD;QACC,qCAAqC;QACrC;YACC,OAAO,EAAE,eAAe,CAAC,SAAS,+BAAgC,IAAI,CAAC;;YAEvE,MAAM,EAAE,eAAe,CAAC,QAAQ,+BAAgC,IAAI,CAAC;;YAErE,OAAO,EAAE,eAAe,CAAC,SAAS,+BAAgC,IAAI,CAAC;;YAEvE,IAAI,EAAE,eAAe,CAAC,MAAM,+BAAgC,IAAI,CAAC;;YAEjE,OAAO,EAAE,eAAe,CAAC,SAAS,+BAAgC,IAAI,CAAC;;YAEvE,MAAM,EAAE,eAAe,CAAC,QAAQ,+BAAgC,IAAI,CAAC;;YAErE,KAAK,EAAE,eAAe,CAAC,OAAO,+BAAgC,IAAI,CAAC;;YAEnE,MAAM,EAAE,eAAe,CAAC,QAAQ,+BAAgC,IAAI,CAAC;;YAErE,MAAM,EAAE,eAAe,CAAC,QAAQ,+BAAgC,IAAI,CAAC;;YAErE,OAAO,EAAE,eAAe,CAAC,SAAS,+BAAgC,IAAI,CAAC;SACvE;KACD;IACD;QACC,wCAAwC;QACxC;YACC,OAAO,EAAE,eAAe,CAAC,SAAS,+BAAgC,IAAI,CAAC;;YAEvE,MAAM,EAAE,eAAe,CAAC,QAAQ,+BAAgC,IAAI,CAAC;;YAErE,OAAO,EAAE,eAAe,CAAC,SAAS,+BAAgC,IAAI,CAAC;;YAEvE,IAAI,EAAE,eAAe,CAAC,MAAM,8BAA+B;;YAE3D,OAAO,EAAE,eAAe,CAAC,SAAS,+BAAgC,IAAI,CAAC;;YAEvE,MAAM,EAAE,eAAe,CAAC,QAAQ,+BAAgC,IAAI,CAAC;;YAErE,KAAK,EAAE,eAAe,CAAC,OAAO,+BAAgC,IAAI,CAAC;;YAEnE,MAAM,EAAE,eAAe,CAAC,QAAQ,+BAAgC,IAAI,CAAC;;YAErE,MAAM,EAAE,eAAe,CAAC,QAAQ,+BAAgC,IAAI,CAAC;;YAErE,OAAO,EAAE,eAAe,CAAC,SAAS,+BAAgC,IAAI,CAAC;;YAEvE,OAAO,EAAE,eAAe,CAAC,SAAS,8BAA+B;SACjE;KACD;IACD;QACC,OAAO;QACP;YACC,IAAI,EAAE;gBACL;;oBAEC,IAAI;oBACJ,OAAO,EAAE,IAAI;iBACb;aACD;SACD;KACD;IACD;QACC,YAAY;QACZ;YACC,MAAM,EAAE,eAAe,CAAC,QAAQ,mCAAkC,GAAG,EAAE,IAAI,CAAC;YAC5E,MAAM,EAAE,eAAe,CAAC,QAAQ,mCAAkC,GAAG,EAAE,KAAK,CAAC;YAC7E,EAAE,EAAE,eAAe,CAAC,IAAI,mCAAkC,GAAG,EAAE,GAAG,CAAC;YACnE,KAAK,EAAE,eAAe,CAAC,QAAQ,mCAAkC,GAAG,EAAE,MAAM,CAAC;SAC7E;KACD;IACD;QACC,qCAAqC;QACrC;YACC,OAAO,EAAE,eAAe,CAAC,SAAS,mCAAkC,GAAG,EAAE,KAAK,CAAC;SAC/E;KACD;IACD;QACC,gBAAgB;QAChB;YACC,MAAM,EAAE,eAAe,CAAC,QAAQ,mCAAkC,GAAG,CAAC;SACtE;KACD;;CAED,CAAC;AAEF;;;;AAIA,MAAM,uCAAuC,GAA0C,IAAI,GAAG,CAAC,yCAAyC,CAAC,CAAC;AAE1I;;;AAGA,SAAS,eAAe,CAAC,KAAe,EAAE,UAA6B;IACtE,MAAM,oBAAoB,GAAG,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,UAAU,GAAG,CAAC,UAAU,CAAC,CAAC;IACnF,OAAO,CAAC,GAAG,IAAI,GAAG,CAAC,CAAC,GAAG,KAAK,EAAE,GAAG,oBAAoB,CAAC,CAAC,CAAC,CAAC;AAC1D,CAAC;AAED;;;SAGgB,qBAAqB,CAAC,YAA+B;IACpE,OAAO,YAAY,CAAC,YAAY,CAAC,CAAC;AACnC,CAAC;AAED;;;;;;;AAOA,SAAS,iCAAiC,CAAC,KAAe,EAAE,QAAkC;IAC7F,OAAO,eAAe,CACrB,KAAK,EACL,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,OAAO,IAAI,cAAc,OAAO,WAAW,CAAC,CACrE,CAAC;AACH,CAAC;AAED;;;;;;SAMgB,8BAA8B,CAAC,GAAG,QAAkB;IACnE,MAAM,EAAC,KAAK,EAAE,QAAQ,EAAC,GAAG,+BAA+B,CAAC,IAAI,EAAE,GAAG,QAAQ,CAAC,CAAC;IAC7E,OAAO,iCAAiC,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;AAC3D,CAAC;AAED;;;;;SAKgB,+BAA+B,CAAC,YAAsB,EAAE,OAAoB;IAC3F,QAAQ,OAAO;QACd,KAAK,KAAK;;YAET,OAAO,IAAI,CAAC;QAEb,KAAK,KAAK;YACT,OAAO,4BAA4B,CAAC,YAAY,EAAE,GAAG,YAAY,CAAC,CAAC;QAEpE,KAAK,QAAQ;YACZ,OAAO,4BAA4B,CAAC,YAAY,EAAE,GAAG,eAAe,CAAC,CAAC;QAEvE,KAAK,QAAQ;YACZ,OAAO,4BAA4B,CAAC,YAAY,EAAE,GAAG,eAAe,CAAC,CAAC;QAEvE,KAAK,QAAQ;YACZ,OAAO,4BAA4B,CAAC,YAAY,EAAE,GAAG,eAAe,CAAC,CAAC;QAEvE,KAAK,QAAQ;YACZ,OAAO,4BAA4B,CAAC,YAAY,EAAE,GAAG,eAAe,CAAC,CAAC;QAEvE,KAAK,QAAQ;YACZ,OAAO,4BAA4B,CAAC,YAAY,EAAE,GAAG,eAAe,CAAC,CAAC;QAEvE,KAAK,QAAQ;YACZ,OAAO,4BAA4B,CAAC,YAAY,EAAE,GAAG,eAAe,CAAC,CAAC;KACvE;AACF,CAAC;AAED;;;;;;SAMgB,wCAAwC,CAAC,YAAsB;IAC9E,IAAI,+BAA+B,CAAC,YAAY,EAAE,QAAQ,CAAC;QAAE,OAAO,QAAQ,CAAC;IAC7E,IAAI,+BAA+B,CAAC,YAAY,EAAE,QAAQ,CAAC;QAAE,OAAO,QAAQ,CAAC;IAC7E,IAAI,+BAA+B,CAAC,YAAY,EAAE,QAAQ,CAAC;QAAE,OAAO,QAAQ,CAAC;SACxE,IAAI,+BAA+B,CAAC,YAAY,EAAE,QAAQ,CAAC;QAAE,OAAO,QAAQ,CAAC;SAC7E,IAAI,+BAA+B,CAAC,YAAY,EAAE,QAAQ,CAAC;QAAE,OAAO,QAAQ,CAAC;SAC7E,IAAI,+BAA+B,CAAC,YAAY,EAAE,QAAQ,CAAC;QAAE,OAAO,QAAQ,CAAC;SAC7E,IAAI,+BAA+B,CAAC,YAAY,EAAE,KAAK,CAAC;QAAE,OAAO,KAAK,CAAC;;QACvE,OAAO,KAAK,CAAC;AACnB,CAAC;AAED;;;;;;SAMgB,iCAAiC,CAAC,OAAoB;IACrE,QAAQ,OAAO;QACd,KAAK,KAAK;YACT,OAAO,iCAAiC,CAAC,GAAG,YAAY,CAAC,CAAC;QAC3D,KAAK,KAAK;YACT,OAAO,8BAA8B,CAAC,GAAG,YAAY,CAAC,CAAC;QACxD,KAAK,QAAQ;YACZ,OAAO,8BAA8B,CAAC,GAAG,eAAe,CAAC,CAAC;QAC3D,KAAK,QAAQ;YACZ,OAAO,8BAA8B,CAAC,GAAG,eAAe,CAAC,CAAC;QAC3D,KAAK,QAAQ;YACZ,OAAO,8BAA8B,CAAC,GAAG,eAAe,CAAC,CAAC;QAC3D,KAAK,QAAQ;YACZ,OAAO,8BAA8B,CAAC,GAAG,eAAe,CAAC,CAAC;QAC3D,KAAK,QAAQ;YACZ,OAAO,8BAA8B,CAAC,GAAG,eAAe,CAAC,CAAC;QAC3D,KAAK,QAAQ;YACZ,OAAO,8BAA8B,CAAC,GAAG,eAAe,CAAC,CAAC;KAC3D;AACF,CAAC;AAED;;;;;;;SAOgB,4BAA4B,CAAC,YAAsB,EAAE,GAAG,QAAkB;;IAEzF,MAAM,2BAA2B,GAAa,qBAAqB,CAAC,8BAA8B,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC;;IAGjH,MAAM,2BAA2B,GAAa,qBAAqB,CAAC,YAAY,CAAC,CAAC;;;IAIlF,OAAO,2BAA2B,CAAC,KAAK,CAAC,MAAM,IAAI,2BAA2B,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC;AAClG,CAAC;AAED;;;;;;SAMgB,iCAAiC,CAAC,GAAG,QAAkB;IACtE,OAAO,+BAA+B,CAAC,GAAG,EAAE,GAAG,QAAQ,CAAC,CAAC,KAAK,CAAC;AAChE,CAAC;AAED;;;;;;;;;AASA,SAAS,mBAAmB,CAAC,OAAuB,EAAE,OAAe;IACpE,QACC,CAAC,OAAO,KAAK,SAAS,IAAIH,SAAE,CAAC,cAAc,CAAC,OAAO,EAAE,OAAO,CAAC,EAAE,cAAc,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;SAC/F,OAAO,KAAK,QAAQ,IAAIA,SAAE,CAAC,cAAc,CAAC,OAAO,EAAE,OAAO,CAAC,EAAE,cAAc,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC,CAAC;QAC/F,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,EAC5B;AACH,CAAC;AAED;;;;;;;AAOA,SAAS,+BAA+B,CAAC,KAAmB,EAAE,WAAmB;;IAEhF,MAAM,sBAAsB,GAAG,uCAAuC,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;IAExF,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,CAAC,OAA2B;QACtD,MAAM,WAAW,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC;QACnC,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,EAAE,OAAO,CAAmB;YACxE,MAAM,YAAY,GAAG,OAAO,CAAC,KAAK,CAAC,gCAAgC,CAAC,CAAC;YACrE,MAAM,iBAAiB,GAAG,YAAY,IAAI,IAAI,GAAG,OAAO,GAAG,YAAY,CAAC,CAAC,CAAC,CAAC;YAC3E,IAAI,WAA+B,CAAC;YAEpC,IACC,OAAO;gBACP,OAAO;gBACP,OAAO;gBACP,OAAO,gCACN;gBACD,WAAW,GAAG,OAAO,CAAC;aACtB;iBAAM,IAAI,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE;gBACnC,WAAW,+BAAgC;aAC3C;iBAAM,IAAI,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE;gBACnC,WAAW,mCAAkC;aAC7C;iBAAM,IAAI,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE;gBACnC,WAAW,2CAAsC;aACjD;iBAAM;gBACN,WAAW,6BAA+B;aAC1C;;YAGD,IAAI,OAAO,KAAK,iBAAiB,EAAE;gBAClC,OAAO,WAAW,CAAC,OAAO,CAAC,CAAC;aAC5B;YACD,IAAI,OAAO,KAAK,WAAW,EAAE;gBAC5B,WAAW,CAAC,iBAAiB,CAAC,GAAG,WAAW,CAAC;aAC7C;;YAGD,IAAI,sBAAsB,IAAI,IAAI,EAAE;;gBAEnC,MAAM,YAAY,GAAG,sBAAsB,CAAC,OAAO,CAAC,CAAC;gBACrD,IAAI,YAAY,IAAI,IAAI,EAAE;;oBAEzB,YAAY,CAAC,OAAO,CAAC,UAAU;wBAC9B,WAAW,CAAC,UAAU,CAAC,OAAO,CAAC,GAAG,UAAU,CAAC,IAAI,CAAC;qBAClD,CAAC,CAAC;iBACH;aACD;SACD,CAAC,CAAC;KACH,CAAC,CAAC;IAEH,OAAO,KAA+B,CAAC;AACxC,CAAC;AAED;;;;;;AAMA,SAAS,wBAAwB,CAAC,OAAe;IAChD,MAAM,QAAQ,GAAII,mBAAc,CAACC,oBAAe,CAAC,OAAO,CAAC,CAAoB,CAAC,KAAK,CAAC;IAEpF,KAAK,MAAM,OAAO,IAAI,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;QAC5C,MAAM,WAAW,GAAG,QAAQ,CAAC,OAAuC,CAAC,CAAC;QACtE,KAAK,MAAM,OAAO,IAAI,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE;;;YAG/C,IAAI,mBAAmB,CAAC,OAAuC,EAAE,OAAO,CAAC,EAAE;gBAC1E,OAAO,WAAW,CAAC,OAAO,CAAC,CAAC;aAC5B;SACD;KACD;IAED,OAAO,+BAA+B,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;AAC3D,CAAC;AAED;;;;AAIA,SAAS,gBAAgB,CAAC,OAAe;IACxC,OAAOA,oBAAe,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC;AACzC,CAAC;AAED;;;;AAIA,SAAS,YAAY,CAAC,OAAe;IACpC,OAAOC,cAAG,CAAC,UAAU,EAAE,OAAO,CAAC,IAAI,IAAI,CAAC;AACzC,CAAC;AAED;;;;;AAKA,SAAS,kBAAkB,CAAC,OAAe;IAC1C,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,EAAE;QACzD,MAAM,IAAI,SAAS,CAAC,uBAAuB,OAAO,0DAA0D,CAAC,CAAC;KAC9G;AACF,CAAC;AAED;;;;;;AAMA,SAAS,iBAAiB,CAAC,OAAe;;IAEzC,MAAM,QAAQ,GAAG,0BAA0B,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;IACzD,IAAI,QAAQ,IAAI,IAAI;QAAE,OAAO,QAAQ,CAAC;;IAGtC,kBAAkB,CAAC,OAAO,CAAC,CAAC;IAE5B,MAAM,MAAM,GAAG,YAAY,CAAC,OAAO,CAAC,GAAG,oBAAoB,CAAC,OAAO,CAAC,GAAG,wBAAwB,CAAC,OAAO,CAAC,CAAC;;IAGzG,0BAA0B,CAAC,GAAG,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;IAChD,OAAO,MAAM,CAAC;AACf,CAAC;AAED;;;;;;AAMA,SAAS,oBAAoB,CAAC,OAAe;IAC5C,MAAM,KAAK,GAAQA,cAAG,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;IAC5C,MAAM,UAAU,GAAG,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC;IAE1C,MAAM,aAAa,GAAG,CAAC,UAA0B,EAAE,cAA8B;QAChF,MAAM,UAAU,GAAG,UAAU,CAAC,UAAU,CAAC,CAAC;QAC1C,MAAM,YAAY,GACjB,UAAU,IAAI,IAAI;cACf,KAAK;cACL,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC;;oBAEzB,CAAC;wBACD,MAAM,qBAAqB,GAAG,UAAU,CAAC,MAAM,CAAC,OAAO,IAAI,OAAO,CAAC,eAAe,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;wBAC/F,OAAO,qBAAqB,IAAI,IAAI,IAAI,qBAAqB,CAAC,aAAa,IAAI,IAAI,GAAG,KAAK,GAAI,qBAAqB,CAAC,aAAkC,CAAC;qBACvJ,GAAG;kBACJ,UAAU,CAAC,aAAa,CAAC;QAE7B,MAAM,IAAI,GAAwC,EAAE,CAAC;QACrD,MAAM,cAAc,GAAkB,YAAY,KAAK,KAAK,GAAG,IAAI,GAAG,YAAY,KAAK,IAAI,GAAG,yBAAyB,CAAC,cAAc,CAAC,GAAG,YAAY,CAAC;QAEvJ,0CAA0C,CAAC,cAAc,EAAE,OAAO,YAAY,KAAK,QAAQ,GAAG,YAAY,GAAG,SAAS,CAAC,CAAC,OAAO,CAAC,OAAO;;YAEtI,IAAI,cAAc,IAAI,IAAI,EAAE;gBAC3B,IAAI,CAAC,OAAO,CAAC,mCAAkC;aAC/C;iBAAM;gBACN,IAAI,CAAC,OAAO,CAAC;oBACZ,OAAO,KAAK,IAAI,IAAI,OAAO,KAAK,KAAK,IAAIL,UAAG,CAAC,cAAc,CAAC,cAAc,EAAE,OAAO,CAAC,EAAE,cAAc,CAAC,cAAc,EAAE,cAAc,CAAC,CAAC;;0DAEnG;aACnC;SACD,CAAC,CAAC;QACH,OAAO,IAAI,CAAC;KACZ,CAAC;IAEF,MAAM,KAAK,GAA2B;;QAErC,OAAO,EAAE,aAAa,CAAC,gBAAgB,EAAE,SAAS,CAAC;QACnD,MAAM,EAAE,aAAa,CAAC,QAAQ,EAAE,QAAQ,CAAC;QACzC,MAAM,EAAE,aAAa,CAAC,iBAAiB,EAAE,QAAQ,CAAC;QAClD,MAAM,EAAE,EAAE;QACV,MAAM,EAAE,EAAE;QACV,OAAO,EAAE,aAAa,CAAC,iBAAiB,EAAE,SAAS,CAAC;QACpD,KAAK,EAAE,EAAE;QACT,EAAE,EAAE,EAAE;QACN,IAAI,EAAE,aAAa,CAAC,MAAM,EAAE,MAAM,CAAC;QACnC,OAAO,EAAE,aAAa,CAAC,yBAAyB,EAAE,SAAS,CAAC;QAC5D,EAAE,EAAE,aAAa,CAAC,IAAI,EAAE,IAAI,CAAC;QAC7B,MAAM,EAAE,aAAa,CAAC,IAAI,EAAE,QAAQ,CAAC;QACrC,MAAM,EAAE,aAAa,CAAC,QAAQ,EAAE,QAAQ,CAAC;QACzC,OAAO,EAAE,aAAa,CAAC,YAAY,EAAE,SAAS,CAAC;QAC/C,KAAK,EAAE,aAAa,CAAC,OAAO,EAAE,OAAO,CAAC;QACtC,OAAO,EAAE,EAAE;QACX,MAAM,EAAE,EAAE;QACV,OAAO,EAAE,aAAa,CAAC,SAAS,EAAE,SAAS,CAAC;;KAE5C,CAAC;IACF,OAAO,+BAA+B,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;AACxD,CAAC;AAED;;;;;;;AAOA,SAAS,8BAA8B,CAAC,IAAwB,EAAE,KAA0C;;IAE3G,MAAM,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;IAE5D,KAAK,MAAM,GAAG,IAAI,UAAU,EAAE;QAC7B,IAAI,KAAK,CAAC,GAAG,CAAC,KAAK,IAAI,EAAE;YACxB,OAAO,GAAG,CAAC;SACX;KACD;IAED,OAAO,SAAS,CAAC;AAClB,CAAC;AAED;;;;;;;AAOA,SAAS,gBAAgB,CAAC,CAAS,EAAE,CAAS;IAC7C,IAAI,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC;QAAE,OAAO,CAAC,CAAC;IAC1D,IAAI,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC;QAAE,OAAO,CAAC,CAAC,CAAC;IAC3D,OAAO,CAAC,CAAC;AACV,CAAC;AAED;;;;;;SAMgB,+BAA+B,CAAC,OAAe;IAC9D,MAAM,OAAO,GAAG,iBAAiB,CAAC,OAAO,CAAC,CAAC;;IAE3C,MAAM,UAAU,GAAgC,IAAI,GAAG,EAAE,CAAC;IAC1D,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,EAAE,KAAK,CAAwD;QACvG,MAAM,kBAAkB,GAAG,8BAA8B,8BAA+B,KAAK,CAAC,CAAC;QAC/F,IAAI,kBAAkB,IAAI,IAAI,EAAE;YAC/B,UAAU,CAAC,GAAG,CAAC,OAAO,EAAE,kBAAkB,CAAC,CAAC;SAC5C;KACD,CAAC,CAAC;IACH,OAAO,UAAU,CAAC;AACnB,CAAC;AAED;;;;;;AAMA,SAAS,oCAAoC,CAAC,kBAAsC,EAAE,QAAkB;IACvG,OAAO,GAAG,kBAAkB,IAAI,QAAQ,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC;AAC7D,CAAC;AAED;;;;;;;AAOA,SAAS,+BAA+B,CAAC,kBAAsC,EAAE,GAAG,QAAkB;IACrG,MAAM,QAAQ,GAAG,oCAAoC,CAAC,kBAAkB,EAAE,QAAQ,CAAC,CAAC;;IAGpF,MAAM,QAAQ,GAAG,8BAA8B,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;IAC9D,IAAI,QAAQ,IAAI,IAAI,EAAE;QACrB,OAAO,QAAQ,CAAC;KAChB;;IAGD,MAAM,WAAW,GAAkC,EAAE,CAAC;IAEtD,KAAK,MAAM,OAAO,IAAI,QAAQ,EAAE;QAC/B,MAAM,OAAO,GAAG,iBAAiB,CAAC,OAAO,CAAC,CAAC;;QAG3C,MAAM,UAAU,GAAgC,IAAI,GAAG,EAAE,CAAC;QAC1D,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,EAAE,KAAK,CAAwD;YACvG,MAAM,kBAAkB,GAAG,8BAA8B,8BAA+B,KAAK,CAAC,CAAC;YAC/F,MAAM,qBAAqB,GAAG,8BAA8B,0CAAqC,KAAK,CAAC,CAAC;YACxG,IAAI,YAAgC,CAAC;YAErC,IAAI,kBAAkB,IAAI,IAAI,EAAE;gBAC/B,YAAY,GAAG,kBAAkB,CAAC;aAClC;;YAGD,IAAI,qBAAqB,IAAI,IAAI,EAAE;;gBAElC,MAAM,mBAAmB,GAAG,0BAA0B,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;;gBAGpE,IACC,mBAAmB,IAAI,IAAI;qBAC1B,mBAAmB,KAAK,GAAG,IAAI,mBAAmB,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;qBACrE,kBAAkB,IAAI,IAAI,IAAI,eAAe,CAAC,qBAAqB,EAAE,kBAAkB,CAAC,GAAG,CAAC,CAAC,EAC7F;oBACD,YAAY,GAAG,qBAAqB,CAAC;iBACrC;aACD;YAED,IAAI,YAAY,IAAI,IAAI,EAAE;;gBAEzB,QAAQ,kBAAkB;oBACzB,KAAK,GAAG,CAAC;oBACT,KAAK,IAAI;;wBAER,YAAY,GAAG,IAAI,CAAC;iBACrB;aACD;YAED,IAAI,YAAY,IAAI,IAAI,EAAE;gBACzB,UAAU,CAAC,GAAG,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC;aACtC;SACD,CAAC,CAAC;QAEH,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;KAC7B;;IAGD,KAAK,MAAM,UAAU,IAAI,WAAW,EAAE;QACrC,KAAK,MAAM,OAAO,IAAI,UAAU,CAAC,IAAI,EAAE,EAAE;YACxC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,IAAI,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,EAAE;;gBAEhD,UAAU,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;aAC3B;SACD;KACD;;IAGD,MAAM,kBAAkB,GAAgC,IAAI,GAAG,EAAE,CAAC;IAElE,KAAK,MAAM,UAAU,IAAI,WAAW,EAAE;QACrC,KAAK,MAAM,CAAC,OAAO,EAAE,OAAO,CAAC,IAAI,UAAU,CAAC,OAAO,EAAE,EAAE;;YAEtD,MAAM,eAAe,GAAG,kBAAkB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;;YAExD,MAAM,SAAS,GAAG,eAAe,KAAK,IAAI,KAAK,eAAe,IAAI,IAAI,IAAI,OAAO,KAAK,IAAI,IAAI,eAAe,CAAC,OAAO,EAAE,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC;YAE9I,IAAI,SAAS,EAAE;;gBAEd,kBAAkB,CAAC,GAAG,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;aACzC;SACD;KACD;;;IAID,MAAM,KAAK,GAAc,EAAe,CAAC,MAAM;SAC7C,KAAK,CACL,EAAE,EACF,KAAK,CAAC,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,OAAO,EAAE,OAAO,CAAC;;QAE/D,IAAI,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,EAAE;YAC/B,QAAQ,kBAAkB;gBACzB,KAAK,GAAG,CAAC;gBACT,KAAK,IAAI,EAAE;oBACV,MAAM,eAAe,GAAG,2BAA2B,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;oBACtE,OAAO,CAAC,OAAO,OAAO,IAAI,OAAO,EAAE,EAAE,IAAI,eAAe,IAAI,IAAI,GAAG,EAAE,GAAG,CAAC,GAAG,OAAO,IAAI,kBAAkB,IAAI,eAAe,EAAE,CAAC,CAAC,CAAC,CAAC;iBAClI;gBACD,KAAK,GAAG,CAAC;gBACT,KAAK,IAAI,EAAE;oBACV,MAAM,WAAW,GAAG,uBAAuB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;oBAC9D,OAAO,CAAC,GAAG,OAAO,IAAI,OAAO,EAAE,EAAE,IAAI,WAAW,IAAI,IAAI,GAAG,EAAE,GAAG,CAAC,GAAG,OAAO,IAAI,kBAAkB,IAAI,WAAW,EAAE,CAAC,CAAC,CAAC,CAAC;iBACtH;aACD;SACD;QACD,OAAO,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;cAC5B;gBACA,GAAG,kBAAkB,KAAK,GAAG,IAAI,kBAAkB,KAAK,IAAI,GAAG,MAAM,GAAG,EAAE,GAAG,OAAO,IAAI,OAAO,KAAK,SAAS,GAAG,KAAK,GAAG,KAAK,EAAE;gBAC/H,GAAG,kBAAkB,KAAK,GAAG,IAAI,kBAAkB,KAAK,IAAI,GAAG,MAAM,GAAG,EAAE,cAAc,OAAO,WAAW;aACzG;cACD,CAAC,GAAG,OAAO,IAAI,kBAAkB,IAAI,OAAO,EAAE,CAAC,CAAC;KACnD,CAAC,CACF;SACA,IAAI,CAAC,gBAAgB,CAAC,CAAC;IACzB,MAAM,YAAY,GAAG;QACpB,KAAK;QACL,QAAQ,EAAE,IAAI,GAAG,CAAC,kBAAkB,CAAC,IAAI,EAAE,CAAC;KAC5C,CAAC;;IAGF,8BAA8B,CAAC,GAAG,CAAC,QAAQ,EAAE,YAAY,CAAC,CAAC;IAC3D,OAAO,YAAY,CAAC;AACrB,CAAC;AAED;;;;;;AAMA,SAAS,oCAAoC,CAAC,MAAuB;IACpE,MAAM,OAAO,GAAG,MAAM,CAAC,UAAU,EAAE,CAAC;IACpC,MAAM,MAAM,GAAG,MAAM,CAAC,SAAS,EAAE,CAAC;IAClC,MAAM,EAAE,GAAG,MAAM,CAAC,KAAK,EAAE,CAAC;IAC1B,MAAM,MAAM,GAAG,MAAM,CAAC,SAAS,EAAE,CAAC;;IAGlC,IAAI,MAAM,CAAC,MAAM,KAAK,YAAY,IAAI,EAAE,CAAC,IAAI,KAAK,YAAY,EAAE;QAC/D,OAAO,IAAI,CAAC;KACZ;IAED,QAAQ,OAAO,CAAC,IAAI;QACnB,KAAK,iBAAiB;YACrB,OAAO,SAAS,CAAC;QAElB,KAAK,iBAAiB,EAAE;;YAEvB,IAAI,MAAM,CAAC,MAAM,KAAK,SAAS,EAAE;gBAChC,OAAO,SAAS,CAAC;aACjB;;YAGD,OAAO,SAAS,CAAC;SACjB;QAED,KAAK,QAAQ;;YAEZ,IAAI,MAAM,CAAC,IAAI,KAAK,QAAQ,IAAI,MAAM,CAAC,IAAI,KAAK,QAAQ,IAAI,MAAM,CAAC,IAAI,KAAK,SAAS,IAAI,MAAM,CAAC,IAAI,KAAK,UAAU,IAAI,MAAM,CAAC,IAAI,KAAK,UAAU,EAAE;gBAClJ,OAAO,SAAS,CAAC;aACjB;;YAED,OAAO,QAAQ,CAAC;QAEjB,KAAK,OAAO;YACX,OAAO,OAAO,CAAC;QAEhB,KAAK,iBAAiB,CAAC;QACvB,KAAK,gBAAgB;YACpB,OAAO,QAAQ,CAAC;QAEjB,KAAK,UAAU;;YAEd,IAAI,EAAE,CAAC,IAAI,KAAK,KAAK,EAAE;gBACtB,OAAO,SAAS,CAAC;aACjB;;YAGD,OAAO,QAAQ,CAAC;QAEjB,KAAK,QAAQ;;YAEZ,IAAI,EAAE,CAAC,IAAI,KAAK,SAAS,EAAE;gBAC1B,OAAO,QAAQ,CAAC;aAChB;;iBAGI,IAAI,EAAE,CAAC,IAAI,KAAK,KAAK,EAAE;gBAC3B,OAAO,SAAS,CAAC;aACjB;;YAGD,OAAO,QAAQ,CAAC;QAEjB,KAAK,MAAM;YACV,OAAO,MAAM,CAAC;QAEf,KAAK,SAAS;;YAEb,IAAI,EAAE,CAAC,IAAI,KAAK,SAAS,EAAE;gBAC1B,OAAO,QAAQ,CAAC;aAChB;;iBAGI,IAAI,EAAE,CAAC,IAAI,KAAK,KAAK,EAAE;gBAC3B,OAAO,SAAS,CAAC;aACjB;;YAGD,OAAO,SAAS,CAAC;QAElB,KAAK,IAAI;YACR,OAAO,IAAI,CAAC;QAEb,KAAK,WAAW,CAAC;QACjB,KAAK,UAAU;YACd,OAAO,QAAQ,CAAC;QAEjB,KAAK,QAAQ;YACZ,OAAO,QAAQ,CAAC;QAEjB,KAAK,eAAe,CAAC;QACrB,KAAK,cAAc,CAAC;QACpB,KAAK,eAAe,CAAC;QACrB,KAAK,cAAc;YAClB,OAAO,SAAS,CAAC;QAElB,KAAK,OAAO;YACX,OAAO,OAAO,CAAC;QAEhB,KAAK,YAAY;YAChB,OAAO,SAAS,CAAC;QAElB,KAAK,YAAY;YAChB,OAAO,QAAQ,CAAC;QAEjB,KAAK,WAAW;YACf,OAAO,QAAQ,CAAC;QAEjB,KAAK,WAAW;YACf,OAAO,QAAQ,CAAC;QAEjB;YACC,QAAQ,MAAM,CAAC,IAAI;gBAClB,KAAK,OAAO;oBACX,OAAO,QAAQ,CAAC;gBACjB,KAAK,QAAQ;oBACZ,IAAI,EAAE,CAAC,IAAI,KAAK,KAAK,EAAE;wBACtB,OAAO,SAAS,CAAC;qBACjB;oBACD,OAAO,QAAQ,CAAC;gBACjB,KAAK,UAAU;oBACd,OAAO,MAAM,CAAC;gBACf,KAAK,QAAQ;oBACZ,OAAO,OAAO,CAAC;aAChB;KACF;IAED,OAAO,SAAS,CAAC;AAClB,CAAC;AAED;;;AAGA,SAAS,oCAAoC,CAC5C,OAAuB,EACvB,OAAe,EACf,gBAAkC,EAClC,WAAwB,EACxB,eAAgC;;;IAGhC,OAAO,GAAG,uBAAuB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;;IAGpD,IAAI,OAAO,KAAK,SAAS,EAAE;QAC1B,OAAO,KAAK,CAAC;KACb;SAAM,IAAI,OAAO,KAAK,QAAQ,EAAE;;QAEhC,MAAM,kBAAkB,GAAG,uBAAuB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;;QAGrE,IAAI,kBAAkB,IAAI,IAAI,EAAE;YAC/B,OAAO,IAAI,CAAC;SACZ;KACD;IAED,MAAM,OAAO,GAAG,YAAY,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;;IAG/C,IAAI,OAAO,IAAI,IAAI;QAAE,MAAM,IAAI,SAAS,CAAC,qCAAqC,OAAO,kBAAkB,OAAO,EAAE,CAAC,CAAC;;IAGlH,MAAM,EAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAC,GAAG,OAAO,CAAC;;IAGtC,MAAM,kBAAkB,GAAG,CAAC,YAAoB,EAAE,YAAqB,EAAE,YAAqB,KAC7F,GAAG,YAAY,GAAG,YAAY,IAAI,IAAI,IAAI,YAAY,KAAK,CAAC,GAAG,EAAE,GAAG,IAAI,YAAY,EAAE,GAAG,YAAY,IAAI,IAAI,IAAI,YAAY,KAAK,CAAC,GAAG,EAAE,GAAG,IAAI,YAAY,EAAE,EAAE,CAAC;IAEjK,QAAQ,OAAO;QACd,KAAK,QAAQ;YACZ,IAAI,eAAe,CAAC,IAAI,KAAK,OAAO,EAAE;gBACrC,OAAO,kBAAkB,CAAC,YAAY,CAAC,OAAO,QAAE,eAAe,CAAC,OAAO,mCAAI,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC;aAC3F;YACD,OAAO,kBAAkB,CAAC,KAAK,CAAC,CAAC;QAClC,KAAK,IAAI,CAAC;QACV,KAAK,QAAQ,CAAC;QACd,KAAK,MAAM,CAAC;QACZ,KAAK,IAAI,CAAC;QACV,KAAK,SAAS,CAAC;QACf,KAAK,QAAQ;;YAEZ,OAAO,kBAAkB,CAAC,KAAK,CAAC,CAAC;QAElC,KAAK,OAAO,CAAC;QACb,KAAK,QAAQ;;YAEZ,IAAI,KAAK,KAAK,EAAE,IAAI,KAAK,KAAK,EAAE,IAAI,KAAK,KAAK,EAAE,EAAE;gBACjD,OAAO,kBAAkB,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;aACxC;;YAGD,OAAO,kBAAkB,CAAC,KAAK,CAAC,CAAC;QAElC,KAAK,SAAS,EAAE;;;;;YAMf,IAAI,gBAAgB,CAAC,IAAI,KAAK,QAAQ,IAAI,gBAAgB,CAAC,IAAI,KAAK,eAAe,EAAE;;gBAEpF,OAAO,kBAAkB,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;aACxC;;iBAGI;gBACJ,IAAI,WAAW,CAAC,OAAO,IAAI,IAAI;oBAAE,MAAM,IAAI,cAAc,CAAC,0CAA0C,gBAAgB,CAAC,IAAI,SAAS,CAAC,CAAC;;gBAEpI,MAAM,QAAQ,GAAG,YAAY,CAAC,SAAS,EAAE,WAAW,CAAC,OAAO,CAAC,CAAC;;gBAG9D,OAAO,GAAG,QAAQ,CAAC,KAAK,EAAE,CAAC;aAC3B;SACD;QAED,KAAK,QAAQ,CAAC;QACd,KAAK,SAAS,EAAE;;YAEf,OAAO,kBAAkB,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;SACxC;QAED,KAAK,SAAS;;YAEb,IAAI,KAAK,GAAG,CAAC,EAAE;gBACd,OAAO,kBAAkB,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;aACxC;iBAAM,IAAI,KAAK,KAAK,CAAC,EAAE;gBACvB,OAAO,kBAAkB,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;aAC/C;iBAAM;gBACN,OAAO,kBAAkB,CAAC,KAAK,CAAC,CAAC;aACjC;QAEF,KAAK,QAAQ,CAAC;QACd,KAAK,SAAS,CAAC;QACf,KAAK,QAAQ,CAAC;QACd,KAAK,OAAO;;YAEX,OAAO,kBAAkB,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;QAEzC;;YAEC,OAAO,kBAAkB,CAAC,KAAK,CAAC,CAAC;KAClC;AACF,CAAC;AAED;;;;;;SAMgB,iCAAiC,CAAC,SAAiB;;IAElE,MAAM,QAAQ,GAAG,4BAA4B,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;IAC7D,IAAI,QAAQ,IAAI,IAAI;QAAE,OAAO,QAAQ,CAAC;;IAGtC,MAAM,MAAM,GAAG,IAAI,eAAe,CAAC,SAAS,CAAC,CAAC;IAC9C,MAAM,OAAO,GAAG,MAAM,CAAC,UAAU,EAAE,CAAC;IACpC,MAAM,EAAE,GAAG,MAAM,CAAC,KAAK,EAAE,CAAC;IAC1B,MAAM,MAAM,GAAG,MAAM,CAAC,SAAS,EAAE,CAAC;IAClC,MAAM,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC;;IAGhC,MAAM,WAAW,GAAG,oCAAoC,CAAC,MAAM,CAAC,CAAC;;IAGjE,IAAI,WAAW,IAAI,IAAI,IAAI,OAAO,IAAI,IAAI,EAAE;QAC3C,OAAO,CAAC,GAAG,CAAC,4DAA4D,CAAC,CAAC;QAC1E,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC;QACnC,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,MAAM,CAAC,UAAU,EAAE,CAAC,CAAC;QAC7C,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,MAAM,CAAC,SAAS,EAAE,CAAC,CAAC;QAC3C,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC;QACrC,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,MAAM,CAAC,SAAS,EAAE,CAAC,CAAC;QAC3C,4BAA4B,CAAC,GAAG,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;QAChD,OAAO,EAAE,CAAC;KACV;;IAGD,MAAM,cAAc,GAAG,oCAAoC,CAAC,WAAW,EAAE,OAAO,EAAE,OAAO,EAAE,EAAE,EAAE,MAAM,CAAC,CAAC;;IAGvG,MAAM,sBAAsB,GAAG,qBAAqB,CAAC,CAAC,GAAG,WAAW,IAAI,cAAc,EAAE,CAAC,CAAC,CAAC;;IAG3F,4BAA4B,CAAC,GAAG,CAAC,SAAS,EAAE,sBAAsB,CAAC,CAAC;IACpE,OAAO,sBAAsB,CAAC;AAC/B,CAAC;AAED;;;;SAIgB,4BAA4B,CAAC,SAAiB,EAAE,YAAsB;IACrF,MAAM,qBAAqB,GAAG,iCAAiC,CAAC,SAAS,CAAC,CAAC;;IAG3E,MAAM,2BAA2B,GAAa,qBAAqB,CAAC,YAAY,CAAC,CAAC;;IAGlF,OAAO,qBAAqB,CAAC,KAAK,CAAC,MAAM,IAAI,2BAA2B,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC;AAC5F,CAAC;AAED;;;;;;AAMA,SAAS,6BAA6B,CAAC,SAAiB,EAAE,QAAkB;IAC3E,OAAO,GAAG,SAAS,IAAI,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC;AAC7C,CAAC;AAED;;;;;;;SAOgB,yBAAyB,CAAC,SAAiB,EAAE,GAAG,QAAkB;;IAEjF,MAAM,QAAQ,GAAG,6BAA6B,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;IACpE,MAAM,QAAQ,GAAG,mCAAmC,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;;IAEnE,IAAI,QAAQ,IAAI,IAAI;QAAE,OAAO,QAAQ,CAAC;;IAGtC,MAAM,qBAAqB,GAAG,iCAAiC,CAAC,SAAS,CAAC,CAAC;;IAG3E,MAAM,qBAAqB,GAAG,qBAAqB,CAAC,8BAA8B,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC;;IAGjG,MAAM,OAAO,GAAG,qBAAqB,CAAC,KAAK,CAAC,MAAM,IAAI,qBAAqB,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC;;IAG9F,mCAAmC,CAAC,GAAG,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;IAC3D,OAAO,OAAO,CAAC;AAChB;;;;;;;;;;;;;;"}