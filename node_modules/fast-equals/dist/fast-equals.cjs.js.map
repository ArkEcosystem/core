{"version":3,"file":"fast-equals.cjs.js","sources":["../src/constants.js","../src/utils.js","../src/comparator.js","../src/index.js"],"sourcesContent":["/**\n * @constant {boolean} HAS_MAP_SUPPORT\n */\nexport const HAS_MAP_SUPPORT = typeof Map === 'function';\n\n/**\n * @constant {boolean} HAS_SET_SUPPORT\n */\nexport const HAS_SET_SUPPORT = typeof Set === 'function';\n\n/**\n * @constant {boolean} HAS_WEAKSET_SUPPORT\n */\nexport const HAS_WEAKSET_SUPPORT = typeof WeakSet === 'function';\n","// constants\nimport {HAS_WEAKSET_SUPPORT} from './constants';\n\nconst keys = Object.keys;\n\n/**\n * @function addObjectToCache\n *\n * @description\n * add object to cache if it is indeed an object\n *\n * @param {any} object the object to potentially add to the cache\n * @param {Object|WeakSet} cache the cache to add to\n * @returns {void}\n */\nexport const addObjectToCache = (object, cache) => object && typeof object === 'object' && cache.add(object);\n\n/**\n *\n * @param {Array<Array<any>>} pairs the pairs to check in\n * @param {Array<any>} pairToMatch the pair to check if exists\n * @param {function} isEqual the equality comparator\n * @param {any} meta the meta item to pass through\n * @returns {boolean} does the pair exist in the pairs\n */\nexport const hasPair = (pairs, pairToMatch, isEqual, meta) => {\n  let pair;\n\n  for (let index = 0; index < pairs.length; index++) {\n    pair = pairs[index];\n\n    if (isEqual(pair[0], pairToMatch[0], meta) && isEqual(pair[1], pairToMatch[1], meta)) {\n      return true;\n    }\n  }\n\n  return false;\n};\n\n/**\n * @function hasValue\n *\n * @description\n * does the values include the vakye passed\n *\n * @param {Array<any>} values the values to check in\n * @param {any} item the value to locate\n * @param {function} isEqual the equality comparator\n * @param {any} meta the meta item to pass through\n * @returns {boolean} does the value exist in the values\n */\nexport const hasValue = (values, item, isEqual, meta) => {\n  for (let index = 0; index < values.length; index++) {\n    if (isEqual(values[index], item, meta)) {\n      return true;\n    }\n  }\n\n  return false;\n};\n\n/**\n * @function sameValueZeroEqual\n *\n * @description\n * are the objects passed strictly equal or both NaN\n *\n * @param {any} objectA the object to compare against\n * @param {any} objectB the object to test\n * @returns {boolean} are the objects equal by the SameValueZero principle\n */\nexport const sameValueZeroEqual = (objectA, objectB) =>\n  objectA === objectB || (objectA !== objectA && objectB !== objectB);\n\n/**\n * @function isPlainObject\n *\n * @description\n * is the object a plain object\n *\n * @param {any} object the object to test\n * @returns {boolean} is the object a plain object\n */\nexport const isPlainObject = (object) => object.constructor === Object;\n\n/**\n * @function isPromiseLike\n *\n * @description\n * is the object promise-like (thenable)\n *\n * @param {any} object the object to test\n * @returns {boolean} is the object promise-like\n */\nexport const isPromiseLike = (object) => typeof object.then === 'function';\n\n/**\n * @function isReactElement\n *\n * @description\n * is the object passed a react element\n *\n * @param {any} object the object to test\n * @returns {boolean} is the object a react element\n */\nexport const isReactElement = (object) => !!(object.$$typeof && object._store);\n\n/**\n * @function getNewCache\n *\n * @description\n * get a new cache object to prevent circular references\n *\n * @returns {Object|Weakset} the new cache object\n */\nexport const getNewCache = () =>\n  HAS_WEAKSET_SUPPORT\n    ? new WeakSet()\n    : Object.create({\n      _values: [],\n      add(value) {\n        this._values.push(value);\n      },\n      has(value) {\n        return !!~this._values.indexOf(value);\n      },\n    });\n\n/**\n * @function createCircularEqual\n *\n * @description\n * create a custom isEqual handler specific to circular objects\n *\n * @param {funtion} [isEqual] the isEqual comparator to use instead of isDeepEqual\n * @returns {function(any, any): boolean}\n */\nexport const createCircularEqual = (isEqual) => (isDeepEqual) => {\n  const comparator = isEqual || isDeepEqual;\n\n  return (objectA, objectB, cache = getNewCache()) => {\n    const cacheHasA = cache.has(objectA);\n    const cacheHasB = cache.has(objectB);\n\n    if (cacheHasA || cacheHasB) {\n      return cacheHasA && cacheHasB;\n    }\n\n    addObjectToCache(objectA, cache);\n    addObjectToCache(objectB, cache);\n\n    return comparator(objectA, objectB, cache);\n  };\n};\n\n/**\n * @function toPairs\n *\n * @param {Map} map the map to convert to [key, value] pairs (entries)\n * @returns {Array<Array<*>>} the [key, value] pairs\n */\nexport const toPairs = (map) => {\n  const pairs = [];\n\n  map.forEach((value, key) => pairs.push([key, value]));\n\n  return pairs;\n};\n\n/**\n * @function toValues\n *\n * @param {Set} set the set to convert to values\n * @returns {Array<*>} the values\n */\nexport const toValues = (set) => {\n  const values = [];\n\n  set.forEach((value) => values.push(value));\n\n  return values;\n};\n\n/**\n * @function areArraysEqual\n *\n * @description\n * are the arrays equal in value\n *\n * @param {Array<any>} arrayA the array to test\n * @param {Array<any>} arrayB the array to test against\n * @param {function} isEqual the comparator to determine equality\n * @param {any} meta the meta object to pass through\n * @returns {boolean} are the arrays equal\n */\nexport const areArraysEqual = (arrayA, arrayB, isEqual, meta) => {\n  if (arrayA.length !== arrayB.length) {\n    return false;\n  }\n\n  for (let index = 0; index < arrayA.length; index++) {\n    if (!isEqual(arrayA[index], arrayB[index], meta)) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\n/**\n * @function areMapsEqual\n *\n * @description\n * are the maps equal in value\n *\n * @param {Map} mapA the map to test\n * @param {Map} mapB the map to test against\n * @param {function} isEqual the comparator to determine equality\n * @param {any} meta the meta map to pass through\n * @returns {boolean} are the maps equal\n */\nexport const areMapsEqual = (mapA, mapB, isEqual, meta) => {\n  if (mapA.size !== mapB.size) {\n    return false;\n  }\n\n  const pairsA = toPairs(mapA);\n  const pairsB = toPairs(mapB);\n\n  for (let index = 0; index < pairsA.length; index++) {\n    if (!hasPair(pairsB, pairsA[index], isEqual, meta) || !hasPair(pairsA, pairsB[index], isEqual, meta)) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\n/**\n * @function areObjectsEqual\n *\n * @description\n * are the objects equal in value\n *\n * @param {Object} objectA the object to test\n * @param {Object} objectB the object to test against\n * @param {function} isEqual the comparator to determine equality\n * @param {any} meta the meta object to pass through\n * @returns {boolean} are the objects equal\n */\nexport const areObjectsEqual = (objectA, objectB, isEqual, meta) => {\n  const keysA = keys(objectA);\n  const keysB = keys(objectB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  let key;\n\n  for (let index = 0; index < keysA.length; index++) {\n    key = keysA[index];\n\n    if (!hasValue(keysB, key, sameValueZeroEqual)) {\n      return false;\n    }\n\n    // if a react element, ignore the \"_owner\" key because its not necessary for equality comparisons\n    if (key === '_owner' && isReactElement(objectA) && isReactElement(objectB)) {\n      continue;\n    }\n\n    if (!isEqual(objectA[key], objectB[key], meta)) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\n/**\n * @function areRegExpsEqual\n *\n * @description\n * are the regExps equal in value\n *\n * @param {RegExp} regExpA the regExp to test\n * @param {RegExp} regExpB the regExp to test agains\n * @returns {boolean} are the regExps equal\n */\nexport const areRegExpsEqual = (regExpA, regExpB) =>\n  regExpA.source === regExpB.source\n  && regExpA.global === regExpB.global\n  && regExpA.ignoreCase === regExpB.ignoreCase\n  && regExpA.multiline === regExpB.multiline\n  && regExpA.unicode === regExpB.unicode\n  && regExpA.sticky === regExpB.sticky\n  && regExpA.lastIndex === regExpB.lastIndex;\n\n/**\n * @function areSetsEqual\n *\n * @description\n * are the sets equal in value\n *\n * @param {Set} setA the set to test\n * @param {Set} setB the set to test against\n * @param {function} isEqual the comparator to determine equality\n * @param {any} meta the meta set to pass through\n * @returns {boolean} are the sets equal\n */\nexport const areSetsEqual = (setA, setB, isEqual, meta) => {\n  if (setA.size !== setB.size) {\n    return false;\n  }\n\n  const valuesA = toValues(setA);\n  const valuesB = toValues(setB);\n\n  for (let index = 0; index < valuesA.length; index++) {\n    if (!hasValue(valuesB, valuesA[index], isEqual, meta) || !hasValue(valuesA, valuesB[index], isEqual, meta)) {\n      return false;\n    }\n  }\n\n  return true;\n};\n","// constants\nimport {\n  HAS_MAP_SUPPORT,\n  HAS_SET_SUPPORT,\n} from './constants';\n\n// utils\nimport {\n  areArraysEqual,\n  areMapsEqual,\n  areObjectsEqual,\n  areRegExpsEqual,\n  areSetsEqual,\n  isPlainObject,\n  isPromiseLike,\n  sameValueZeroEqual,\n} from './utils';\n\nconst isArray = Array.isArray;\n\nconst createComparator = (createIsEqual) => {\n  // eslint-disable-next-line no-use-before-define\n  const isEqual = typeof createIsEqual === 'function' ? createIsEqual(comparator) : comparator;\n\n  /**\n   * @function comparator\n   *\n   * @description\n   * compare the value of the two objects and return true if they are equivalent in values\n   *\n   * @param {any} objectA the object to test against\n   * @param {any} objectB the object to test\n   * @param {any} [meta] an optional meta object that is passed through to all equality test calls\n   * @returns {boolean} are objectA and objectB equivalent in value\n   */\n  function comparator(objectA, objectB, meta) {\n    if (sameValueZeroEqual(objectA, objectB)) {\n      return true;\n    }\n\n    const typeOfA = typeof objectA;\n\n    if (typeOfA !== typeof objectB || typeOfA !== 'object' || !objectA || !objectB) {\n      return false;\n    }\n\n    if (isPlainObject(objectA) && isPlainObject(objectB)) {\n      return areObjectsEqual(objectA, objectB, isEqual, meta);\n    }\n\n    const arrayA = isArray(objectA);\n    const arrayB = isArray(objectB);\n\n    if (arrayA || arrayB) {\n      return arrayA === arrayB && areArraysEqual(objectA, objectB, isEqual, meta);\n    }\n\n    const dateA = objectA instanceof Date;\n    const dateB = objectB instanceof Date;\n\n    if (dateA || dateB) {\n      return dateA === dateB && sameValueZeroEqual(objectA.getTime(), objectB.getTime());\n    }\n\n    const regexpA = objectA instanceof RegExp;\n    const regexpB = objectB instanceof RegExp;\n\n    if (regexpA || regexpB) {\n      return regexpA === regexpB && areRegExpsEqual(objectA, objectB);\n    }\n\n    if (isPromiseLike(objectA) || isPromiseLike(objectB)) {\n      return objectA === objectB;\n    }\n\n    if (HAS_MAP_SUPPORT) {\n      const mapA = objectA instanceof Map;\n      const mapB = objectB instanceof Map;\n\n      if (mapA || mapB) {\n        return mapA === mapB && areMapsEqual(objectA, objectB, isEqual, meta);\n      }\n    }\n\n    if (HAS_SET_SUPPORT) {\n      const setA = objectA instanceof Set;\n      const setB = objectB instanceof Set;\n\n      if (setA || setB) {\n        return setA === setB && areSetsEqual(objectA, objectB, isEqual, meta);\n      }\n    }\n\n    return areObjectsEqual(objectA, objectB, isEqual, meta);\n  }\n\n  return comparator;\n};\n\nexport default createComparator;\n","// comparator\nimport createCustomEqual from './comparator';\n\n// utils\nimport {\n  createCircularEqual,\n  sameValueZeroEqual,\n} from './utils';\n\nexport {\n  createCustomEqual, sameValueZeroEqual,\n};\n\nexport const circularDeepEqual = createCustomEqual(createCircularEqual());\nexport const circularShallowEqual = createCustomEqual(createCircularEqual(sameValueZeroEqual));\nexport const deepEqual = createCustomEqual();\nexport const shallowEqual = createCustomEqual(() => sameValueZeroEqual);\n\nexport default {\n  circularDeep: circularDeepEqual,\n  circularShallow: circularShallowEqual,\n  createCustom: createCustomEqual,\n  deep: deepEqual,\n  sameValueZero: sameValueZeroEqual,\n  shallow: shallowEqual,\n};\n"],"names":["HAS_MAP_SUPPORT","Map","HAS_SET_SUPPORT","Set","HAS_WEAKSET_SUPPORT","WeakSet","keys","Object","addObjectToCache","object","cache","add","hasPair","pairs","pairToMatch","isEqual","meta","pair","index","length","hasValue","values","item","sameValueZeroEqual","objectA","objectB","isPlainObject","constructor","isPromiseLike","then","isReactElement","$$typeof","_store","getNewCache","create","_values","value","push","has","indexOf","createCircularEqual","isDeepEqual","comparator","cacheHasA","cacheHasB","toPairs","map","forEach","key","toValues","set","areArraysEqual","arrayA","arrayB","areMapsEqual","mapA","mapB","size","pairsA","pairsB","areObjectsEqual","keysA","keysB","areRegExpsEqual","regExpA","regExpB","source","global","ignoreCase","multiline","unicode","sticky","lastIndex","areSetsEqual","setA","setB","valuesA","valuesB","isArray","Array","createComparator","createIsEqual","typeOfA","dateA","Date","dateB","getTime","regexpA","RegExp","regexpB","circularDeepEqual","createCustomEqual","circularShallowEqual","deepEqual","shallowEqual","circularDeep","circularShallow","createCustom","deep","sameValueZero","shallow"],"mappings":"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"}