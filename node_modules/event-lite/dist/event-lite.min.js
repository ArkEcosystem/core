function EventLite(){return this instanceof EventLite?void 0:new EventLite}!function(e){function n(e){for(var n in o)e[n]=o[n];return e}function t(e,n){return f(this,e).push(n),this}function i(e,n){function t(){r.call(i,e,t),n.apply(this,arguments)}var i=this;return t.originalListener=n,f(i,e).push(t),i}function r(e,n){function t(e){return e!==n&&e.originalListener!==n}var i,u=this;if(arguments.length){if(n){if(i=f(u,e,!0)){if(i=i.filter(t),!i.length)return r.call(u,e);u[l][e]=i}}else if(i=u[l],i&&(delete i[e],!Object.keys(i).length))return r.call(u)}else delete u[l];return u}function u(e,n){function t(e){e.call(u)}function i(e){e.call(u,n)}function r(e){e.apply(u,a)}var u=this,l=f(u,e,!0);if(!l)return!1;var o=arguments.length;if(1===o)l.forEach(t);else if(2===o)l.forEach(i);else{var a=Array.prototype.slice.call(arguments,1);l.forEach(r)}return!!l.length}function f(e,n,t){if(!t||e[l]){var i=e[l]||(e[l]={});return i[n]||(i[n]=[])}}"undefined"!=typeof module&&(module.exports=e);var l="listeners",o={on:t,once:i,off:r,emit:u};n(e.prototype),e.mixin=n}(EventLite);