{"version":3,"file":"controller.js","sourceRoot":"","sources":["../../../src/handlers/peers/controller.ts"],"names":[],"mappings":"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"}